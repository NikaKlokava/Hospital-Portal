"use strict";(self.webpackChunkhospital_portal=self.webpackChunkhospital_portal||[]).push([[179],{8104:(vt,Pe,V)=>{V.d(Pe,{KQ:()=>gf,JS:()=>Ha});var h=V(4650),Z=V(4986),U=V(9751),le=V(9646),ae=V(6451),ue=V(4004),me=V(3099),_e=V(3900),ve=V(5026),te=V(4671),ne=V(4482),se=V(5403);function Ge(s,r){return s===r}var tt=V(8421),Et=V(5032),Ae=V(3269),Je=V(4976),ze=V(2011),Be=(V(2644),V(3942)),rt=V(4859),We=V(5861),st=V(6881),L=V(2090),kt=V(1877);const mt="@firebase/database";let ft="";function Kt(s){ft=s}class Hn{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,L.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,L.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Sr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,L.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Xr=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const r=window[s];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Hn(r)}}catch{}return new Sr},De=Xr("localStorage"),Te=Xr("sessionStorage"),Me=new kt.Yd("@firebase/database"),we=function(){let s=1;return function(){return s++}}(),Ve=function(s){const r=(0,L.dS)(s),i=new L.gQ;i.update(r);const u=i.digest();return L.US.encodeByteArray(u)},$e=function(...s){let r="";for(let i=0;i<s.length;i++){const u=s[i];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?r+=$e.apply(null,u):r+="object"==typeof u?(0,L.Wl)(u):u,r+=" "}return r};let It=null,wt=!0;const fn=function(s,r){(0,L.hu)(!r||!0===s||!1===s,"Can't turn on custom loggers persistently."),!0===s?(Me.logLevel=kt.in.VERBOSE,It=Me.log.bind(Me),r&&Te.set("logging_enabled",!0)):"function"==typeof s?It=s:(It=null,Te.remove("logging_enabled"))},at=function(...s){if(!0===wt&&(wt=!1,null===It&&!0===Te.get("logging_enabled")&&fn(!0)),It){const r=$e.apply(null,s);It(r)}},Qt=function(s){return function(...r){at(s,...r)}},In=function(...s){const r="FIREBASE INTERNAL ERROR: "+$e(...s);Me.error(r)},qn=function(...s){const r=`FIREBASE FATAL ERROR: ${$e(...s)}`;throw Me.error(r),new Error(r)},Lt=function(...s){const r="FIREBASE WARNING: "+$e(...s);Me.warn(r)},_t=function(s){return"number"==typeof s&&(s!=s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},jn="[MIN_NAME]",gn="[MAX_NAME]",Dt=function(s,r){if(s===r)return 0;if(s===jn||r===gn)return-1;if(r===jn||s===gn)return 1;{const i=pr(s),u=pr(r);return null!==i?null!==u?i-u==0?s.length-r.length:i-u:-1:null!==u?1:s<r?-1:1}},Dn=function(s,r){return s===r?0:s<r?-1:1},$n=function(s,r){if(r&&s in r)return r[s];throw new Error("Missing required key ("+s+") in object: "+(0,L.Wl)(r))},nr=function(s){if("object"!=typeof s||null===s)return(0,L.Wl)(s);const r=[];for(const u in s)r.push(u);r.sort();let i="{";for(let u=0;u<r.length;u++)0!==u&&(i+=","),i+=(0,L.Wl)(r[u]),i+=":",i+=nr(s[r[u]]);return i+="}",i},Ir=function(s,r){const i=s.length;if(i<=r)return[s];const u=[];for(let p=0;p<i;p+=r)u.push(s.substring(p,p+r>i?i:p+r));return u};function On(s,r){for(const i in s)s.hasOwnProperty(i)&&r(i,s[i])}const un=function(s){(0,L.hu)(!_t(s),"Invalid JSON number");const u=1023;let p,I,P,B,K;0===s?(I=0,P=0,p=1/s==-1/0?1:0):(p=s<0,(s=Math.abs(s))>=Math.pow(2,1-u)?(B=Math.min(Math.floor(Math.log(s)/Math.LN2),u),I=B+u,P=Math.round(s*Math.pow(2,52-B)-Math.pow(2,52))):(I=0,P=Math.round(s/Math.pow(2,-1074))));const ee=[];for(K=52;K;K-=1)ee.push(P%2?1:0),P=Math.floor(P/2);for(K=11;K;K-=1)ee.push(I%2?1:0),I=Math.floor(I/2);ee.push(p?1:0),ee.reverse();const ke=ee.join("");let Fe="";for(K=0;K<64;K+=8){let Ze=parseInt(ke.substr(K,8),2).toString(16);1===Ze.length&&(Ze="0"+Ze),Fe+=Ze}return Fe.toLowerCase()},ei=new RegExp("^-?(0*)\\d{1,10}$"),pr=function(s){if(ei.test(s)){const r=Number(s);if(r>=-2147483648&&r<=2147483647)return r}return null},Nn=function(s){try{s()}catch(r){setTimeout(()=>{throw Lt("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ti=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mn=function(s,r){const i=setTimeout(s,r);return"number"==typeof i&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class bi{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(u=>this.appCheck=u)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,u)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,u):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(u=>u.addTokenListener(r))}notifyForInvalidToken(){Lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class on{constructor(r,i,u){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(p=>this.auth_=p)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,u)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,u):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lt(r)}}let rr=(()=>{class s{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return s.OWNER="owner",s})();const yn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J="websocket",de="long_polling";class je{constructor(r,i,u,p,I=!1,P="",B=!1,K=!1){this.secure=i,this.namespace=u,this.webSocketOnly=p,this.nodeAdmin=I,this.persistenceKey=P,this.includeNamespaceInQueryParams=B,this.isUsingEmulator=K,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=De.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&De.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nt(s,r,i){let u;if((0,L.hu)("string"==typeof r,"typeof type must == string"),(0,L.hu)("object"==typeof i,"typeof params must == object"),r===J)u=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else{if(r!==de)throw new Error("Unknown connection type: "+r);u=(s.secure?"https://":"http://")+s.internalHost+"/.lp?"}(function Ee(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams})(s)&&(i.ns=s.namespace);const p=[];return On(i,(I,P)=>{p.push(I+"="+P)}),u+p.join("&")}class he{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,L.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,L.p$)(this.counters_)}}const ie={},q={};function ye(s){const r=s.toString();return ie[r]||(ie[r]=new he),ie[r]}class Xe{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<u.length;++p)u[p]&&Nn(()=>{this.onMessage_(u[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gr{constructor(r,i,u,p,I,P,B){this.connId=r,this.repoInfo=i,this.applicationId=u,this.appCheckToken=p,this.authToken=I,this.transportSessionId=P,this.lastSessionId=B,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qt(r),this.stats_=ye(i),this.urlFn=K=>(this.appCheckToken&&(K.ac=this.appCheckToken),nt(i,de,K))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Xe(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(s){if((0,L.Yr)()||"complete"===document.readyState)s();else{let r=!1;const i=function(){document.body?r||(r=!0,s()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ri((...I)=>{const[P,B,K,ee,ke]=I;if(this.incrementIncomingBytes_(I),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=B,this.password=K;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);B?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(B,()=>{this.onClosed_()})):this.onClosed_()}},(...I)=>{const[P,B]=I;this.incrementIncomingBytes_(I),this.myPacketOrderer.handleResponse(P,B)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&yn.test(location.hostname)&&(u.r="f");const p=this.urlFn(u);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gr.forceAllow_=!0}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!gr.forceAllow_&&(gr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,L.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const u=(0,L.h$)(i),p=Ir(u,1840);for(let I=0;I<p.length;I++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[I]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=r,u.pw=i,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,L.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ri{constructor(r,i,u,p){if(this.onDisconnect=u,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=we(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=ri.createIFrame_();let I="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(I='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+I+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(B){at("frame writing exception"),B.stack&&at(B.stack),at(B)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||at("No IE domain setting required")}catch{const u=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),u="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const P=this.pendingSegs.shift();u=u+"&seg"+p+"="+P.seg+"&ts"+p+"="+P.ts+"&d"+p+"="+P.d,p++}return i+=u,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,u){this.pendingSegs.push({seg:r,ts:i,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const u=()=>{this.outstandingRequests.delete(i),this.newRequest_()},p=setTimeout(u,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(p),u()})}addTag(r,i){(0,L.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=r,u.onload=u.onreadystatechange=function(){const p=u.readyState;(!p||"loaded"===p||"complete"===p)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),i())},u.onerror=()=>{at("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let En=null;typeof MozWebSocket<"u"?En=MozWebSocket:typeof WebSocket<"u"&&(En=WebSocket);let Ar=(()=>{class s{constructor(i,u,p,I,P,B,K){this.connId=i,this.applicationId=p,this.appCheckToken=I,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qt(this.connId),this.stats_=ye(u),this.connURL=s.connectionURL_(u,B,K,I,p),this.nodeAdmin=u.nodeAdmin}static connectionURL_(i,u,p,I,P){const B={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&yn.test(location.hostname)&&(B.r="f"),u&&(B.s=u),p&&(B.ls=p),I&&(B.ac=I),P&&(B.p=P),nt(i,J,B)}open(i,u){this.onDisconnect=u,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,De.set("previous_websocket_failure",!0);try{let p;if((0,L.Yr)()){p={headers:{"User-Agent":`Firebase/5/${ft}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,B=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;B&&(p.proxy={origin:B})}this.mySock=new En(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const I=p.message||p.data;return I&&this.log_(I),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const I=p.message||p.data;I&&this.log_(I),this.onClosed_()}}start(){}static forceDisallow(){s.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(i=!0)}return!i&&null!==En&&!s.forceDisallow_}static previouslyFailed(){return De.isInMemoryStorage||!0===De.get("previous_websocket_failure")}markConnectionHealthy(){De.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const p=(0,L.cI)(u);this.onMessage(p)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const u=Number(i);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const u=i.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const p=this.extractFrameCount_(u);null!==p&&this.appendFrame_(p)}}send(i){this.resetKeepAlive();const u=(0,L.Wl)(i);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const p=Ir(u,16384);p.length>1&&this.sendString_(String(p.length));for(let I=0;I<p.length;I++)this.sendString_(p[I])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return s.responsesRequiredToBeHealthy=2,s.healthyTimeout=3e4,s})(),Cn=(()=>{class s{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[gr,Ar]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const u=Ar&&Ar.isAvailable();let p=u&&!Ar.previouslyFailed();if(i.webSocketOnly&&(u||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Ar];else{const I=this.transports_=[];for(const P of s.ALL_TRANSPORTS)P&&P.isAvailable()&&I.push(P);s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return s.globalTransportInitialized_=!1,s})();class $i{constructor(r,i,u,p,I,P,B,K,ee,ke){this.id=r,this.repoInfo_=i,this.applicationId_=u,this.appCheckToken_=p,this.authToken_=I,this.onMessage_=P,this.onReady_=B,this.onDisconnect_=K,this.onKill_=ee,this.lastSessionId=ke,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qt("c:"+this.id+":"),this.transportManager_=new Cn(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,u)},Math.floor(0));const p=r.healthyTimeout||0;p>0&&(this.healthyTimeout_=mn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=$n("t",r),u=$n("d",r);if("c"===i)this.onSecondaryControl_(u);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=$n("t",r),u=$n("d",r);"c"===i?this.onControl_(u):"d"===i&&this.onDataMessage_(u)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=$n("t",r);if("d"in r){const u=r.d;if("h"===i){const p=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(u):"r"===i?this.onReset_(u):"e"===i?In("Server Error: "+u):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):In("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,u=r.v,p=r.h;this.sessionId=r.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==u&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,u),mn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(De.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mr{put(r,i,u,p){}merge(r,i,u,p){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,u){}onDisconnectMerge(r,i,u){}onDisconnectCancel(r,i){}reportStats(r){}}class Vn{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,L.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const u=[...this.listeners_[r]];for(let p=0;p<u.length;p++)u[p].callback.apply(u[p].context,i)}}on(r,i,u){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:u});const p=this.getInitialEvent(r);p&&i.apply(u,p)}off(r,i,u){this.validateEventType_(r);const p=this.listeners_[r]||[];for(let I=0;I<p.length;I++)if(p[I].callback===i&&(!u||u===p[I].context))return void p.splice(I,1)}validateEventType_(r){(0,L.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class Ur extends Vn{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ur}getInitialEvent(r){return(0,L.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}const To=32,Uo=768;class dn{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let u=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[u]=this.pieces_[p],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function nn(){return new dn("")}function Wt(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Kn(s){return s.pieces_.length-s.pieceNum_}function bn(s){let r=s.pieceNum_;return r<s.pieces_.length&&r++,new dn(s.pieces_,r)}function Rr(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function Wi(s,r=0){return s.pieces_.slice(s.pieceNum_+r)}function eo(s){if(s.pieceNum_>=s.pieces_.length)return null;const r=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)r.push(s.pieces_[i]);return new dn(r,0)}function Un(s,r){const i=[];for(let u=s.pieceNum_;u<s.pieces_.length;u++)i.push(s.pieces_[u]);if(r instanceof dn)for(let u=r.pieceNum_;u<r.pieces_.length;u++)i.push(r.pieces_[u]);else{const u=r.split("/");for(let p=0;p<u.length;p++)u[p].length>0&&i.push(u[p])}return new dn(i,0)}function Ht(s){return s.pieceNum_>=s.pieces_.length}function _r(s,r){const i=Wt(s),u=Wt(r);if(null===i)return r;if(i===u)return _r(bn(s),bn(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+s+")")}function vi(s,r){const i=Wi(s,0),u=Wi(r,0);for(let p=0;p<i.length&&p<u.length;p++){const I=Dt(i[p],u[p]);if(0!==I)return I}return i.length===u.length?0:i.length<u.length?-1:1}function co(s,r){if(Kn(s)!==Kn(r))return!1;for(let i=s.pieceNum_,u=r.pieceNum_;i<=s.pieces_.length;i++,u++)if(s.pieces_[i]!==r.pieces_[u])return!1;return!0}function si(s,r){let i=s.pieceNum_,u=r.pieceNum_;if(Kn(s)>Kn(r))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==r.pieces_[u])return!1;++i,++u}return!0}class fi{constructor(r,i){this.errorPrefix_=i,this.parts_=Wi(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,L.ug)(this.parts_[u]);Zs(this)}}function Zs(s){if(s.byteLength_>Uo)throw new Error(s.errorPrefix_+"has a key path longer than "+Uo+" bytes ("+s.byteLength_+").");if(s.parts_.length>To)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+To+") or object contains a cycle "+Ai(s))}function Ai(s){return 0===s.parts_.length?"":"in property '"+s.parts_.join(".")+"'"}class Ys extends Vn{constructor(){let r,i;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const u=!document[r];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Ys}getInitialEvent(r){return(0,L.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Br=1e3;let Pr,Dr=(()=>{class s extends mr{constructor(i,u,p,I,P,B,K,ee){if(super(),this.repoInfo_=i,this.applicationId_=u,this.onDataUpdate_=p,this.onConnectStatus_=I,this.onServerInfoUpdate_=P,this.authTokenProvider_=B,this.appCheckTokenProvider_=K,this.authOverride_=ee,this.id=s.nextPersistentConnectionId_++,this.log_=Qt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Br,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ee&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ys.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&Ur.getInstance().on("online",this.onOnline_,this)}sendRequest(i,u,p){const I=++this.requestNumber_,P={r:I,a:i,b:u};this.log_((0,L.Wl)(P)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),p&&(this.requestCBHash_[I]=p)}get(i){this.initConnection_();const u=new L.BH,I={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:B=>{const K=B.d;"ok"===B.s?u.resolve(K):u.reject(K)}};return this.outstandingGets_.push(I),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(i,u,p,I){this.initConnection_();const P=i._queryIdentifier,B=i._path.toString();this.log_("Listen called for "+B+" "+P),this.listens.has(B)||this.listens.set(B,new Map),(0,L.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(B).has(P),"listen() called twice for same path/queryId.");const K={onComplete:I,hashFn:u,query:i,tag:p};this.listens.get(B).set(P,K),this.connected_&&this.sendListen_(K)}sendGet_(i){const u=this.outstandingGets_[i];this.sendRequest("g",u.request,p=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(p)})}sendListen_(i){const u=i.query,p=u._path.toString(),I=u._queryIdentifier;this.log_("Listen on "+p+" for "+I);const P={p};i.tag&&(P.q=u._queryObject,P.t=i.tag),P.h=i.hashFn(),this.sendRequest("q",P,K=>{const ee=K.d,ke=K.s;s.warnOnListenWarnings_(ee,u),(this.listens.get(p)&&this.listens.get(p).get(I))===i&&(this.log_("listen response",K),"ok"!==ke&&this.removeListen_(p,I),i.onComplete&&i.onComplete(ke,ee))})}static warnOnListenWarnings_(i,u){if(i&&"object"==typeof i&&(0,L.r3)(i,"w")){const p=(0,L.DV)(i,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const I='".indexOn": "'+u._queryParams.getIndex().toString()+'"',P=u._path.toString();Lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${I} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,L.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,u=(0,L.w9)(i)?"auth":"gauth",p={cred:i};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(u,p,I=>{const P=I.s,B=I.d||"error";this.authToken_===i&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,B))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const u=i.s,p=i.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,p)})}unlisten(i,u){const p=i._path.toString(),I=i._queryIdentifier;this.log_("Unlisten called for "+p+" "+I),(0,L.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,I)&&this.connected_&&this.sendUnlisten_(p,I,i._queryObject,u)}sendUnlisten_(i,u,p,I){this.log_("Unlisten on "+i+" for "+u);const P={p:i};I&&(P.q=p,P.t=I),this.sendRequest("n",P)}onDisconnectPut(i,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,u,p):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:u,onComplete:p})}onDisconnectMerge(i,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,u,p):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:u,onComplete:p})}onDisconnectCancel(i,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,u):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(i,u,p,I){const P={p:u,d:p};this.log_("onDisconnect "+i,P),this.sendRequest(i,P,B=>{I&&setTimeout(()=>{I(B.s,B.d)},Math.floor(0))})}put(i,u,p,I){this.putInternal("p",i,u,p,I)}merge(i,u,p,I){this.putInternal("m",i,u,p,I)}putInternal(i,u,p,I,P){this.initConnection_();const B={p:u,d:p};void 0!==P&&(B.h=P),this.outstandingPuts_.push({action:i,request:B,onComplete:I}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(i){const u=this.outstandingPuts_[i].action,p=this.outstandingPuts_[i].request,I=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(u,p,P=>{this.log_(u+" response",P),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),I&&I(P.s,P.d)})}reportStats(i){if(this.connected_){const u={c:i};this.log_("reportStats",u),this.sendRequest("s",u,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,L.Wl)(i));const u=i.r,p=this.requestCBHash_[u];p&&(delete this.requestCBHash_[u],p(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,u){this.log_("handleServerMessage",i,u),"d"===i?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===i?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===i?this.onListenRevoked_(u.p,u.q):"ac"===i?this.onAuthRevoked_(u.s,u.d):"apc"===i?this.onAppCheckRevoked_(u.s,u.d):"sd"===i?this.onSecurityDebugPacket_(u):In("Unrecognized action received from server: "+(0,L.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-i);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,We.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const u=i.onDataMessage_.bind(i),p=i.onReady_.bind(i),I=i.onRealtimeDisconnect_.bind(i),P=i.id+":"+s.nextConnectionId_++,B=i.lastSessionId;let K=!1,ee=null;const ke=function(){ee?ee.close():(K=!0,I())};i.realtime_={close:ke,sendRequest:function(Pt){(0,L.hu)(ee,"sendRequest call when we're not connected not allowed."),ee.sendRequest(Pt)}};const Ze=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[Pt,Bt]=yield Promise.all([i.authTokenProvider_.getToken(Ze),i.appCheckTokenProvider_.getToken(Ze)]);K?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),i.authToken_=Pt&&Pt.accessToken,i.appCheckToken_=Bt&&Bt.token,ee=new $i(P,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,u,p,I,kn=>{Lt(kn+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},B))}catch(Pt){i.log_("Failed to get token: "+Pt),K||(i.repoInfo_.nodeAdmin&&Lt(Pt),ke())}}})()}interrupt(i){at("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){at("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const u=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const u=this.outstandingPuts_[i];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,u){let p;p=u?u.map(P=>nr(P)).join("$"):"default";const I=this.removeListen_(i,p);I&&I.onComplete&&I.onComplete("permission_denied")}removeListen_(i,u){const p=new dn(i).toString();let I;if(this.listens.has(p)){const P=this.listens.get(p);I=P.get(u),P.delete(u),0===P.size&&this.listens.delete(p)}else I=void 0;return I}onAuthRevoked_(i,u){at("Auth token revoked: "+i+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,u){at("App check token revoked: "+i+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const u of i.values())this.sendListen_(u);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let u="js";(0,L.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+u+"."+ft.replace(/\./g,"-")]=1,(0,L.uI)()?i["framework.cordova"]=1:(0,L.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=Ur.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&i}}return s.nextPersistentConnectionId_=0,s.nextConnectionId_=0,s})();class sn{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new sn(r,i)}}class is{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const u=new sn(jn,r),p=new sn(jn,i);return 0!==this.compare(u,p)}minPost(){return sn.MIN}}class Mi extends is{static get __EMPTY_NODE(){return Pr}static set __EMPTY_NODE(r){Pr=r}compare(r,i){return Dt(r.name,i.name)}isDefinedOn(r){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return sn.MIN}maxPost(){return new sn(gn,Pr)}makePost(r,i){return(0,L.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new sn(r,Pr)}toString(){return".key"}}const Hr=new Mi;class Li{constructor(r,i,u,p,I=null){this.isReverse_=p,this.resultGenerator_=I,this.nodeStack_=[];let P=1;for(;!r.isEmpty();)if(P=i?u(r.key,i):1,p&&(P*=-1),P<0)r=this.isReverse_?r.left:r.right;else{if(0===P){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Ri,wr=(()=>{class s{constructor(i,u,p,I,P){this.key=i,this.value=u,this.color=p??s.RED,this.left=I??yr.EMPTY_NODE,this.right=P??yr.EMPTY_NODE}copy(i,u,p,I,P){return new s(i??this.key,u??this.value,p??this.color,I??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,u,p){let I=this;const P=p(i,I.key);return I=P<0?I.copy(null,null,null,I.left.insert(i,u,p),null):0===P?I.copy(null,u,null,null,null):I.copy(null,null,null,null,I.right.insert(i,u,p)),I.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,u){let p,I;if(p=this,u(i,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(i,u),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===u(i,p.key)){if(p.right.isEmpty())return yr.EMPTY_NODE;I=p.right.min_(),p=p.copy(I.key,I.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(i,u))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,u)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return s.RED=!0,s.BLACK=!1,s})();class yr{constructor(r,i=yr.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new yr(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,wr.BLACK,null,null))}remove(r){return new yr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,wr.BLACK,null,null))}get(r){let i,u=this.root_;for(;!u.isEmpty();){if(i=this.comparator_(r,u.key),0===i)return u.value;i<0?u=u.left:i>0&&(u=u.right)}return null}getPredecessorKey(r){let i,u=this.root_,p=null;for(;!u.isEmpty();){if(i=this.comparator_(r,u.key),0===i){if(u.left.isEmpty())return p?p.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}i<0?u=u.left:i>0&&(p=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Li(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new Li(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new Li(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new Li(this.root_,null,this.comparator_,!0,r)}}function jr(s,r){return Dt(s.name,r.name)}function Is(s,r){return Dt(s,r)}yr.EMPTY_NODE=new class os{copy(r,i,u,p,I){return this}insert(r,i,u){return new wr(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ei=function(s){return"number"==typeof s?"number:"+un(s):"string:"+s},$r=function(s){if(s.isLeafNode()){const r=s.val();(0,L.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,L.r3)(r,".sv"),"Priority must be a string or number.")}else(0,L.hu)(s===Ri||s.isEmpty(),"priority of unexpected type.");(0,L.hu)(s===Ri||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Or,sr,So,ai=(()=>{class s{constructor(i,u=s.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=u,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$r(this.priorityNode_)}static set __childrenNodeConstructor(i){Or=i}static get __childrenNodeConstructor(){return Or}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new s(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return Ht(i)?this:".priority"===Wt(i)?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,u){return null}updateImmediateChild(i,u){return".priority"===i?this.updatePriority(u):u.isEmpty()&&".priority"!==i?this:s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,u).updatePriority(this.priorityNode_)}updateChild(i,u){const p=Wt(i);return null===p?u:u.isEmpty()&&".priority"!==p?this:((0,L.hu)(".priority"!==p||1===Kn(i),".priority must be the last token in a path"),this.updateImmediateChild(p,s.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(i),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,u){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Ei(this.priorityNode_.val())+":");const u=typeof this.value_;i+=u+":",i+="number"===u?un(this.value_):this.value_,this.lazyHash_=Ve(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===s.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof s.__childrenNodeConstructor?-1:((0,L.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const u=typeof i.value_,p=typeof this.value_,I=s.VALUE_TYPE_ORDER.indexOf(u),P=s.VALUE_TYPE_ORDER.indexOf(p);return(0,L.hu)(I>=0,"Unknown leaf type: "+u),(0,L.hu)(P>=0,"Unknown leaf type: "+p),I===P?"object"===p?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:P-I}withIndex(){return this}isIndexed(){return!0}equals(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))}}return s.VALUE_TYPE_ORDER=["object","boolean","number","string"],s})();const Mn=new class qs extends is{compare(r,i){const u=r.node.getPriority(),p=i.node.getPriority(),I=u.compareTo(p);return 0===I?Dt(r.name,i.name):I}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(gn,new ai("[PRIORITY-POST]",So))}makePost(r,i){const u=sr(r);return new sn(i,new ai("[PRIORITY-POST]",u))}toString(){return".priority"}},xr=Math.log(2);class vr{constructor(r){this.count=parseInt(Math.log(r+1)/xr,10),this.current_=this.count-1;const p=(I=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&p}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const ro=function(s,r,i,u){s.sort(r);const p=function(K,ee){const ke=ee-K;let Fe,Ze;if(0===ke)return null;if(1===ke)return Fe=s[K],Ze=i?i(Fe):Fe,new wr(Ze,Fe.node,wr.BLACK,null,null);{const Pt=parseInt(ke/2,10)+K,Bt=p(K,Pt),kn=p(Pt+1,ee);return Fe=s[Pt],Ze=i?i(Fe):Fe,new wr(Ze,Fe.node,wr.BLACK,Bt,kn)}},B=function(K){let ee=null,ke=null,Fe=s.length;const Ze=function(Bt,kn){const Jr=Fe-Bt,Vo=Fe;Fe-=Bt;const Es=p(Jr+1,Vo),ba=s[Jr],Di=i?i(ba):ba;Pt(new wr(Di,ba.node,kn,null,Es))},Pt=function(Bt){ee?(ee.left=Bt,ee=Bt):(ke=Bt,ee=Bt)};for(let Bt=0;Bt<K.count;++Bt){const kn=K.nextBitIsOne(),Jr=Math.pow(2,K.count-(Bt+1));kn?Ze(Jr,wr.BLACK):(Ze(Jr,wr.BLACK),Ze(Jr,wr.RED))}return ke}(new vr(s.length));return new yr(u||r,B)};let Ci;const Er={};class kr{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,L.hu)(Er&&Mn,"ChildrenNode.ts has not been loaded"),Ci=Ci||new kr({".priority":Er},{".priority":Mn}),Ci}get(r){const i=(0,L.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof yr?i:null}hasIndex(r){return(0,L.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,L.hu)(r!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let p=!1;const I=i.getIterator(sn.Wrap);let B,P=I.getNext();for(;P;)p=p||r.isDefinedOn(P.node),u.push(P),P=I.getNext();B=p?ro(u,r.getCompare()):Er;const K=r.toString(),ee=Object.assign({},this.indexSet_);ee[K]=r;const ke=Object.assign({},this.indexes_);return ke[K]=B,new kr(ke,ee)}addToIndexes(r,i){const u=(0,L.UI)(this.indexes_,(p,I)=>{const P=(0,L.DV)(this.indexSet_,I);if((0,L.hu)(P,"Missing index implementation for "+I),p===Er){if(P.isDefinedOn(r.node)){const B=[],K=i.getIterator(sn.Wrap);let ee=K.getNext();for(;ee;)ee.name!==r.name&&B.push(ee),ee=K.getNext();return B.push(r),ro(B,P.getCompare())}return Er}{const B=i.get(r.name);let K=p;return B&&(K=K.remove(new sn(r.name,B))),K.insert(r,r.node)}});return new kr(u,this.indexSet_)}removeFromIndexes(r,i){const u=(0,L.UI)(this.indexes_,p=>{if(p===Er)return p;{const I=i.get(r.name);return I?p.remove(new sn(r.name,I)):p}});return new kr(u,this.indexSet_)}}let Wr,zt=(()=>{class s{constructor(i,u,p){this.children_=i,this.priorityNode_=u,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&$r(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wr||(Wr=new s(new yr(Is),null,kr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wr}updatePriority(i){return this.children_.isEmpty()?this:new s(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const u=this.children_.get(i);return null===u?Wr:u}}getChild(i){const u=Wt(i);return null===u?this:this.getImmediateChild(u).getChild(bn(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,u){if((0,L.hu)(u,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(u);{const p=new sn(i,u);let I,P;u.isEmpty()?(I=this.children_.remove(i),P=this.indexMap_.removeFromIndexes(p,this.children_)):(I=this.children_.insert(i,u),P=this.indexMap_.addToIndexes(p,this.children_));const B=I.isEmpty()?Wr:this.priorityNode_;return new s(I,B,P)}}updateChild(i,u){const p=Wt(i);if(null===p)return u;{(0,L.hu)(".priority"!==Wt(i)||1===Kn(i),".priority must be the last token in a path");const I=this.getImmediateChild(p).updateChild(bn(i),u);return this.updateImmediateChild(p,I)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const u={};let p=0,I=0,P=!0;if(this.forEachChild(Mn,(B,K)=>{u[B]=K.val(i),p++,P&&s.INTEGER_REGEXP_.test(B)?I=Math.max(I,Number(B)):P=!1}),!i&&P&&I<2*p){const B=[];for(const K in u)B[K]=u[K];return B}return i&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Ei(this.getPriority().val())+":"),this.forEachChild(Mn,(u,p)=>{const I=p.hash();""!==I&&(i+=":"+u+":"+I)}),this.lazyHash_=""===i?"":Ve(i)}return this.lazyHash_}getPredecessorChildName(i,u,p){const I=this.resolveIndex_(p);if(I){const P=I.getPredecessorKey(new sn(i,u));return P?P.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const u=this.resolveIndex_(i);if(u){const p=u.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(i){const u=this.getFirstChildName(i);return u?new sn(u,this.children_.get(u)):null}getLastChildName(i){const u=this.resolveIndex_(i);if(u){const p=u.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(i){const u=this.getLastChildName(i);return u?new sn(u,this.children_.get(u)):null}forEachChild(i,u){const p=this.resolveIndex_(i);return p?p.inorderTraversal(I=>u(I.name,I.node)):this.children_.inorderTraversal(u)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,u){const p=this.resolveIndex_(u);if(p)return p.getIteratorFrom(i,I=>I);{const I=this.children_.getIteratorFrom(i.name,sn.Wrap);let P=I.peek();for(;null!=P&&u.compare(P,i)<0;)I.getNext(),P=I.peek();return I}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,u){const p=this.resolveIndex_(u);if(p)return p.getReverseIteratorFrom(i,I=>I);{const I=this.children_.getReverseIteratorFrom(i.name,sn.Wrap);let P=I.peek();for(;null!=P&&u.compare(P,i)>0;)I.getNext(),P=I.peek();return I}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===zi?-1:0}withIndex(i){if(i===Hr||this.indexMap_.hasIndex(i))return this;{const u=this.indexMap_.addIndex(i,this.children_);return new s(this.children_,this.priorityNode_,u)}}isIndexed(i){return i===Hr||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const u=i;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const p=this.getIterator(Mn),I=u.getIterator(Mn);let P=p.getNext(),B=I.getNext();for(;P&&B;){if(P.name!==B.name||!P.node.equals(B.node))return!1;P=p.getNext(),B=I.getNext()}return null===P&&null===B}return!1}return!1}}resolveIndex_(i){return i===Hr?null:this.indexMap_.get(i.toString())}}return s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s})();const zi=new class Yt extends zt{constructor(){super(new yr(Is),zt.EMPTY_NODE,kr.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return zt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sn,{MIN:{value:new sn(jn,zt.EMPTY_NODE)},MAX:{value:new sn(gn,zi)}}),Mi.__EMPTY_NODE=zt.EMPTY_NODE,ai.__childrenNodeConstructor=zt,function ho(s){Ri=s}(zi),function Nr(s){So=s}(zi);const ss=!0;function Xn(s,r=null){if(null===s)return zt.EMPTY_NODE;if("object"==typeof s&&".priority"in s&&(r=s[".priority"]),(0,L.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof s&&".value"in s&&null!==s[".value"]&&(s=s[".value"]),"object"!=typeof s||".sv"in s)return new ai(s,Xn(r));if(s instanceof Array||!ss){let i=zt.EMPTY_NODE;return On(s,(u,p)=>{if((0,L.r3)(s,u)&&"."!==u.substring(0,1)){const I=Xn(p);(I.isLeafNode()||!I.isEmpty())&&(i=i.updateImmediateChild(u,I))}}),i.updatePriority(Xn(r))}{const i=[];let u=!1;if(On(s,(P,B)=>{if("."!==P.substring(0,1)){const K=Xn(B);K.isEmpty()||(u=u||!K.getPriority().isEmpty(),i.push(new sn(P,K)))}}),0===i.length)return zt.EMPTY_NODE;const I=ro(i,jr,P=>P.name,Is);if(u){const P=ro(i,Mn.getCompare());return new zt(I,Xn(r),new kr({".priority":P},{".priority":Mn}))}return new zt(I,Xn(r),kr.Default)}}!function Gi(s){sr=s}(Xn);class Bo extends is{constructor(r){super(),this.indexPath_=r,(0,L.hu)(!Ht(r)&&".priority"!==Wt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const u=this.extractChild(r.node),p=this.extractChild(i.node),I=u.compareTo(p);return 0===I?Dt(r.name,i.name):I}makePost(r,i){const u=Xn(r),p=zt.EMPTY_NODE.updateChild(this.indexPath_,u);return new sn(i,p)}maxPost(){const r=zt.EMPTY_NODE.updateChild(this.indexPath_,zi);return new sn(gn,r)}toString(){return Wi(this.indexPath_,0).join("/")}}const Ki=new class Ao extends is{compare(r,i){const u=r.node.compareTo(i.node);return 0===u?Dt(r.name,i.name):u}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(r,i){const u=Xn(r);return new sn(i,u)}toString(){return".value"}};function da(s){return{type:"value",snapshotNode:s}}function fo(s,r){return{type:"child_added",snapshotNode:r,childName:s}}function b(s,r){return{type:"child_removed",snapshotNode:r,childName:s}}function M(s,r,i){return{type:"child_changed",snapshotNode:r,childName:s,oldSnap:i}}class G{constructor(r){this.index_=r}updateChild(r,i,u,p,I,P){(0,L.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const B=r.getImmediateChild(i);return B.getChild(p).equals(u.getChild(p))&&B.isEmpty()===u.isEmpty()||(null!=P&&(u.isEmpty()?r.hasChild(i)?P.trackChildChange(b(i,B)):(0,L.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):B.isEmpty()?P.trackChildChange(fo(i,u)):P.trackChildChange(M(i,u,B))),r.isLeafNode()&&u.isEmpty())?r:r.updateImmediateChild(i,u).withIndex(this.index_)}updateFullNode(r,i,u){return null!=u&&(r.isLeafNode()||r.forEachChild(Mn,(p,I)=>{i.hasChild(p)||u.trackChildChange(b(p,I))}),i.isLeafNode()||i.forEachChild(Mn,(p,I)=>{if(r.hasChild(p)){const P=r.getImmediateChild(p);P.equals(I)||u.trackChildChange(M(p,I,P))}else u.trackChildChange(fo(p,I))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?zt.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class be{constructor(r){this.indexedFilter_=new G(r.getIndex()),this.index_=r.getIndex(),this.startPost_=be.getStartPost_(r),this.endPost_=be.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,u=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return i&&u}updateChild(r,i,u,p,I,P){return this.matches(new sn(i,u))||(u=zt.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,u,p,I,P)}updateFullNode(r,i,u){i.isLeafNode()&&(i=zt.EMPTY_NODE);let p=i.withIndex(this.index_);p=p.updatePriority(zt.EMPTY_NODE);const I=this;return i.forEachChild(Mn,(P,B)=>{I.matches(new sn(P,B))||(p=p.updateImmediateChild(P,zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,p,u)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class At{constructor(r){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=i=>{const u=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new be(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,i,u,p,I,P){return this.rangedFilter_.matches(new sn(i,u))||(u=zt.EMPTY_NODE),r.getImmediateChild(i).equals(u)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,u,p,I,P):this.fullLimitUpdateChild_(r,i,u,I,P)}updateFullNode(r,i,u){let p;if(i.isLeafNode()||i.isEmpty())p=zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let I;p=zt.EMPTY_NODE.withIndex(this.index_),I=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let P=0;for(;I.hasNext()&&P<this.limit_;){const B=I.getNext();if(this.withinDirectionalStart(B)){if(!this.withinDirectionalEnd(B))break;p=p.updateImmediateChild(B.name,B.node),P++}}}else{let I;p=i.withIndex(this.index_),p=p.updatePriority(zt.EMPTY_NODE),I=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let P=0;for(;I.hasNext();){const B=I.getNext();P<this.limit_&&this.withinDirectionalStart(B)&&this.withinDirectionalEnd(B)?P++:p=p.updateImmediateChild(B.name,zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,p,u)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,u,p,I){let P;if(this.reverse_){const Fe=this.index_.getCompare();P=(Ze,Pt)=>Fe(Pt,Ze)}else P=this.index_.getCompare();const B=r;(0,L.hu)(B.numChildren()===this.limit_,"");const K=new sn(i,u),ee=this.reverse_?B.getFirstChild(this.index_):B.getLastChild(this.index_),ke=this.rangedFilter_.matches(K);if(B.hasChild(i)){const Fe=B.getImmediateChild(i);let Ze=p.getChildAfterChild(this.index_,ee,this.reverse_);for(;null!=Ze&&(Ze.name===i||B.hasChild(Ze.name));)Ze=p.getChildAfterChild(this.index_,Ze,this.reverse_);const Pt=null==Ze?1:P(Ze,K);if(ke&&!u.isEmpty()&&Pt>=0)return I?.trackChildChange(M(i,u,Fe)),B.updateImmediateChild(i,u);{I?.trackChildChange(b(i,Fe));const kn=B.updateImmediateChild(i,zt.EMPTY_NODE);return null!=Ze&&this.rangedFilter_.matches(Ze)?(I?.trackChildChange(fo(Ze.name,Ze.node)),kn.updateImmediateChild(Ze.name,Ze.node)):kn}}return u.isEmpty()?r:ke&&P(ee,K)>=0?(null!=I&&(I.trackChildChange(b(ee.name,ee.node)),I.trackChildChange(fo(i,u))),B.updateImmediateChild(i,u).updateImmediateChild(ee.name,zt.EMPTY_NODE)):r}}class Tn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mn}copy(){const r=new Tn;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function go(s,r,i){const u=s.copy();return u.startSet_=!0,void 0===r&&(r=null),u.indexStartValue_=r,null!=i?(u.startNameSet_=!0,u.indexStartName_=i):(u.startNameSet_=!1,u.indexStartName_=""),u}function Ii(s,r,i){const u=s.copy();return u.endSet_=!0,void 0===r&&(r=null),u.indexEndValue_=r,void 0!==i?(u.endNameSet_=!0,u.indexEndName_=i):(u.endNameSet_=!1,u.indexEndName_=""),u}function gi(s,r){const i=s.copy();return i.index_=r,i}function Yi(s){const r={};if(s.isDefault())return r;let i;if(s.index_===Mn?i="$priority":s.index_===Ki?i="$value":s.index_===Hr?i="$key":((0,L.hu)(s.index_ instanceof Bo,"Unrecognized index type!"),i=s.index_.toString()),r.orderBy=(0,L.Wl)(i),s.startSet_){const u=s.startAfterSet_?"startAfter":"startAt";r[u]=(0,L.Wl)(s.indexStartValue_),s.startNameSet_&&(r[u]+=","+(0,L.Wl)(s.indexStartName_))}if(s.endSet_){const u=s.endBeforeSet_?"endBefore":"endAt";r[u]=(0,L.Wl)(s.indexEndValue_),s.endNameSet_&&(r[u]+=","+(0,L.Wl)(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?r.limitToFirst=s.limit_:r.limitToLast=s.limit_),r}function Mo(s){const r={};if(s.startSet_&&(r.sp=s.indexStartValue_,s.startNameSet_&&(r.sn=s.indexStartName_),r.sin=!s.startAfterSet_),s.endSet_&&(r.ep=s.indexEndValue_,s.endNameSet_&&(r.en=s.indexEndName_),r.ein=!s.endBeforeSet_),s.limitSet_){r.l=s.limit_;let i=s.viewFrom_;""===i&&(i=s.isViewFromLeft()?"l":"r"),r.vf=i}return s.index_!==Mn&&(r.i=s.index_.toString()),r}class mi extends mr{constructor(r,i,u,p){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.log_=Qt("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,L.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,u,p){const I=r._path.toString();this.log_("Listen called for "+I+" "+r._queryIdentifier);const P=mi.getListenId_(r,u),B={};this.listens_[P]=B;const K=Yi(r._queryParams);this.restRequest_(I+".json",K,(ee,ke)=>{let Fe=ke;if(404===ee&&(Fe=null,ee=null),null===ee&&this.onDataUpdate_(I,Fe,!1,u),(0,L.DV)(this.listens_,P)===B){let Ze;Ze=ee?401===ee?"permission_denied":"rest_error:"+ee:"ok",p(Ze,null)}})}unlisten(r,i){const u=mi.getListenId_(r,i);delete this.listens_[u]}get(r){const i=Yi(r._queryParams),u=r._path.toString(),p=new L.BH;return this.restRequest_(u+".json",i,(I,P)=>{let B=P;404===I&&(B=null,I=null),null===I?(this.onDataUpdate_(u,B,!1,null),p.resolve(B)):p.reject(new Error(B))}),p.promise}refreshAuthToken(r){}restRequest_(r,i={},u){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,I])=>{p&&p.accessToken&&(i.auth=p.accessToken),I&&I.token&&(i.ac=I.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,L.xO)(i);this.log_("Sending REST request for "+P);const B=new XMLHttpRequest;B.onreadystatechange=()=>{if(u&&4===B.readyState){this.log_("REST Response for "+P+" received. status:",B.status,"response:",B.responseText);let K=null;if(B.status>=200&&B.status<300){try{K=(0,L.cI)(B.responseText)}catch{Lt("Failed to parse JSON response for "+P+": "+B.responseText)}u(null,K)}else 401!==B.status&&404!==B.status&&Lt("Got unsuccessful REST response for "+P+" Status: "+B.status),u(B.status);u=null}},B.open("GET",P,!0),B.send()})}}class Sa{constructor(){this.rootNode_=zt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function Ro(){return{value:null,children:new Map}}function mo(s,r,i){if(Ht(r))s.value=i,s.children.clear();else if(null!==s.value)s.value=s.value.updateChild(r,i);else{const u=Wt(r);s.children.has(u)||s.children.set(u,Ro()),mo(s.children.get(u),r=bn(r),i)}}function Aa(s,r){if(Ht(r))return s.value=null,s.children.clear(),!0;if(null!==s.value){if(s.value.isLeafNode())return!1;{const i=s.value;return s.value=null,i.forEachChild(Mn,(u,p)=>{mo(s,new dn(u),p)}),Aa(s,r)}}if(s.children.size>0){const i=Wt(r);return r=bn(r),s.children.has(i)&&Aa(s.children.get(i),r)&&s.children.delete(i),0===s.children.size}return!0}function ar(s,r,i){null!==s.value?i(r,s.value):function as(s,r){s.children.forEach((i,u)=>{r(u,i)})}(s,(u,p)=>{ar(p,new dn(r.toString()+"/"+u),i)})}class Ds{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&On(this.last_,(u,p)=>{i[u]=i[u]-p}),this.last_=r,i}}class Js{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Ds(r);const u=1e4+2e4*Math.random();mn(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const r=this.statsListener_.get(),i={};let u=!1;On(r,(p,I)=>{I>0&&(0,L.r3)(this.statsToReport_,p)&&(i[p]=I,u=!0)}),u&&this.server_.reportStats(i),mn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ui=(()=>{return(s=ui||(ui={}))[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ui;var s})();function $o(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Po{constructor(r,i,u){this.path=r,this.affectedTree=i,this.revert=u,this.type=ui.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new dn(r));return new Po(nn(),i,this.revert)}}return(0,L.hu)(Wt(this.path)===r,"operationForChild called for unrelated child."),new Po(bn(this.path),this.affectedTree,this.revert)}}class us{constructor(r,i){this.source=r,this.path=i,this.type=ui.LISTEN_COMPLETE}operationForChild(r){return Ht(this.path)?new us(this.source,nn()):new us(this.source,bn(this.path))}}class Pi{constructor(r,i,u){this.source=r,this.path=i,this.snap=u,this.type=ui.OVERWRITE}operationForChild(r){return Ht(this.path)?new Pi(this.source,nn(),this.snap.getImmediateChild(r)):new Pi(this.source,bn(this.path),this.snap)}}class tr{constructor(r,i,u){this.source=r,this.path=i,this.children=u,this.type=ui.MERGE}operationForChild(r){if(Ht(this.path)){const i=this.children.subtree(new dn(r));return i.isEmpty()?null:i.value?new Pi(this.source,nn(),i.value):new tr(this.source,nn(),i)}return(0,L.hu)(Wt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new tr(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gr{constructor(r,i,u){this.node_=r,this.fullyInitialized_=i,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Ht(r))return this.isFullyInitialized()&&!this.filtered_;const i=Wt(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class zn{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Ts(s,r,i,u,p,I){const P=u.filter(B=>B.type===i);P.sort((B,K)=>function Ga(s,r,i){if(null==r.childName||null==i.childName)throw(0,L.g5)("Should only compare child_ events.");const u=new sn(r.childName,r.snapshotNode),p=new sn(i.childName,i.snapshotNode);return s.index_.compare(u,p)}(s,B,K)),P.forEach(B=>{const K=function Wo(s,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,s.index_)),r}(s,B,I);p.forEach(ee=>{ee.respondsTo(B.type)&&r.push(ee.createEvent(K,s.query_))})})}function Ss(s,r){return{eventCache:s,serverCache:r}}function Xs(s,r,i,u){return Ss(new Gr(r,i,u),s.serverCache)}function cs(s,r,i,u){return Ss(s.eventCache,new Gr(r,i,u))}function ds(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function _o(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let w;class S{constructor(r,i=(()=>(w||(w=new yr(Dn)),w))()){this.value=r,this.children=i}static fromObject(r){let i=new S(null);return On(r,(u,p)=>{i=i.set(new dn(u),p)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:nn(),value:this.value};if(Ht(r))return null;{const u=Wt(r),p=this.children.get(u);if(null!==p){const I=p.findRootMostMatchingPathAndValue(bn(r),i);return null!=I?{path:Un(new dn(u),I.path),value:I.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Ht(r))return this;{const i=Wt(r),u=this.children.get(i);return null!==u?u.subtree(bn(r)):new S(null)}}set(r,i){if(Ht(r))return new S(i,this.children);{const u=Wt(r),I=(this.children.get(u)||new S(null)).set(bn(r),i),P=this.children.insert(u,I);return new S(this.value,P)}}remove(r){if(Ht(r))return this.children.isEmpty()?new S(null):new S(null,this.children);{const i=Wt(r),u=this.children.get(i);if(u){const p=u.remove(bn(r));let I;return I=p.isEmpty()?this.children.remove(i):this.children.insert(i,p),null===this.value&&I.isEmpty()?new S(null):new S(this.value,I)}return this}}get(r){if(Ht(r))return this.value;{const i=Wt(r),u=this.children.get(i);return u?u.get(bn(r)):null}}setTree(r,i){if(Ht(r))return i;{const u=Wt(r),I=(this.children.get(u)||new S(null)).setTree(bn(r),i);let P;return P=I.isEmpty()?this.children.remove(u):this.children.insert(u,I),new S(this.value,P)}}fold(r){return this.fold_(nn(),r)}fold_(r,i){const u={};return this.children.inorderTraversal((p,I)=>{u[p]=I.fold_(Un(r,p),i)}),i(r,this.value,u)}findOnPath(r,i){return this.findOnPath_(r,nn(),i)}findOnPath_(r,i,u){const p=!!this.value&&u(i,this.value);if(p)return p;if(Ht(r))return null;{const I=Wt(r),P=this.children.get(I);return P?P.findOnPath_(bn(r),Un(i,I),u):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,nn(),i)}foreachOnPath_(r,i,u){if(Ht(r))return this;{this.value&&u(i,this.value);const p=Wt(r),I=this.children.get(p);return I?I.foreachOnPath_(bn(r),Un(i,p),u):new S(null)}}foreach(r){this.foreach_(nn(),r)}foreach_(r,i){this.children.inorderTraversal((u,p)=>{p.foreach_(Un(r,u),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,u)=>{u.value&&r(i,u.value)})}}class j{constructor(r){this.writeTree_=r}static empty(){return new j(new S(null))}}function X(s,r,i){if(Ht(r))return new j(new S(i));{const u=s.writeTree_.findRootMostValueAndPath(r);if(null!=u){const p=u.path;let I=u.value;const P=_r(p,r);return I=I.updateChild(P,i),new j(s.writeTree_.set(p,I))}{const p=new S(i),I=s.writeTree_.setTree(r,p);return new j(I)}}}function Ne(s,r,i){let u=s;return On(i,(p,I)=>{u=X(u,Un(r,p),I)}),u}function Ke(s,r){if(Ht(r))return j.empty();{const i=s.writeTree_.setTree(r,new S(null));return new j(i)}}function Tt(s,r){return null!=Sn(s,r)}function Sn(s,r){const i=s.writeTree_.findRootMostValueAndPath(r);return null!=i?s.writeTree_.get(i.path).getChild(_r(i.path,r)):null}function Rn(s){const r=[],i=s.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(Mn,(u,p)=>{r.push(new sn(u,p))}):s.writeTree_.children.inorderTraversal((u,p)=>{null!=p.value&&r.push(new sn(u,p.value))}),r}function Jt(s,r){if(Ht(r))return s;{const i=Sn(s,r);return new j(null!=i?new S(i):s.writeTree_.subtree(r))}}function Xt(s){return s.writeTree_.isEmpty()}function Zn(s,r){return Pn(nn(),s.writeTree_,r)}function Pn(s,r,i){if(null!=r.value)return i.updateChild(s,r.value);{let u=null;return r.children.inorderTraversal((p,I)=>{".priority"===p?((0,L.hu)(null!==I.value,"Priority writes must always be leaf nodes"),u=I.value):i=Pn(Un(s,p),I,i)}),!i.getChild(s).isEmpty()&&null!==u&&(i=i.updateChild(Un(s,".priority"),u)),i}}function lr(s,r){return ga(r,s)}function _i(s,r){if(s.snap)return si(s.path,r);for(const i in s.children)if(s.children.hasOwnProperty(i)&&si(Un(s.path,i),r))return!0;return!1}function Kr(s){return s.visible}function As(s,r,i){let u=j.empty();for(let p=0;p<s.length;++p){const I=s[p];if(r(I)){const P=I.path;let B;if(I.snap)si(i,P)?(B=_r(i,P),u=X(u,B,I.snap)):si(P,i)&&(B=_r(P,i),u=X(u,nn(),I.snap.getChild(B)));else{if(!I.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(si(i,P))B=_r(i,P),u=Ne(u,B,I.children);else if(si(P,i))if(B=_r(P,i),Ht(B))u=Ne(u,nn(),I.children);else{const K=(0,L.DV)(I.children,Wt(B));if(K){const ee=K.getChild(bn(B));u=X(u,nn(),ee)}}}}}return u}function ha(s,r,i,u,p){if(u||p){const I=Jt(s.visibleWrites,r);return!p&&Xt(I)?i:p||null!=i||Tt(I,nn())?Zn(As(s.allWrites,function(ee){return(ee.visible||p)&&(!u||!~u.indexOf(ee.writeId))&&(si(ee.path,r)||si(r,ee.path))},r),i||zt.EMPTY_NODE):null}{const I=Sn(s.visibleWrites,r);if(null!=I)return I;{const P=Jt(s.visibleWrites,r);return Xt(P)?i:null!=i||Tt(P,nn())?Zn(P,i||zt.EMPTY_NODE):null}}}function ea(s,r,i,u){return ha(s.writeTree,s.treePath,r,i,u)}function Os(s,r){return function vl(s,r,i){let u=zt.EMPTY_NODE;const p=Sn(s.visibleWrites,r);if(p)return p.isLeafNode()||p.forEachChild(Mn,(I,P)=>{u=u.updateImmediateChild(I,P)}),u;if(i){const I=Jt(s.visibleWrites,r);return i.forEachChild(Mn,(P,B)=>{const K=Zn(Jt(I,new dn(P)),B);u=u.updateImmediateChild(P,K)}),Rn(I).forEach(P=>{u=u.updateImmediateChild(P.name,P.node)}),u}return Rn(Jt(s.visibleWrites,r)).forEach(P=>{u=u.updateImmediateChild(P.name,P.node)}),u}(s.writeTree,s.treePath,r)}function ta(s,r,i,u){return function Ms(s,r,i,u,p){(0,L.hu)(u||p,"Either existingEventSnap or existingServerSnap must exist");const I=Un(r,i);if(Tt(s.visibleWrites,I))return null;{const P=Jt(s.visibleWrites,I);return Xt(P)?p.getChild(i):Zn(P,p.getChild(i))}}(s.writeTree,s.treePath,r,i,u)}function fa(s,r){return function Rs(s,r){return Sn(s.visibleWrites,r)}(s.writeTree,Un(s.treePath,r))}function za(s,r,i){return function Ma(s,r,i,u){const p=Un(r,i),I=Sn(s.visibleWrites,p);return null!=I?I:u.isCompleteForChild(i)?Zn(Jt(s.visibleWrites,p),u.getNode().getImmediateChild(i)):null}(s.writeTree,s.treePath,r,i)}function pa(s,r){return ga(Un(s.treePath,r),s.writeTree)}function ga(s,r){return{treePath:s,writeTree:r}}class Ra{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,u=r.childName;(0,L.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(u);if(p){const I=p.type;if("child_added"===i&&"child_removed"===I)this.changeMap.set(u,M(u,r.snapshotNode,p.snapshotNode));else if("child_removed"===i&&"child_added"===I)this.changeMap.delete(u);else if("child_removed"===i&&"child_changed"===I)this.changeMap.set(u,b(u,p.oldSnap));else if("child_changed"===i&&"child_added"===I)this.changeMap.set(u,fo(u,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==I)throw(0,L.g5)("Illegal combination of changes: "+r+" occurred after "+p);this.changeMap.set(u,M(u,r.snapshotNode,p.oldSnap))}}else this.changeMap.set(u,r)}getChanges(){return Array.from(this.changeMap.values())}}const Zr=new class Pa{getCompleteChild(r){return null}getChildAfterChild(r,i,u){return null}};class Ns{constructor(r,i,u=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=u}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const u=null!=this.optCompleteServerCache_?new Gr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return za(this.writes_,r,u)}}getChildAfterChild(r,i,u){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_o(this.viewCache_),I=function Yn(s,r,i,u,p,I){return function Oo(s,r,i,u,p,I,P){let B;const K=Jt(s.visibleWrites,r),ee=Sn(K,nn());if(null!=ee)B=ee;else{if(null==i)return[];B=Zn(K,i)}if(B=B.withIndex(P),B.isEmpty()||B.isLeafNode())return[];{const ke=[],Fe=P.getCompare(),Ze=I?B.getReverseIteratorFrom(u,P):B.getIteratorFrom(u,P);let Pt=Ze.getNext();for(;Pt&&ke.length<p;)0!==Fe(Pt,u)&&ke.push(Pt),Pt=Ze.getNext();return ke}}(s.writeTree,s.treePath,r,i,u,p,I)}(this.writes_,p,i,1,u,r);return 0===I.length?null:I[0]}}function No(s,r,i,u,p,I){const P=r.eventCache;if(null!=fa(u,i))return r;{let B,K;if(Ht(i))if((0,L.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ee=_o(r),Fe=Os(u,ee instanceof zt?ee:zt.EMPTY_NODE);B=s.filter.updateFullNode(r.eventCache.getNode(),Fe,I)}else{const ee=ea(u,_o(r));B=s.filter.updateFullNode(r.eventCache.getNode(),ee,I)}else{const ee=Wt(i);if(".priority"===ee){(0,L.hu)(1===Kn(i),"Can't have a priority with additional path components");const ke=P.getNode();K=r.serverCache.getNode();const Fe=ta(u,i,ke,K);B=null!=Fe?s.filter.updatePriority(ke,Fe):P.getNode()}else{const ke=bn(i);let Fe;if(P.isCompleteForChild(ee)){K=r.serverCache.getNode();const Ze=ta(u,i,P.getNode(),K);Fe=null!=Ze?P.getNode().getImmediateChild(ee).updateChild(ke,Ze):P.getNode().getImmediateChild(ee)}else Fe=za(u,ee,r.serverCache);B=null!=Fe?s.filter.updateChild(P.getNode(),ee,Fe,ke,p,I):P.getNode()}}return Xs(r,B,P.isFullyInitialized()||Ht(i),s.filter.filtersNodes())}}function ma(s,r,i,u,p,I,P,B){const K=r.serverCache;let ee;const ke=P?s.filter:s.filter.getIndexedFilter();if(Ht(i))ee=ke.updateFullNode(K.getNode(),u,null);else if(ke.filtersNodes()&&!K.isFiltered()){const Pt=K.getNode().updateChild(i,u);ee=ke.updateFullNode(K.getNode(),Pt,null)}else{const Pt=Wt(i);if(!K.isCompleteForPath(i)&&Kn(i)>1)return r;const Bt=bn(i),Jr=K.getNode().getImmediateChild(Pt).updateChild(Bt,u);ee=".priority"===Pt?ke.updatePriority(K.getNode(),Jr):ke.updateChild(K.getNode(),Pt,Jr,Bt,Zr,null)}const Fe=cs(r,ee,K.isFullyInitialized()||Ht(i),ke.filtersNodes());return No(s,Fe,i,p,new Ns(p,Fe,I),B)}function _a(s,r,i,u,p,I,P){const B=r.eventCache;let K,ee;const ke=new Ns(p,r,I);if(Ht(i))ee=s.filter.updateFullNode(r.eventCache.getNode(),u,P),K=Xs(r,ee,!0,s.filter.filtersNodes());else{const Fe=Wt(i);if(".priority"===Fe)ee=s.filter.updatePriority(r.eventCache.getNode(),u),K=Xs(r,ee,B.isFullyInitialized(),B.isFiltered());else{const Ze=bn(i),Pt=B.getNode().getImmediateChild(Fe);let Bt;if(Ht(Ze))Bt=u;else{const kn=ke.getCompleteChild(Fe);Bt=null!=kn?".priority"===Rr(Ze)&&kn.getChild(eo(Ze)).isEmpty()?kn:kn.updateChild(Ze,u):zt.EMPTY_NODE}K=Pt.equals(Bt)?r:Xs(r,s.filter.updateChild(B.getNode(),Fe,Bt,Ze,ke,P),B.isFullyInitialized(),s.filter.filtersNodes())}}return K}function na(s,r){return s.eventCache.isCompleteForChild(r)}function Fs(s,r,i){return i.foreach((u,p)=>{r=r.updateChild(u,p)}),r}function hs(s,r,i,u,p,I,P,B){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ee,K=r;ee=Ht(i)?u:new S(null).setTree(i,u);const ke=r.serverCache.getNode();return ee.children.inorderTraversal((Fe,Ze)=>{if(ke.hasChild(Fe)){const Bt=Fs(0,r.serverCache.getNode().getImmediateChild(Fe),Ze);K=ma(s,K,new dn(Fe),Bt,p,I,P,B)}}),ee.children.inorderTraversal((Fe,Ze)=>{const Pt=!r.serverCache.isCompleteForChild(Fe)&&null===Ze.value;if(!ke.hasChild(Fe)&&!Pt){const kn=Fs(0,r.serverCache.getNode().getImmediateChild(Fe),Ze);K=ma(s,K,new dn(Fe),kn,p,I,P,B)}}),K}class cu{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const u=this.query_._queryParams,p=new G(u.getIndex()),I=function Bn(s){return s.loadsAllData()?new G(s.getIndex()):s.hasLimit()?new At(s):new be(s)}(u);this.processor_=function An(s){return{filter:s}}(I);const P=i.serverCache,B=i.eventCache,K=p.updateFullNode(zt.EMPTY_NODE,P.getNode(),null),ee=I.updateFullNode(zt.EMPTY_NODE,B.getNode(),null),ke=new Gr(K,P.isFullyInitialized(),p.filtersNodes()),Fe=new Gr(ee,B.isFullyInitialized(),I.filtersNodes());this.viewCache_=Ss(Fe,ke),this.eventGenerator_=new zn(this.query_)}get query(){return this.query_}}function El(s,r){const i=_o(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Ht(r)&&!i.getImmediateChild(Wt(r)).isEmpty())?i.getChild(r):null}function Cl(s){return 0===s.eventRegistrations_.length}function du(s,r,i){const u=[];if(i){(0,L.hu)(null==r,"A cancel should cancel all event registrations.");const p=s.query._path;s.eventRegistrations_.forEach(I=>{const P=I.createCancelEvent(i,p);P&&u.push(P)})}if(r){let p=[];for(let I=0;I<s.eventRegistrations_.length;++I){const P=s.eventRegistrations_[I];if(P.matches(r)){if(r.hasAnyCallback()){p=p.concat(s.eventRegistrations_.slice(I+1));break}}else p.push(P)}s.eventRegistrations_=p}else s.eventRegistrations_=[];return u}function Ls(s,r,i,u){r.type===ui.MERGE&&null!==r.source.queryId&&((0,L.hu)(_o(s.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(ds(s.viewCache_),"Missing event cache, even though we have a server cache"));const p=s.viewCache_,I=function xs(s,r,i,u,p){const I=new Ra;let P,B;if(i.type===ui.OVERWRITE){const ee=i;ee.source.fromUser?P=_a(s,r,ee.path,ee.snap,u,p,I):((0,L.hu)(ee.source.fromServer,"Unknown source."),B=ee.source.tagged||r.serverCache.isFiltered()&&!Ht(ee.path),P=ma(s,r,ee.path,ee.snap,u,p,B,I))}else if(i.type===ui.MERGE){const ee=i;ee.source.fromUser?P=function Ka(s,r,i,u,p,I,P){let B=r;return u.foreach((K,ee)=>{const ke=Un(i,K);na(r,Wt(ke))&&(B=_a(s,B,ke,ee,p,I,P))}),u.foreach((K,ee)=>{const ke=Un(i,K);na(r,Wt(ke))||(B=_a(s,B,ke,ee,p,I,P))}),B}(s,r,ee.path,ee.children,u,p,I):((0,L.hu)(ee.source.fromServer,"Unknown source."),B=ee.source.tagged||r.serverCache.isFiltered(),P=hs(s,r,ee.path,ee.children,u,p,B,I))}else if(i.type===ui.ACK_USER_WRITE){const ee=i;P=ee.revert?function vo(s,r,i,u,p,I){let P;if(null!=fa(u,i))return r;{const B=new Ns(u,r,p),K=r.eventCache.getNode();let ee;if(Ht(i)||".priority"===Wt(i)){let ke;if(r.serverCache.isFullyInitialized())ke=ea(u,_o(r));else{const Fe=r.serverCache.getNode();(0,L.hu)(Fe instanceof zt,"serverChildren would be complete if leaf node"),ke=Os(u,Fe)}ee=s.filter.updateFullNode(K,ke,I)}else{const ke=Wt(i);let Fe=za(u,ke,r.serverCache);null==Fe&&r.serverCache.isCompleteForChild(ke)&&(Fe=K.getImmediateChild(ke)),ee=null!=Fe?s.filter.updateChild(K,ke,Fe,bn(i),B,I):r.eventCache.getNode().hasChild(ke)?s.filter.updateChild(K,ke,zt.EMPTY_NODE,bn(i),B,I):K,ee.isEmpty()&&r.serverCache.isFullyInitialized()&&(P=ea(u,_o(r)),P.isLeafNode()&&(ee=s.filter.updateFullNode(ee,P,I)))}return P=r.serverCache.isFullyInitialized()||null!=fa(u,nn()),Xs(r,ee,P,s.filter.filtersNodes())}}(s,r,ee.path,u,p,I):function Yr(s,r,i,u,p,I,P){if(null!=fa(p,i))return r;const B=r.serverCache.isFiltered(),K=r.serverCache;if(null!=u.value){if(Ht(i)&&K.isFullyInitialized()||K.isCompleteForPath(i))return ma(s,r,i,K.getNode().getChild(i),p,I,B,P);if(Ht(i)){let ee=new S(null);return K.getNode().forEachChild(Hr,(ke,Fe)=>{ee=ee.set(new dn(ke),Fe)}),hs(s,r,i,ee,p,I,B,P)}return r}{let ee=new S(null);return u.foreach((ke,Fe)=>{const Ze=Un(i,ke);K.isCompleteForPath(Ze)&&(ee=ee.set(ke,K.getNode().getChild(Ze)))}),hs(s,r,i,ee,p,I,B,P)}}(s,r,ee.path,ee.affectedTree,u,p,I)}else{if(i.type!==ui.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+i.type);P=function ra(s,r,i,u,p){const I=r.serverCache;return No(s,cs(r,I.getNode(),I.isFullyInitialized()||Ht(i),I.isFiltered()),i,u,Zr,p)}(s,r,i.path,u,I)}const K=I.getChanges();return function ks(s,r,i){const u=r.eventCache;if(u.isFullyInitialized()){const p=u.getNode().isLeafNode()||u.getNode().isEmpty(),I=ds(s);(i.length>0||!s.eventCache.isFullyInitialized()||p&&!u.getNode().equals(I)||!u.getNode().getPriority().equals(I.getPriority()))&&i.push(da(ds(r)))}}(r,P,K),{viewCache:P,changes:K}}(s.processor_,p,r,i,u);return function Oa(s,r){(0,L.hu)(r.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(r.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}(s.processor_,I.viewCache),(0,L.hu)(I.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=I.viewCache,ya(s,I.changes,I.viewCache.eventCache.getNode(),null)}function ya(s,r,i,u){return function bs(s,r,i,u){const p=[],I=[];return r.forEach(P=>{"child_changed"===P.type&&s.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&I.push(function R(s,r){return{type:"child_moved",snapshotNode:r,childName:s}}(P.childName,P.snapshotNode))}),Ts(s,p,"child_removed",r,u,i),Ts(s,p,"child_added",r,u,i),Ts(s,p,"child_moved",I,u,i),Ts(s,p,"child_changed",r,u,i),Ts(s,p,"value",r,u,i),p}(s.eventGenerator_,r,i,u?[u]:s.eventRegistrations_)}let Za,gs;class Ya{constructor(){this.views=new Map}}function qa(s,r,i,u){const p=r.source.queryId;if(null!==p){const I=s.views.get(p);return(0,L.hu)(null!=I,"SyncTree gave us an op for an invalid query."),Ls(I,r,i,u)}{let I=[];for(const P of s.views.values())I=I.concat(Ls(P,r,i,u));return I}}function qr(s,r,i,u,p){const P=s.views.get(r._queryIdentifier);if(!P){let B=ea(i,p?u:null),K=!1;B?K=!0:u instanceof zt?(B=Os(i,u),K=!1):(B=zt.EMPTY_NODE,K=!1);const ee=Ss(new Gr(B,K,!1),new Gr(u,p,!1));return new cu(r,ee)}return P}function Qa(s){const r=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function Fr(s,r){let i=null;for(const u of s.views.values())i=i||El(u,r);return i}function oo(s,r){return r._queryParams.loadsAllData()?ps(s):s.views.get(r._queryIdentifier)}function Ja(s,r){return null!=oo(s,r)}function Ni(s){return null!=ps(s)}function ps(s){for(const r of s.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let xa=1;class yi{constructor(r){this.listenProvider_=r,this.syncPointTree_=new S(null),this.pendingWriteTree_=function Ps(){return{visibleWrites:j.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vs(s,r,i,u,p){return function io(s,r,i,u,p){(0,L.hu)(u>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),s.allWrites.push({path:r,snap:i,writeId:u,visible:p}),p&&(s.visibleWrites=X(s.visibleWrites,r,i)),s.lastWriteId=u}(s.pendingWriteTree_,r,i,u,p),p?an(s,new Pi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function _(s,r,i=!1){const u=function Go(s,r){for(let i=0;i<s.allWrites.length;i++){const u=s.allWrites[i];if(u.writeId===r)return u}return null}(s.pendingWriteTree_,r);if(function zr(s,r){const i=s.allWrites.findIndex(B=>B.writeId===r);(0,L.hu)(i>=0,"removeWrite called with nonexistent writeId.");const u=s.allWrites[i];s.allWrites.splice(i,1);let p=u.visible,I=!1,P=s.allWrites.length-1;for(;p&&P>=0;){const B=s.allWrites[P];B.visible&&(P>=i&&_i(B,u.path)?p=!1:si(u.path,B.path)&&(I=!0)),P--}return!!p&&(I?(function yo(s){s.visibleWrites=As(s.allWrites,Kr,nn()),s.lastWriteId=s.allWrites.length>0?s.allWrites[s.allWrites.length-1].writeId:-1}(s),!0):(u.snap?s.visibleWrites=Ke(s.visibleWrites,u.path):On(u.children,K=>{s.visibleWrites=Ke(s.visibleWrites,Un(u.path,K))}),!0))}(s.pendingWriteTree_,r)){let I=new S(null);return null!=u.snap?I=I.set(nn(),!0):On(u.children,P=>{I=I.set(new dn(P),!0)}),an(s,new Po(u.path,I,i))}return[]}function v(s,r,i){return an(s,new Pi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function H(s,r,i,u,p=!1){const I=r._path,P=s.syncPointTree_.get(I);let B=[];if(P&&("default"===r._queryIdentifier||Ja(P,r))){const K=function Ko(s,r,i,u){const p=r._queryIdentifier,I=[];let P=[];const B=Ni(s);if("default"===p)for(const[K,ee]of s.views.entries())P=P.concat(du(ee,i,u)),Cl(ee)&&(s.views.delete(K),ee.query._queryParams.loadsAllData()||I.push(ee.query));else{const K=s.views.get(p);K&&(P=P.concat(du(K,i,u)),Cl(K)&&(s.views.delete(p),K.query._queryParams.loadsAllData()||I.push(K.query)))}return B&&!Ni(s)&&I.push(new(function fs(){return(0,L.hu)(Za,"Reference.ts has not been loaded"),Za}())(r._repo,r._path)),{removed:I,events:P}}(P,r,i,u);(function fu(s){return 0===s.views.size})(P)&&(s.syncPointTree_=s.syncPointTree_.remove(I));const ee=K.removed;if(B=K.events,!p){const ke=-1!==ee.findIndex(Ze=>Ze._queryParams.loadsAllData()),Fe=s.syncPointTree_.findOnPath(I,(Ze,Pt)=>Ni(Pt));if(ke&&!Fe){const Ze=s.syncPointTree_.subtree(I);if(!Ze.isEmpty()){const Pt=function pu(s){return s.fold((r,i,u)=>{if(i&&Ni(i))return[ps(i)];{let p=[];return i&&(p=Qa(i)),On(u,(I,P)=>{p=p.concat(P)}),p}})}(Ze);for(let Bt=0;Bt<Pt.length;++Bt){const kn=Pt[Bt],Jr=kn.query,Vo=ao(s,kn);s.listenProvider_.startListening(Zo(Jr),Ui(s,Jr),Vo.hashFn,Vo.onComplete)}}}!Fe&&ee.length>0&&!u&&(ke?s.listenProvider_.stopListening(Zo(r),null):ee.forEach(Ze=>{const Pt=s.queryToTagMap.get(Lr(Ze));s.listenProvider_.stopListening(Zo(Ze),Pt)}))}!function ka(s,r){for(let i=0;i<r.length;++i){const u=r[i];if(!u._queryParams.loadsAllData()){const p=Lr(u),I=s.queryToTagMap.get(p);s.queryToTagMap.delete(p),s.tagToQueryMap.delete(I)}}}(s,ee)}return B}function z(s,r,i,u){const p=ms(s,u);if(null!=p){const I=Ea(p),P=I.path,B=I.queryId,K=_r(P,r);return Ca(s,P,new Pi($o(B),K,i))}return[]}function He(s,r,i,u=!1){const p=r._path;let I=null,P=!1;s.syncPointTree_.foreachOnPath(p,(Ze,Pt)=>{const Bt=_r(Ze,p);I=I||Fr(Pt,Bt),P=P||Ni(Pt)});let K,B=s.syncPointTree_.get(p);B?(P=P||Ni(B),I=I||Fr(B,nn())):(B=new Ya,s.syncPointTree_=s.syncPointTree_.set(p,B)),null!=I?K=!0:(K=!1,I=zt.EMPTY_NODE,s.syncPointTree_.subtree(p).foreachChild((Pt,Bt)=>{const kn=Fr(Bt,nn());kn&&(I=I.updateImmediateChild(Pt,kn))}));const ee=Ja(B,r);if(!ee&&!r._queryParams.loadsAllData()){const Ze=Lr(r);(0,L.hu)(!s.queryToTagMap.has(Ze),"View does not exist, but we have a tag");const Pt=function Tc(){return xa++}();s.queryToTagMap.set(Ze,Pt),s.tagToQueryMap.set(Pt,Ze)}let Fe=function va(s,r,i,u,p,I){const P=qr(s,r,u,p,I);return s.views.has(r._queryIdentifier)||s.views.set(r._queryIdentifier,P),function er(s,r){s.eventRegistrations_.push(r)}(P,i),function Il(s,r){const i=s.viewCache_.eventCache,u=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Mn,(I,P)=>{u.push(fo(I,P))}),i.isFullyInitialized()&&u.push(da(i.getNode())),ya(s,u,i.getNode(),r)}(P,i)}(B,r,i,lr(s.pendingWriteTree_,p),I,K);if(!ee&&!P&&!u){const Ze=oo(B,r);Fe=Fe.concat(function gu(s,r,i){const u=r._path,p=Ui(s,r),I=ao(s,i),P=s.listenProvider_.startListening(Zo(r),p,I.hashFn,I.onComplete),B=s.syncPointTree_.subtree(u);if(p)(0,L.hu)(!Ni(B.value),"If we're adding a query, it shouldn't be shadowed");else{const K=B.fold((ee,ke,Fe)=>{if(!Ht(ee)&&ke&&Ni(ke))return[ps(ke).query];{let Ze=[];return ke&&(Ze=Ze.concat(Qa(ke).map(Pt=>Pt.query))),On(Fe,(Pt,Bt)=>{Ze=Ze.concat(Bt)}),Ze}});for(let ee=0;ee<K.length;++ee){const ke=K[ee];s.listenProvider_.stopListening(Zo(ke),Ui(s,ke))}}return P}(s,r,Ze))}return Fe}function ct(s,r,i){const p=s.pendingWriteTree_,I=s.syncPointTree_.findOnPath(r,(P,B)=>{const ee=Fr(B,_r(P,r));if(ee)return ee});return ha(p,r,I,i,!0)}function an(s,r){return Cr(r,s.syncPointTree_,null,lr(s.pendingWriteTree_,nn()))}function Cr(s,r,i,u){if(Ht(s.path))return so(s,r,i,u);{const p=r.get(nn());null==i&&null!=p&&(i=Fr(p,nn()));let I=[];const P=Wt(s.path),B=s.operationForChild(P),K=r.children.get(P);if(K&&B){const ee=i?i.getImmediateChild(P):null,ke=pa(u,P);I=I.concat(Cr(B,K,ee,ke))}return p&&(I=I.concat(qa(p,s,u,i))),I}}function so(s,r,i,u){const p=r.get(nn());null==i&&null!=p&&(i=Fr(p,nn()));let I=[];return r.children.inorderTraversal((P,B)=>{const K=i?i.getImmediateChild(P):null,ee=pa(u,P),ke=s.operationForChild(P);ke&&(I=I.concat(so(ke,B,K,ee)))}),p&&(I=I.concat(qa(p,s,u,i))),I}function ao(s,r){const i=r.query,u=Ui(s,i);return{hashFn:()=>(function zo(s){return s.viewCache_.serverCache.getNode()}(r)||zt.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return u?function O(s,r,i){const u=ms(s,i);if(u){const p=Ea(u),I=p.path,P=p.queryId,B=_r(I,r);return Ca(s,I,new us($o(P),B))}return[]}(s,i._path,u):function D(s,r){return an(s,new us({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(s,i._path);{const I=function Ot(s,r){let i="Unknown Error";"too_big"===s?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===s?i="Client doesn't have permission to access the desired data.":"unavailable"===s&&(i="The service is unavailable");const u=new Error(s+" at "+r._path.toString()+": "+i);return u.code=s.toUpperCase(),u}(p,i);return H(s,i,null,I)}}}}function Ui(s,r){const i=Lr(r);return s.queryToTagMap.get(i)}function Lr(s){return s._path.toString()+"$"+s._queryIdentifier}function ms(s,r){return s.tagToQueryMap.get(r)}function Ea(s){const r=s.indexOf("$");return(0,L.hu)(-1!==r&&r<s.length-1,"Bad queryKey."),{queryId:s.substr(r+1),path:new dn(s.substr(0,r))}}function Ca(s,r,i){const u=s.syncPointTree_.get(r);return(0,L.hu)(u,"Missing sync point for query tag that we're tracking"),qa(u,i,lr(s.pendingWriteTree_,r),null)}function Zo(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(function Na(){return(0,L.hu)(gs,"Reference.ts has not been loaded"),gs}())(s._repo,s._path):s}class wl{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new wl(i)}node(){return this.node_}}class Xa{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=Un(this.path_,r);return new Xa(this.syncTree_,i)}node(){return ct(this.syncTree_,this.path_)}}const Uu=function(s){return(s=s||{}).timestamp=s.timestamp||(new Date).getTime(),s},mu=function(s,r,i){return s&&"object"==typeof s?((0,L.hu)(".sv"in s,"Unexpected leaf node or priority contents"),"string"==typeof s[".sv"]?Bl(s[".sv"],r,i):"object"==typeof s[".sv"]?Bu(s[".sv"],r):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2))):s},Bl=function(s,r,i){if("timestamp"===s)return i.timestamp;(0,L.hu)(!1,"Unexpected server value: "+s)},Bu=function(s,r,i){s.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const u=s.increment;"number"!=typeof u&&(0,L.hu)(!1,"Unexpected increment value: "+u);const p=r.node();if((0,L.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return u;const P=p.getValue();return"number"!=typeof P?u:P+u},el=function(s,r,i,u){return Hl(r,new Xa(i,s),u)},Fa=function(s,r,i){return Hl(s,new wl(r),i)};function Hl(s,r,i){const u=s.getPriority().val(),p=mu(u,r.getImmediateChild(".priority"),i);let I;if(s.isLeafNode()){const P=s,B=mu(P.getValue(),r,i);return B!==P.getValue()||p!==P.getPriority().val()?new ai(B,Xn(p)):s}{const P=s;return I=P,p!==P.getPriority().val()&&(I=I.updatePriority(new ai(p))),P.forEachChild(Mn,(B,K)=>{const ee=Hl(K,r.getImmediateChild(B),i);ee!==K&&(I=I.updateImmediateChild(B,ee))}),I}}class jl{constructor(r="",i=null,u={children:{},childCount:0}){this.name=r,this.parent=i,this.node=u}}function tl(s,r){let i=r instanceof dn?r:new dn(r),u=s,p=Wt(i);for(;null!==p;){const I=(0,L.DV)(u.node.children,p)||{children:{},childCount:0};u=new jl(p,u,I),i=bn(i),p=Wt(i)}return u}function ia(s){return s.node.value}function bl(s,r){s.node.value=r,il(s)}function nl(s){return s.node.childCount>0}function Bs(s,r){On(s.node.children,(i,u)=>{r(new jl(i,s,u))})}function rl(s,r,i,u){i&&!u&&r(s),Bs(s,p=>{rl(p,r,!0,u)}),i&&u&&r(s)}function _s(s){return new dn(null===s.parent?s.name:_s(s.parent)+"/"+s.name)}function il(s){null!==s.parent&&function Wl(s,r,i){const u=function $l(s){return void 0===ia(s)&&!nl(s)}(i),p=(0,L.r3)(s.node.children,r);u&&p?(delete s.node.children[r],s.node.childCount--,il(s)):!u&&!p&&(s.node.children[r]=i.node,s.node.childCount++,il(s))}(s.parent,s.name,s)}const yu=/[\[\].#$\/\u0000-\u001F\u007F]/,Sc=/[\[\].#$\u0000-\u001F\u007F]/,Gl=10485760,zl=function(s){return"string"==typeof s&&0!==s.length&&!yu.test(s)},Kl=function(s){return"string"==typeof s&&0!==s.length&&!Sc.test(s)},Eo=function(s){return null===s||"string"==typeof s||"number"==typeof s&&!_t(s)||s&&"object"==typeof s&&(0,L.r3)(s,".sv")},xo=function(s,r,i,u){u&&void 0===r||La((0,L.gK)(s,"value"),r,i)},La=function(s,r,i){const u=i instanceof dn?new fi(i,s):i;if(void 0===r)throw new Error(s+"contains undefined "+Ai(u));if("function"==typeof r)throw new Error(s+"contains a function "+Ai(u)+" with contents = "+r.toString());if(_t(r))throw new Error(s+"contains "+r.toString()+" "+Ai(u));if("string"==typeof r&&r.length>Gl/3&&(0,L.ug)(r)>Gl)throw new Error(s+"contains a string greater than "+Gl+" utf8 bytes "+Ai(u)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let p=!1,I=!1;if(On(r,(P,B)=>{if(".value"===P)p=!0;else if(".priority"!==P&&".sv"!==P&&(I=!0,!zl(P)))throw new Error(s+" contains an invalid key ("+P+") "+Ai(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function to(s,r){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(r),s.byteLength_+=(0,L.ug)(r),Zs(s)})(u,P),La(s,B,u),function Fi(s){const r=s.parts_.pop();s.byteLength_-=(0,L.ug)(r),s.parts_.length>0&&(s.byteLength_-=1)}(u)}),p&&I)throw new Error(s+' contains ".value" child '+Ai(u)+" in addition to actual children.")}},oa=function(s,r,i,u){if(u&&void 0===r)return;const p=(0,L.gK)(s,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(p+" must be an object containing the children to replace.");const I=[];On(r,(P,B)=>{const K=new dn(P);if(La(p,B,Un(i,K)),".priority"===Rr(K)&&!Eo(B))throw new Error(p+"contains an invalid value for '"+K.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");I.push(K)}),function(s,r){let i,u;for(i=0;i<r.length;i++){u=r[i];const I=Wi(u);for(let P=0;P<I.length;P++)if((".priority"!==I[P]||P!==I.length-1)&&!zl(I[P]))throw new Error(s+"contains an invalid key ("+I[P]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(vi);let p=null;for(i=0;i<r.length;i++){if(u=r[i],null!==p&&si(p,u))throw new Error(s+"contains a path "+p.toString()+" that is ancestor of another path "+u.toString());p=u}}(p,I)},Va=function(s,r,i){if(!i||void 0!==r){if(_t(r))throw new Error((0,L.gK)(s,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Eo(r))throw new Error((0,L.gK)(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qo=function(s,r,i,u){if(!(u&&void 0===i||zl(i)))throw new Error((0,L.gK)(s,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ol=function(s,r,i,u){if(!(u&&void 0===i||Kl(i)))throw new Error((0,L.gK)(s,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vu=function(s,r,i,u){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ol(s,r,i,u)},Co=function(s,r){if(".info"===Wt(r))throw new Error(s+" failed = Can't modify data under /.info/")},Eu=function(s,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!zl(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Kl(s)}(i))throw new Error((0,L.gK)(s,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tl(s,r){let i=null;for(let u=0;u<r.length;u++){const p=r[u],I=p.getPath();null!==i&&!co(I,i.path)&&(s.eventLists_.push(i),i=null),null===i&&(i={events:[],path:I}),i.events.push(p)}i&&s.eventLists_.push(i)}function E(s,r,i){Tl(s,i),x(s,u=>co(u,r))}function T(s,r,i){Tl(s,i),x(s,u=>si(u,r)||si(r,u))}function x(s,r){s.recursionDepth_++;let i=!0;for(let u=0;u<s.eventLists_.length;u++){const p=s.eventLists_[u];p&&(r(p.path)?(Y(s.eventLists_[u]),s.eventLists_[u]=null):i=!1)}i&&(s.eventLists_=[]),s.recursionDepth_--}function Y(s){for(let r=0;r<s.events.length;r++){const i=s.events[r];if(null!==i){s.events[r]=null;const u=i.getEventRunner();It&&at("event: "+i.toString()),Nn(u)}}}const ce="repo_interrupt",ge=25;class Re{constructor(r,i,u,p){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=u,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ro(),this.transactionQueueTree_=new jl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dt(s){const i=s.infoData_.getNode(new dn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function Nt(s){return Uu({timestamp:dt(s)})}function en(s,r,i,u,p){s.dataUpdateCount++;const I=new dn(r);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(r,i):i;let P=[];if(p)if(u){const K=(0,L.UI)(i,ee=>Xn(ee));P=function pe(s,r,i,u){const p=ms(s,u);if(p){const I=Ea(p),P=I.path,B=I.queryId,K=_r(P,r),ee=S.fromObject(i);return Ca(s,P,new tr($o(B),K,ee))}return[]}(s.serverSyncTree_,I,K,p)}else{const K=Xn(i);P=z(s.serverSyncTree_,I,K,p)}else if(u){const K=(0,L.UI)(i,ee=>Xn(ee));P=function f(s,r,i){const u=S.fromObject(i);return an(s,new tr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,u))}(s.serverSyncTree_,I,K)}else{const K=Xn(i);P=v(s.serverSyncTree_,I,K)}let B=I;P.length>0&&(B=al(s,I)),T(s.eventQueue_,B,P)}function tn(s,r){Vr(s,"connected",r),!1===r&&function Jo(s){ys(s,"onDisconnectEvents");const r=Nt(s),i=Ro();ar(s.onDisconnect_,nn(),(p,I)=>{const P=el(p,I,s.serverSyncTree_,r);mo(i,p,P)});let u=[];ar(i,nn(),(p,I)=>{u=u.concat(v(s.serverSyncTree_,p,I));const P=ll(s,p);al(s,P)}),s.onDisconnect_=Ro(),T(s.eventQueue_,nn(),u)}(s)}function Vr(s,r,i){const u=new dn("/.info/"+r),p=Xn(i);s.infoData_.updateSnapshot(u,p);const I=v(s.infoSyncTree_,u,p);T(s.eventQueue_,u,I)}function Hs(s){return s.nextWriteId_++}function js(s,r,i,u,p){ys(s,"set",{path:r.toString(),value:i,priority:u});const I=Nt(s),P=Xn(i,u),B=ct(s.serverSyncTree_,r),K=Fa(P,B,I),ee=Hs(s),ke=Vs(s.serverSyncTree_,r,K,ee,!0);Tl(s.eventQueue_,ke),s.server_.put(r.toString(),P.val(!0),(Ze,Pt)=>{const Bt="ok"===Ze;Bt||Lt("set at "+r+" failed: "+Ze);const kn=_(s.serverSyncTree_,ee,!Bt);T(s.eventQueue_,r,kn),sa(0,p,Ze,Pt)});const Fe=ll(s,r);al(s,Fe),T(s.eventQueue_,Fe,[])}function Al(s,r,i){s.server_.onDisconnectCancel(r.toString(),(u,p)=>{"ok"===u&&Aa(s.onDisconnect_,r),sa(0,i,u,p)})}function Cu(s,r,i,u){const p=Xn(i);s.server_.onDisconnectPut(r.toString(),p.val(!0),(I,P)=>{"ok"===I&&mo(s.onDisconnect_,r,p),sa(0,u,I,P)})}function Ml(s,r,i){let u;u=".info"===Wt(r._path)?H(s.infoSyncTree_,r,i):H(s.serverSyncTree_,r,i),E(s.eventQueue_,r._path,u)}function sl(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ce)}function ys(s,...r){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),at(i,...r)}function sa(s,r,i,u){r&&Nn(()=>{if("ok"===i)r(null);else{const p=(i||"error").toUpperCase();let I=p;u&&(I+=": "+u);const P=new Error(I);P.code=p,r(P)}})}function Wu(s,r,i){return ct(s.serverSyncTree_,r,i)||zt.EMPTY_NODE}function Rl(s,r=s.transactionQueueTree_){if(r||ql(s,r),ia(r)){const i=Ua(s,r);(0,L.hu)(i.length>0,"Sending zero length transaction queue"),i.every(p=>0===p.status)&&function vd(s,r,i){const u=i.map(ee=>ee.currentWriteId),p=Wu(s,r,u);let I=p;const P=p.hash();for(let ee=0;ee<i.length;ee++){const ke=i[ee];(0,L.hu)(0===ke.status,"tryToSendTransactionQueue_: items in queue should all be run."),ke.status=1,ke.retryCount++;const Fe=_r(r,ke.path);I=I.updateChild(Fe,ke.currentOutputSnapshotRaw)}const B=I.val(!0),K=r;s.server_.put(K.toString(),B,ee=>{ys(s,"transaction put response",{path:K.toString(),status:ee});let ke=[];if("ok"===ee){const Fe=[];for(let Ze=0;Ze<i.length;Ze++)i[Ze].status=2,ke=ke.concat(_(s.serverSyncTree_,i[Ze].currentWriteId)),i[Ze].onComplete&&Fe.push(()=>i[Ze].onComplete(null,!0,i[Ze].currentOutputSnapshotResolved)),i[Ze].unwatcher();ql(s,tl(s.transactionQueueTree_,r)),Rl(s,s.transactionQueueTree_),T(s.eventQueue_,r,ke);for(let Ze=0;Ze<Fe.length;Ze++)Nn(Fe[Ze])}else{if("datastale"===ee)for(let Fe=0;Fe<i.length;Fe++)i[Fe].status=3===i[Fe].status?4:0;else{Lt("transaction at "+K.toString()+" failed: "+ee);for(let Fe=0;Fe<i.length;Fe++)i[Fe].status=4,i[Fe].abortReason=ee}al(s,r)}},P)}(s,_s(r),i)}else nl(r)&&Bs(r,i=>{Rl(s,i)})}function al(s,r){const i=Cd(s,r),u=_s(i);return function Ed(s,r,i){if(0===r.length)return;const u=[];let p=[];const P=r.filter(B=>0===B.status).map(B=>B.currentWriteId);for(let B=0;B<r.length;B++){const K=r[B],ee=_r(i,K.path);let Fe,ke=!1;if((0,L.hu)(null!==ee,"rerunTransactionsUnderNode_: relativePath should not be null."),4===K.status)ke=!0,Fe=K.abortReason,p=p.concat(_(s.serverSyncTree_,K.currentWriteId,!0));else if(0===K.status)if(K.retryCount>=ge)ke=!0,Fe="maxretry",p=p.concat(_(s.serverSyncTree_,K.currentWriteId,!0));else{const Ze=Wu(s,K.path,P);K.currentInputSnapshot=Ze;const Pt=r[B].update(Ze.val());if(void 0!==Pt){La("transaction failed: Data returned ",Pt,K.path);let Bt=Xn(Pt);"object"==typeof Pt&&null!=Pt&&(0,L.r3)(Pt,".priority")||(Bt=Bt.updatePriority(Ze.getPriority()));const Jr=K.currentWriteId,Vo=Nt(s),Es=Fa(Bt,Ze,Vo);K.currentOutputSnapshotRaw=Bt,K.currentOutputSnapshotResolved=Es,K.currentWriteId=Hs(s),P.splice(P.indexOf(Jr),1),p=p.concat(Vs(s.serverSyncTree_,K.path,Es,K.currentWriteId,K.applyLocally)),p=p.concat(_(s.serverSyncTree_,Jr,!0))}else ke=!0,Fe="nodata",p=p.concat(_(s.serverSyncTree_,K.currentWriteId,!0))}T(s.eventQueue_,i,p),p=[],ke&&(r[B].status=2,setTimeout(r[B].unwatcher,Math.floor(0)),r[B].onComplete&&u.push("nodata"===Fe?()=>r[B].onComplete(null,!1,r[B].currentInputSnapshot):()=>r[B].onComplete(new Error(Fe),!1,null)))}ql(s,s.transactionQueueTree_);for(let B=0;B<u.length;B++)Nn(u[B]);Rl(s,s.transactionQueueTree_)}(s,Ua(s,i),u),u}function Cd(s,r){let i,u=s.transactionQueueTree_;for(i=Wt(r);null!==i&&void 0===ia(u);)u=tl(u,i),i=Wt(r=bn(r));return u}function Ua(s,r){const i=[];return Mc(s,r,i),i.sort((u,p)=>u.order-p.order),i}function Mc(s,r,i){const u=ia(r);if(u)for(let p=0;p<u.length;p++)i.push(u[p]);Bs(r,p=>{Mc(s,p,i)})}function ql(s,r){const i=ia(r);if(i){let u=0;for(let p=0;p<i.length;p++)2!==i[p].status&&(i[u]=i[p],u++);i.length=u,bl(r,i.length>0?i:void 0)}Bs(r,u=>{ql(s,u)})}function ll(s,r){const i=_s(Cd(s,r)),u=tl(s.transactionQueueTree_,r);return function _u(s,r,i){let u=i?s:s.parent;for(;null!==u;){if(r(u))return!0;u=u.parent}}(u,p=>{Iu(s,p)}),Iu(s,u),rl(u,p=>{Iu(s,p)}),i}function Iu(s,r){const i=ia(r);if(i){const u=[];let p=[],I=-1;for(let P=0;P<i.length;P++)3===i[P].status||(1===i[P].status?((0,L.hu)(I===P-1,"All SENT items should be at beginning of queue."),I=P,i[P].status=3,i[P].abortReason="set"):((0,L.hu)(0===i[P].status,"Unexpected transaction status in abort"),i[P].unwatcher(),p=p.concat(_(s.serverSyncTree_,i[P].currentWriteId,!0)),i[P].onComplete&&u.push(i[P].onComplete.bind(null,new Error("set"),!1,null))));-1===I?bl(r,void 0):i.length=I+1,T(s.eventQueue_,_s(r),p);for(let P=0;P<u.length;P++)Nn(u[P])}}const Gu=function(s,r){const i=Du(s),u=i.namespace;return"firebase.com"===i.domain&&qn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==i.domain&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new je(i.host,i.secure,u,"ws"===i.scheme||"wss"===i.scheme,r,"",u!==i.subdomain),path:new dn(i.pathString)}},Du=function(s){let r="",i="",u="",p="",I="",P=!0,B="https",K=443;if("string"==typeof s){let ee=s.indexOf("//");ee>=0&&(B=s.substring(0,ee-1),s=s.substring(ee+2));let ke=s.indexOf("/");-1===ke&&(ke=s.length);let Fe=s.indexOf("?");-1===Fe&&(Fe=s.length),r=s.substring(0,Math.min(ke,Fe)),ke<Fe&&(p=function Ql(s){let r="";const i=s.split("/");for(let u=0;u<i.length;u++)if(i[u].length>0){let p=i[u];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}r+="/"+p}return r}(s.substring(ke,Fe)));const Ze=function Id(s){const r={};"?"===s.charAt(0)&&(s=s.substring(1));for(const i of s.split("&")){if(0===i.length)continue;const u=i.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Lt(`Invalid query segment '${i}' in query '${s}'`)}return r}(s.substring(Math.min(s.length,Fe)));ee=r.indexOf(":"),ee>=0?(P="https"===B||"wss"===B,K=parseInt(r.substring(ee+1),10)):ee=r.length;const Pt=r.slice(0,ee);if("localhost"===Pt.toLowerCase())i="localhost";else if(Pt.split(".").length<=2)i=Pt;else{const Bt=r.indexOf(".");u=r.substring(0,Bt).toLowerCase(),i=r.substring(Bt+1),I=u}"ns"in Ze&&(I=Ze.ns)}return{host:r,port:K,domain:i,subdomain:u,secure:P,scheme:B,pathString:p,namespace:I}},zu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ul=function(){let s=0;const r=[];return function(i){const u=i===s;let p;s=i;const I=new Array(8);for(p=7;p>=0;p--)I[p]=zu.charAt(i%64),i=Math.floor(i/64);(0,L.hu)(0===i,"Cannot push at time == 0");let P=I.join("");if(u){for(p=11;p>=0&&63===r[p];p--)r[p]=0;r[p]++}else for(p=0;p<12;p++)r[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)P+=zu.charAt(r[p]);return(0,L.hu)(20===P.length,"nextPushId: Length should be 20."),P}}();class Jl{constructor(r,i,u,p){this.eventType=r,this.eventRegistration=i,this.snapshot=u,this.prevName=p}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class Ku{constructor(r,i,u){this.eventRegistration=r,this.error=i,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Zu{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Dd{constructor(r,i){this._repo=r,this._path=i}cancel(){const r=new L.BH;return Al(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Co("OnDisconnect.remove",this._path);const r=new L.BH;return Cu(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Co("OnDisconnect.set",this._path),xo("OnDisconnect.set",r,this._path,!1);const i=new L.BH;return Cu(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}setWithPriority(r,i){Co("OnDisconnect.setWithPriority",this._path),xo("OnDisconnect.setWithPriority",r,this._path,!1),Va("OnDisconnect.setWithPriority",i,!1);const u=new L.BH;return function Yl(s,r,i,u,p){const I=Xn(i,u);s.server_.onDisconnectPut(r.toString(),I.val(!0),(P,B)=>{"ok"===P&&mo(s.onDisconnect_,r,I),sa(0,p,P,B)})}(this._repo,this._path,r,i,u.wrapCallback(()=>{})),u.promise}update(r){Co("OnDisconnect.update",this._path),oa("OnDisconnect.update",r,this._path,!1);const i=new L.BH;return function Th(s,r,i,u){if((0,L.xb)(i))return at("onDisconnect().update() called with empty data.  Don't do anything."),void sa(0,u,"ok",void 0);s.server_.onDisconnectMerge(r.toString(),i,(p,I)=>{"ok"===p&&On(i,(P,B)=>{const K=Xn(B);mo(s.onDisconnect_,Un(r,P),K)}),sa(0,u,p,I)})}(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}}class qi{constructor(r,i,u,p){this._repo=r,this._path=i,this._queryParams=u,this._orderByCalled=p}get key(){return Ht(this._path)?null:Rr(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const r=Mo(this._queryParams),i=nr(r);return"{}"===i?"default":i}get _queryObject(){return Mo(this._queryParams)}isEqual(r){if(!((r=(0,L.m9)(r))instanceof qi))return!1;const i=this._repo===r._repo,u=co(this._path,r._path);return i&&u&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function oi(s){let r="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)""!==s.pieces_[i]&&(r+="/"+encodeURIComponent(String(s.pieces_[i])));return r||"/"}(this._path)}}function wu(s,r){if(!0===s._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function aa(s){let r=null,i=null;if(s.hasStart()&&(r=s.getIndexStartValue()),s.hasEnd()&&(i=s.getIndexEndValue()),s.getIndex()===Hr){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==jn)throw new Error(u);if("string"!=typeof r)throw new Error(p)}if(s.hasEnd()){if(s.getIndexEndName()!==gn)throw new Error(u);if("string"!=typeof i)throw new Error(p)}}else if(s.getIndex()===Mn){if(null!=r&&!Eo(r)||null!=i&&!Eo(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(s.getIndex()instanceof Bo||s.getIndex()===Ki,"unknown index type."),null!=r&&"object"==typeof r||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cl(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xo extends qi{constructor(r,i){super(r,i,new Tn,!1)}get parent(){const r=eo(this._path);return null===r?null:new Xo(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ia{constructor(r,i,u){this._node=r,this.ref=i,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new dn(r),u=la(this.ref,r);return new Ia(this._node.getChild(i),u,Mn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,p)=>r(new Ia(p,la(this.ref,u),Mn)))}hasChild(r){const i=new dn(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xl(s,r){return(s=(0,L.m9)(s))._checkNotDeleted("ref"),void 0!==r?la(s._root,r):s._root}function dl(s,r){(s=(0,L.m9)(s))._checkNotDeleted("refFromURL");const i=Gu(r,s._repo.repoInfo_.nodeAdmin);Eu("refFromURL",i);const u=i.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&u.host!==s._repo.repoInfo_.host&&qn("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+s._repo.repoInfo_.host+")"),Xl(s,i.path.toString())}function la(s,r){return null===Wt((s=(0,L.m9)(s))._path)?vu("child","path",r,!1):ol("child","path",r,!1),new Xo(s._repo,Un(s._path,r))}function eu(s,r){s=(0,L.m9)(s),Co("set",s._path),xo("set",r,s._path,!1);const i=new L.BH;return js(s._repo,s._path,r,null,i.wrapCallback(()=>{})),i.promise}function Pc(s,r){oa("update",r,s._path,!1);const i=new L.BH;return function Qo(s,r,i,u){ys(s,"update",{path:r.toString(),value:i});let p=!0;const I=Nt(s),P={};if(On(i,(B,K)=>{p=!1,P[B]=el(Un(r,B),Xn(K),s.serverSyncTree_,I)}),p)at("update() called with empty data.  Don't do anything."),sa(0,u,"ok",void 0);else{const B=Hs(s),K=function Us(s,r,i,u){!function Oi(s,r,i,u){(0,L.hu)(u>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:r,children:i,writeId:u,visible:!0}),s.visibleWrites=Ne(s.visibleWrites,r,i),s.lastWriteId=u}(s.pendingWriteTree_,r,i,u);const p=S.fromObject(i);return an(s,new tr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,p))}(s.serverSyncTree_,r,P,B);Tl(s.eventQueue_,K),s.server_.merge(r.toString(),i,(ee,ke)=>{const Fe="ok"===ee;Fe||Lt("update at "+r+" failed: "+ee);const Ze=_(s.serverSyncTree_,B,!Fe),Pt=Ze.length>0?al(s,r):r;T(s.eventQueue_,Pt,Ze),sa(0,u,ee,ke)}),On(i,ee=>{const ke=ll(s,Un(r,ee));al(s,ke)}),T(s.eventQueue_,r,[])}}(s._repo,s._path,r,i.wrapCallback(()=>{})),i.promise}function bd(s){s=(0,L.m9)(s);const r=new Zu(()=>{}),i=new nu(r);return function Sl(s,r,i){const u=function Ct(s,r){const i=r._path;let u=null;s.syncPointTree_.foreachOnPath(i,(ee,ke)=>{const Fe=_r(ee,i);u=u||Fr(ke,Fe)});let p=s.syncPointTree_.get(i);p?u=u||Fr(p,nn()):(p=new Ya,s.syncPointTree_=s.syncPointTree_.set(i,p));const I=null!=u,P=I?new Gr(u,!0,!1):null;return function Vi(s){return ds(s.viewCache_)}(qr(p,r,lr(s.pendingWriteTree_,r._path),I?P.getNode():zt.EMPTY_NODE,I))}(s.serverSyncTree_,r);return null!=u?Promise.resolve(u):s.server_.get(r).then(p=>{const I=Xn(p).withIndex(r._queryParams.getIndex());let P;if(He(s.serverSyncTree_,r,i,!0),r._queryParams.loadsAllData())P=v(s.serverSyncTree_,r._path,I);else{const B=Ui(s.serverSyncTree_,r);P=z(s.serverSyncTree_,r._path,I,B)}return T(s.eventQueue_,r._path,P),H(s.serverSyncTree_,r,i,null,!0),I},p=>(ys(s,"get for query "+(0,L.Wl)(r)+" failed: "+p),Promise.reject(new Error(p))))}(s._repo,s,i).then(u=>new Ia(u,new Xo(s._repo,s._path),s._queryParams.getIndex()))}class nu{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const u=i._queryParams.getIndex();return new Jl("value",this,new Ia(r.snapshotNode,new Xo(i._repo,i._path),u))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ku(this,r,i):null}matches(r){return r instanceof nu&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bu{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ku(this,r,i):null}createEvent(r,i){(0,L.hu)(null!=r.childName,"Child events should have a childName.");const u=la(new Xo(i._repo,i._path),r.childName),p=i._queryParams.getIndex();return new Jl(r.type,this,new Ia(r.snapshotNode,u,p),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof bu&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ua(s,r,i,u,p){let I;if("object"==typeof u&&(I=void 0,p=u),"function"==typeof u&&(I=u),p&&p.onlyOnce){const K=i,ee=(ke,Fe)=>{Ml(s._repo,s,B),K(ke,Fe)};ee.userCallback=i.userCallback,ee.context=i.context,i=ee}const P=new Zu(i,I||void 0),B="value"===r?new nu(P):new bu(r,P);return function ju(s,r,i){let u;u=".info"===Wt(r._path)?He(s.infoSyncTree_,r,i):He(s.serverSyncTree_,r,i),E(s.eventQueue_,r._path,u)}(s._repo,s,B),()=>Ml(s._repo,s,B)}function Tu(s,r,i,u){return ua(s,"value",r,i,u)}function Ol(s,r,i,u){return ua(s,"child_added",r,i,u)}function Su(s,r,i,u){return ua(s,"child_changed",r,i,u)}function hl(s,r,i,u){return ua(s,"child_moved",r,i,u)}function Oc(s,r,i,u){return ua(s,"child_removed",r,i,u)}function Nc(s,r,i){let u=null;const p=i?new Zu(i):null;"value"===r?u=new nu(p):r&&(u=new bu(r,p)),Ml(s._repo,s,u)}class $s{}class Au extends $s{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){xo("endAt",this._value,r._path,!0);const i=Ii(r._queryParams,this._value,this._key);if(cl(i),aa(i),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qi(r._repo,r._path,i,r._orderByCalled)}}class xc extends $s{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){xo("endBefore",this._value,r._path,!1);const i=function br(s,r,i){let u;return u=Ii(s,r,s.index_===Hr||i?i:jn),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(cl(i),aa(i),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qi(r._repo,r._path,i,r._orderByCalled)}}class fl extends $s{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){xo("startAt",this._value,r._path,!0);const i=go(r._queryParams,this._value,this._key);if(cl(i),aa(i),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qi(r._repo,r._path,i,r._orderByCalled)}}class Fo extends $s{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){xo("startAfter",this._value,r._path,!1);const i=function li(s,r,i){let u;return u=go(s,r,s.index_===Hr||i?i:gn),u.startAfterSet_=!0,u}(r._queryParams,this._value,this._key);if(cl(i),aa(i),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qi(r._repo,r._path,i,r._orderByCalled)}}class Qu extends $s{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qi(r._repo,r._path,function po(s,r){const i=s.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="l",i}(r._queryParams,this._limit),r._orderByCalled)}}class Ju extends $s{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qi(r._repo,r._path,function Zi(s,r){const i=s.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="r",i}(r._queryParams,this._limit),r._orderByCalled)}}class Td extends $s{constructor(r){super(),this._path=r}_apply(r){wu(r,"orderByChild");const i=new dn(this._path);if(Ht(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new Bo(i),p=gi(r._queryParams,u);return aa(p),new qi(r._repo,r._path,p,!0)}}class Sd extends $s{_apply(r){wu(r,"orderByKey");const i=gi(r._queryParams,Hr);return aa(i),new qi(r._repo,r._path,i,!0)}}class xl extends $s{_apply(r){wu(r,"orderByPriority");const i=gi(r._queryParams,Mn);return aa(i),new qi(r._repo,r._path,i,!0)}}class Sh extends $s{_apply(r){wu(r,"orderByValue");const i=gi(r._queryParams,Ki);return aa(i),new qi(r._repo,r._path,i,!0)}}class Md extends $s{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){if(xo("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Au(this._value,this._key)._apply(new fl(this._value,this._key)._apply(r))}}function vs(s,...r){let i=(0,L.m9)(s);for(const u of r)i=u._apply(i);return i}(function hu(s){(0,L.hu)(!Za,"__referenceConstructor has already been defined"),Za=s})(Xo),function Dl(s){(0,L.hu)(!gs,"__referenceConstructor has already been defined"),gs=s}(Xo);const Mu="FIREBASE_DATABASE_EMULATOR_HOST",ec={};let ca=!1;function tc(s,r,i,u,p){let I=u||s.options.databaseURL;void 0===I&&(s.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",s.options.projectId),I=`${s.options.projectId}-default-rtdb.firebaseio.com`);let K,ee,P=Gu(I,p),B=P.repoInfo;typeof process<"u"&&process.env&&(ee=process.env[Mu]),ee?(K=!0,I=`http://${ee}?ns=${B.namespace}`,P=Gu(I,p),B=P.repoInfo):K=!P.repoInfo.secure;const ke=p&&K?new rr(rr.OWNER):new on(s.name,s.options,r);Eu("Invalid Firebase Database URL",P),Ht(P.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const Fe=function Da(s,r,i,u){let p=ec[r.name];p||(p={},ec[r.name]=p);let I=p[s.toURLString()];return I&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),I=new Re(s,ca,i,u),p[s.toURLString()]=I,I}(B,s,ke,new bi(s.name,i));return new Vc(Fe,s)}class Vc{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gt(s,r,i){if(s.stats_=ye(s.repoInfo_),s.forceRestClient_||ti())s.server_=new mi(s.repoInfo_,(u,p,I,P)=>{en(s,u,p,I,P)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>tn(s,!0),0);else{if(typeof i<"u"&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(i)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}s.persistentConnection_=new Dr(s.repoInfo_,r,(u,p,I,P)=>{en(s,u,p,I,P)},u=>{tn(s,u)},u=>{!function ko(s,r){On(r,(i,u)=>{Vr(s,i,u)})}(s,u)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(u=>{s.server_.refreshAuthToken(u)}),s.appCheckProvider_.addTokenChangeListener(u=>{s.server_.refreshAppCheckToken(u.token)}),s.statsReporter_=function Ue(s,r){const i=s.toString();return q[i]||(q[i]=r()),q[i]}(s.repoInfo_,()=>new Js(s.stats_,s.server_)),s.infoData_=new Sa,s.infoSyncTree_=new yi({startListening:(u,p,I,P)=>{let B=[];const K=s.infoData_.getNode(u._path);return K.isEmpty()||(B=v(s.infoSyncTree_,u._path,K),setTimeout(()=>{P("ok")},0)),B},stopListening:()=>{}}),Vr(s,"connected",!1),s.serverSyncTree_=new yi({startListening:(u,p,I,P)=>(s.server_.listen(u,I,p,(B,K)=>{const ee=P(B,K);T(s.eventQueue_,u._path,ee)}),[]),stopListening:(u,p)=>{s.server_.unlisten(u,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ru(s,r){const i=ec[r];(!i||i[s.key]!==s)&&qn(`Database ${r}(${s.repoInfo_}) has already been deleted.`),sl(s),delete i[s.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&qn("Cannot call "+r+" on a deleted database.")}}function nc(){Cn.IS_TRANSPORT_INITIALIZED&&Lt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Uc(){nc(),gr.forceDisallow()}function Mh(){nc(),Ar.forceDisallow(),gr.forceAllow()}function N(s,r){fn(s,r)}const oe={".sv":"timestamp"};class ht{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Dr.prototype.simpleListen=function(s,r){this.sendRequest("q",{p:s},r)},Dr.prototype.echo=function(s,r){this.sendRequest("echo",{d:s},r)},function $(s){Kt(st.SDK_VERSION),(0,st._registerComponent)(new rt.wA("database",(r,{instanceIdentifier:i})=>tc(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(mt,"0.14.4",s),(0,st.registerVersion)(mt,"0.14.4","esm2017")}();const Bc=new kt.Yd("@firebase/database-compat"),Qr=function(s){Bc.warn("FIREBASE WARNING: "+s)};class ou{constructor(r){this._delegate=r}cancel(r){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",r,!0);const i=this._delegate.cancel();return r&&i.then(()=>r(null),u=>r(u)),i}remove(r){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",r,!0);const i=this._delegate.remove();return r&&i.then(()=>r(null),u=>r(u)),i}set(r,i){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",i,!0);const u=this._delegate.set(r);return i&&u.then(()=>i(null),p=>i(p)),u}setWithPriority(r,i,u){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const p=this._delegate.setWithPriority(r,i);return u&&p.then(()=>u(null),I=>u(I)),p}update(r,i){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let I=0;I<r.length;++I)p[""+I]=r[I];r=p,Qr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",i,!0);const u=this._delegate.update(r);return i&&u.then(()=>i(null),p=>i(p)),u}}class rc{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class wa{constructor(r,i){this._database=r,this._delegate=i}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),ol("DataSnapshot.child","path",r,!1),new wa(this._database,this._delegate.child(r))}hasChild(r){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ol("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(i=>r(new wa(this._database,i)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class xi{constructor(r,i){this.database=r,this._delegate=i}on(r,i,u,p){var I;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",i,!1);const P=xi.getCancelAndContextArgs_("Query.on",u,p),B=(ee,ke)=>{i.call(P.context,new wa(this.database,ee),ke)};B.userCallback=i,B.context=P.context;const K=null===(I=P.cancel)||void 0===I?void 0:I.bind(P.context);switch(r){case"value":return Tu(this._delegate,B,K),i;case"child_added":return Ol(this._delegate,B,K),i;case"child_removed":return Oc(this._delegate,B,K),i;case"child_changed":return Su(this._delegate,B,K),i;case"child_moved":return hl(this._delegate,B,K),i;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,i,u){if((0,L.Dv)("Query.off",0,3,arguments.length),function(s,r,i){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,L.Wj)("Query.off","callback",i,!0),(0,L.lb)("Query.off","context",u,!0),i){const p=()=>{};p.userCallback=i,p.context=u,Nc(this._delegate,r,p)}else Nc(this._delegate,r)}get(){return bd(this._delegate).then(r=>new wa(this.database,r))}once(r,i,u,p){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",i,!0);const I=xi.getCancelAndContextArgs_("Query.once",u,p),P=new L.BH,B=(ee,ke)=>{const Fe=new wa(this.database,ee);i&&i.call(I.context,Fe,ke),P.resolve(Fe)};B.userCallback=i,B.context=I.context;const K=ee=>{I.cancel&&I.cancel.call(I.context,ee),P.reject(ee)};switch(r){case"value":Tu(this._delegate,B,K,{onlyOnce:!0});break;case"child_added":Ol(this._delegate,B,K,{onlyOnce:!0});break;case"child_removed":Oc(this._delegate,B,K,{onlyOnce:!0});break;case"child_changed":Su(this._delegate,B,K,{onlyOnce:!0});break;case"child_moved":hl(this._delegate,B,K,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise}limitToFirst(r){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new xi(this.database,vs(this._delegate,function Fc(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qu(s)}(r)))}limitToLast(r){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new xi(this.database,vs(this._delegate,function Xu(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ju(s)}(r)))}orderByChild(r){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new xi(this.database,vs(this._delegate,function Lc(s){if("$key"===s)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===s)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===s)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ol("orderByChild","path",s,!1),new Td(s)}(r)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new xi(this.database,vs(this._delegate,function Io(){return new Sd}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new xi(this.database,vs(this._delegate,function Ad(){return new xl}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new xi(this.database,vs(this._delegate,function Ah(){return new Sh}()))}startAt(r=null,i){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new xi(this.database,vs(this._delegate,function qu(s=null,r){return qo("startAt","key",r,!0),new fl(s,r)}(r,i)))}startAfter(r=null,i){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new xi(this.database,vs(this._delegate,function Nl(s,r){return qo("startAfter","key",r,!0),new Fo(s,r)}(r,i)))}endAt(r=null,i){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new xi(this.database,vs(this._delegate,function ru(s,r){return qo("endAt","key",r,!0),new Au(s,r)}(r,i)))}endBefore(r=null,i){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new xi(this.database,vs(this._delegate,function kc(s,r){return qo("endBefore","key",r,!0),new xc(s,r)}(r,i)))}equalTo(r,i){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new xi(this.database,vs(this._delegate,function es(s,r){return qo("equalTo","key",r,!0),new Md(s,r)}(r,i)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof xi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,i,u){const p={cancel:void 0,context:void 0};if(i&&u)p.cancel=i,(0,L.Wj)(r,"cancel",p.cancel,!0),p.context=u,(0,L.lb)(r,"context",p.context,!0);else if(i)if("object"==typeof i&&null!==i)p.context=i;else{if("function"!=typeof i)throw new Error((0,L.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=i}return p}get ref(){return new Lo(this.database,new Xo(this._delegate._repo,this._delegate._path))}}class Lo extends xi{constructor(r,i){super(r,new qi(i._repo,i._path,new Tn,!1)),this.database=r,this._delegate=i}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Lo(this.database,la(this._delegate,r))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Lo(this.database,r):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Lo(this.database,this._delegate.root)}set(r,i){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",i,!0);const u=eu(this._delegate,r);return i&&u.then(()=>i(null),p=>i(p)),u}update(r,i){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let I=0;I<r.length;++I)p[""+I]=r[I];r=p,Qr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Co("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",i,!0);const u=Pc(this._delegate,r);return i&&u.then(()=>i(null),p=>i(p)),u}setWithPriority(r,i,u){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",u,!0);const p=function Rc(s,r,i){if(Co("setWithPriority",s._path),xo("setWithPriority",r,s._path,!1),Va("setWithPriority",i,!1),".length"===s.key||".keys"===s.key)throw"setWithPriority failed: "+s.key+" is a read-only object.";const u=new L.BH;return js(s._repo,s._path,r,i,u.wrapCallback(()=>{})),u.promise}(this._delegate,r,i);return u&&p.then(()=>u(null),I=>u(I)),p}remove(r){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",r,!0);const i=function Yu(s){return Co("remove",s._path),eu(s,null)}(this._delegate);return r&&i.then(()=>r(null),u=>r(u)),i}transaction(r,i,u){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,L.Wj)("Reference.transaction","onComplete",i,!0),function(s,r,i,u){if(void 0!==i&&"boolean"!=typeof i)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const p=function Rt(s,r,i){var u;if(s=(0,L.m9)(s),Co("Reference.transaction",s._path),".length"===s.key||".keys"===s.key)throw"Reference.transaction failed: "+s.key+" is a read-only object.";const p=null===(u=i?.applyLocally)||void 0===u||u,I=new L.BH,B=Tu(s,()=>{});return function Ac(s,r,i,u,p,I){ys(s,"transaction on "+r);const P={path:r,update:i,onComplete:u,status:null,order:we(),applyLocally:I,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},B=Wu(s,r,void 0);P.currentInputSnapshot=B;const K=P.update(B.val());if(void 0===K)P.unwatcher(),P.currentOutputSnapshotRaw=null,P.currentOutputSnapshotResolved=null,P.onComplete&&P.onComplete(null,!1,P.currentInputSnapshot);else{La("transaction failed: Data returned ",K,P.path),P.status=0;const ee=tl(s.transactionQueueTree_,r),ke=ia(ee)||[];let Fe;ke.push(P),bl(ee,ke),"object"==typeof K&&null!==K&&(0,L.r3)(K,".priority")?(Fe=(0,L.DV)(K,".priority"),(0,L.hu)(Eo(Fe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Fe=(ct(s.serverSyncTree_,r)||zt.EMPTY_NODE).getPriority().val();const Ze=Nt(s),Pt=Xn(K,Fe),Bt=Fa(Pt,B,Ze);P.currentOutputSnapshotRaw=Pt,P.currentOutputSnapshotResolved=Bt,P.currentWriteId=Hs(s);const kn=Vs(s.serverSyncTree_,r,Bt,P.currentWriteId,P.applyLocally);T(s.eventQueue_,r,kn),Rl(s,s.transactionQueueTree_)}}(s._repo,s._path,r,(K,ee,ke)=>{let Fe=null;K?I.reject(K):(Fe=new Ia(ke,new Xo(s._repo,s._path),Mn),I.resolve(new ht(ee,Fe)))},B,p),I.promise}(this._delegate,r,{applyLocally:u}).then(I=>new rc(I.committed,new wa(this.database,I.snapshot)));return i&&p.then(I=>i(null,I.committed,I.snapshot),I=>i(I,!1,null)),p}setPriority(r,i){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",i,!0);const u=function tu(s,r){s=(0,L.m9)(s),Co("setPriority",s._path),Va("setPriority",r,!1);const i=new L.BH;return js(s._repo,Un(s._path,".priority"),r,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,r);return i&&u.then(()=>i(null),p=>i(p)),u}push(r,i){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",i,!0);const u=function Pl(s,r){s=(0,L.m9)(s),Co("push",s._path),xo("push",r,s._path,!0);const i=dt(s._repo),u=ul(i),p=la(s,u),I=la(s,u);let P;return P=null!=r?eu(I,r).then(()=>I):Promise.resolve(I),p.then=P.then.bind(P),p.catch=P.then.bind(P,void 0),p}(this._delegate,r),p=u.then(P=>new Lo(this.database,P));i&&p.then(()=>i(null),P=>i(P));const I=new Lo(this.database,u);return I.then=p.then.bind(p),I.catch=p.catch.bind(p,void 0),I}onDisconnect(){return Co("Reference.onDisconnect",this._delegate._path),new ou(new Dd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class su{constructor(r,i){this._delegate=r,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Uc,forceLongPolling:Mh}}useEmulator(r,i,u={}){!function l(s,r,i,u={}){(s=(0,L.m9)(s))._checkNotDeleted("useEmulator"),s._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");const p=s._repoInternal;let I;if(p.repoInfo_.nodeAdmin)u.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),I=new rr(rr.OWNER);else if(u.mockUserToken){const P="string"==typeof u.mockUserToken?u.mockUserToken:(0,L.Sg)(u.mockUserToken,s.app.options.projectId);I=new rr(P)}!function iu(s,r,i,u){s.repoInfo_=new je(`${r}:${i}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),u&&(s.authTokenProvider_=u)}(p,r,i,I)}(this._delegate,r,i,u)}ref(r){if((0,L.Dv)("database.ref",0,1,arguments.length),r instanceof Lo){const i=dl(this._delegate,r.toString());return new Lo(this,i)}{const i=Xl(this._delegate,r);return new Lo(this,i)}}refFromURL(r){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const u=dl(this._delegate,r);return new Lo(this,u)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function c(s){(s=(0,L.m9)(s))._checkNotDeleted("goOffline"),sl(s._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function y(s){(s=(0,L.m9)(s))._checkNotDeleted("goOnline"),function $u(s){s.persistentConnection_&&s.persistentConnection_.resume(ce)}(s._repo)}(this._delegate)}}su.ServerValue={TIMESTAMP:function Ie(){return oe}(),increment:s=>function it(s){return{".sv":{increment:s}}}(s)};var Rh=Object.freeze({__proto__:null,initStandalone:function Pu({app:s,url:r,version:i,customAuthImpl:u,namespace:p,nodeAdmin:I=!1}){Kt(i);const P=new rt.zt("auth-internal",new rt.H0("database-standalone"));return P.setComponent(new rt.wA("auth-internal",()=>u,"PRIVATE")),{instance:new su(tc(s,P,void 0,r,I),s),namespace:p}}});const Ag=su.ServerValue;!function ic(s){s.INTERNAL.registerComponent(new rt.wA("database-compat",(r,{instanceIdentifier:i})=>{const u=r.getProvider("app-compat").getImmediate(),p=r.getProvider("database").getImmediate({identifier:i});return new su(p,u)},"PUBLIC").setServiceProps({Reference:Lo,Query:xi,Database:su,DataSnapshot:wa,enableLogging:N,INTERNAL:Rh,ServerValue:Ag}).setMultipleInstances(!0)),s.registerVersion("@firebase/database-compat","0.3.4")}(Be.Z);var Rd=V(7579),Pd=V(8996),oc=V(5363),Ph=V(4707);function Vf(s,r,i){let u,p=!1;return s&&"object"==typeof s?({bufferSize:u=1/0,windowTime:r=1/0,refCount:p=!1,scheduler:i}=s):u=s??1/0,(0,me.B)({connector:()=>new Ph.t(u,r,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}var Uf=V(590),Oh=V(576);function Od(s,r){return(0,Oh.m)(r)?(0,_e.w)(()=>s,r):(0,_e.w)(()=>s)}var sc=V(9468),Mg=V(9300),Nd=V(6895);V(259);const Vd=new Map,Lh={activated:!1,tokenObservers:[]},Wf={initialized:!1,enabled:!1};function ci(s){return Vd.get(s)||Object.assign({},Lh)}function lc(){return Wf}const Ud="https://content-firebaseappcheck.googleapis.com/v1",zf="exchangeDebugToken",xu={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ku{constructor(r,i,u,p,I){if(this.operation=r,this.retryPolicy=i,this.getWaitDuration=u,this.lowerBound=p,this.upperBound=I,this.pending=null,this.nextErrorWaitInterval=p,p>I)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var i=this;return(0,We.Z)(function*(){i.stop();try{i.pending=new L.BH,yield function uc(s){return new Promise(r=>{setTimeout(r,s)})}(i.getNextRun(r)),i.pending.resolve(),yield i.pending.promise,i.pending=new L.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(u){i.retryPolicy(u)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const lo=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bd(s){if(!ci(s).activated)throw lo.create("use-before-activation",{appName:s.name})}function dc(s,r){return hc.apply(this,arguments)}function hc(){return(hc=(0,We.Z)(function*({url:s,body:r},i){const u={"Content-Type":"application/json"},p=i.getImmediate({optional:!0});if(p){const Fe=yield p.getHeartbeatsHeader();Fe&&(u["X-Firebase-Client"]=Fe)}const I={method:"POST",body:JSON.stringify(r),headers:u};let P,B;try{P=yield fetch(s,I)}catch(Fe){throw lo.create("fetch-network-error",{originalErrorMessage:Fe?.message})}if(200!==P.status)throw lo.create("fetch-status-error",{httpStatus:P.status});try{B=yield P.json()}catch(Fe){throw lo.create("fetch-parse-error",{originalErrorMessage:Fe?.message})}const K=B.ttl.match(/^([\d.]+)(s)$/);if(!K||!K[2]||isNaN(Number(K[1])))throw lo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${B.ttl}`});const ee=1e3*Number(K[1]),ke=Date.now();return{token:B.token,expireTimeMillis:ke+ee,issuedAtTimeMillis:ke}})).apply(this,arguments)}function Wc(s,r){const{projectId:i,appId:u,apiKey:p}=s.options;return{url:`${Ud}/projects/${i}/apps/${u}:${zf}?key=${p}`,body:{debug_token:r}}}const fc="firebase-app-check-database",qf=1,pc="firebase-app-check-store";let Gc=null;function Hh(s,r){return $d.apply(this,arguments)}function $d(){return($d=(0,We.Z)(function*(s,r){const u=(yield function Bh(){return Gc||(Gc=new Promise((s,r)=>{try{const i=indexedDB.open(fc,qf);i.onsuccess=u=>{s(u.target.result)},i.onerror=u=>{var p;r(lo.create("storage-open",{originalErrorMessage:null===(p=u.target.error)||void 0===p?void 0:p.message}))},i.onupgradeneeded=u=>{0===u.oldVersion&&u.target.result.createObjectStore(pc,{keyPath:"compositeKey"})}}catch(i){r(lo.create("storage-open",{originalErrorMessage:i?.message}))}}),Gc)}()).transaction(pc,"readwrite"),I=u.objectStore(pc).put({compositeKey:s,value:r});return new Promise((P,B)=>{I.onsuccess=K=>{P()},u.onerror=K=>{var ee;B(lo.create("storage-set",{originalErrorMessage:null===(ee=K.target.error)||void 0===ee?void 0:ee.message}))}})})).apply(this,arguments)}const zc=new kt.Yd("@firebase/app-check");function Gd(s,r){return(0,L.hl)()?function Jf(s,r){return Hh(function Wd(s){return`${s.options.appId}-${s.name}`}(s),r)}(s,r).catch(i=>{zc.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function Kd(){return lc().enabled}function Gs(){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,We.Z)(function*(){const s=lc();if(s.enabled&&s.token)return s.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ep={error:"UNKNOWN_ERROR"};function tp(s){return L.US.encodeString(JSON.stringify(s),!1)}function Zc(s){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,We.Z)(function*(s,r=!1){const i=s.app;Bd(i);const u=ci(i);let I,p=u.token;if(p&&!lu(p)&&(u.token=void 0,p=void 0),!p){const K=yield u.cachedTokenPromise;K&&(lu(K)?p=K:yield Gd(i,void 0))}if(!r&&p&&lu(p))return{token:p.token};let B,P=!1;if(Kd()){u.exchangeTokenPromise||(u.exchangeTokenPromise=dc(Wc(i,yield Gs()),s.heartbeatServiceProvider).finally(()=>{u.exchangeTokenPromise=void 0}),P=!0);const K=yield u.exchangeTokenPromise;return yield Gd(i,K),u.token=K,{token:K.token}}try{u.exchangeTokenPromise||(u.exchangeTokenPromise=u.provider.getToken().finally(()=>{u.exchangeTokenPromise=void 0}),P=!0),p=yield ci(i).exchangeTokenPromise}catch(K){"appCheck/throttled"===K.code?zc.warn(K.message):zc.error(K),I=K}return p?I?B=lu(p)?{token:p.token,internalError:I}:Kh(I):(B={token:p.token},u.token=p,yield Gd(i,p)):B=Kh(I),P&&function eh(s,r){const i=ci(s).tokenObservers;for(const u of i)try{"EXTERNAL"===u.type&&null!=r.error?u.error(r.error):u.next(r)}catch{}}(i,B),B})).apply(this,arguments)}function qd(s){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,We.Z)(function*(s){const r=s.app;Bd(r);const{provider:i}=ci(r);if(Kd()){const u=yield Gs(),{token:p}=yield dc(Wc(r,u),s.heartbeatServiceProvider);return{token:p}}{const{token:u}=yield i.getToken();return{token:u}}})).apply(this,arguments)}function Xd(s,r){const i=ci(s),u=i.tokenObservers.filter(p=>p.next!==r);0===u.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=u}function hn(s){const{app:r}=s,i=ci(r);let u=i.tokenRefresher;u||(u=function zh(s){const{app:r}=s;return new ku((0,We.Z)(function*(){let u;if(u=ci(r).token?yield Zc(s,!0):yield Zc(s),u.error)throw u.error;if(u.internalError)throw u.internalError}),()=>!0,()=>{const i=ci(r);if(i.token){let u=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return u=Math.min(u,i.token.expireTimeMillis-3e5),Math.max(0,u-Date.now())}return 0},xu.RETRIAL_MIN_WAIT,xu.RETRIAL_MAX_WAIT)}(s),i.tokenRefresher=u),!u.isRunning()&&i.isTokenAutoRefreshEnabled&&u.start()}function lu(s){return s.expireTimeMillis-Date.now()>0}function Kh(s){return{token:tp(ep),error:s}}class np{constructor(r,i){this.app=r,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:r}=ci(this.app);for(const i of r)Xd(this.app,i.next);return Promise.resolve()}}const tf="app-check-internal";!function fp(){(0,st._registerComponent)(new rt.wA("app-check",s=>function Zh(s,r){return new np(s,r)}(s.getProvider("app").getImmediate(),s.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,r,i)=>{s.getProvider(tf).initialize()})),(0,st._registerComponent)(new rt.wA(tf,s=>function rp(s){return{getToken:r=>Zc(s,r),getLimitedUseToken:()=>qd(s),addTokenListener:r=>function Jd(s,r,i,u){const{app:p}=s,I=ci(p);if(I.tokenObservers=[...I.tokenObservers,{next:i,error:u,type:r}],I.token&&lu(I.token)){const B=I.token;Promise.resolve().then(()=>{i({token:B.token}),hn(s)}).catch(()=>{})}I.cachedTokenPromise.then(()=>hn(s))}(s,"INTERNAL",r),removeTokenListener:r=>Xd(s.app,r)}}(s.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.8.0")}();class ih{constructor(){return(0,Je.vb)("app-check")}}typeof window<"u"&&window;var sh=V(9260);const Jc=new h.OlP("angularfire2.auth.use-emulator"),Ec=new h.OlP("angularfire2.auth.settings"),ah=new h.OlP("angularfire2.auth.tenant-id"),Xc=new h.OlP("angularfire2.auth.langugage-code"),ed=new h.OlP("angularfire2.auth.use-device-language"),td=new h.OlP("angularfire.auth.persistence"),lh=(s,r,i,u,p,I,P,B)=>(0,ze.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const K=r.runOutsideAngular(()=>s.auth());if(i&&K.useEmulator(...i),u&&(K.tenantId=u),K.languageCode=p,I&&K.useDeviceLanguage(),P)for(const[ee,ke]of Object.entries(P))K.settings[ee]=ke;return B&&K.setPersistence(B),K},[i,u,p,I,P,B]);let nd=(()=>{class s{constructor(i,u,p,I,P,B,K,ee,ke,Fe,Ze,Pt){const Bt=new Rd.x,kn=(0,le.of)(void 0).pipe((0,oc.Q)(P.outsideAngular),(0,_e.w)(()=>I.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2644)))),(0,ue.U)(()=>(0,ze.on)(i,I,u)),(0,ue.U)(Jr=>lh(Jr,I,B,ee,ke,Fe,K,Ze)),Vf({bufferSize:1,refCount:!1}));if((0,Nd.PM)(p))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,le.of)(null);else{kn.pipe((0,Uf.P)()).subscribe();const Vo=kn.pipe((0,_e.w)(Di=>Di.getRedirectResult().then(Do=>Do,()=>null)),Je.iC,Vf({bufferSize:1,refCount:!1})),Es=kn.pipe((0,_e.w)(Di=>new U.y(Do=>({unsubscribe:I.runOutsideAngular(()=>Di.onAuthStateChanged(ja=>Do.next(ja),ja=>Do.error(ja),()=>Do.complete()))})))),ba=kn.pipe((0,_e.w)(Di=>new U.y(Do=>({unsubscribe:I.runOutsideAngular(()=>Di.onIdTokenChanged(ja=>Do.next(ja),ja=>Do.error(ja),()=>Do.complete()))}))));this.authState=Vo.pipe(Od(Es),(0,sc.R)(P.outsideAngular),(0,oc.Q)(P.insideAngular)),this.user=Vo.pipe(Od(ba),(0,sc.R)(P.outsideAngular),(0,oc.Q)(P.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Di=>Di?(0,Pd.D)(Di.getIdToken()):(0,le.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Di=>Di?(0,Pd.D)(Di.getIdTokenResult()):(0,le.of)(null))),this.credential=(0,ae.T)(Vo,Bt,this.authState.pipe((0,Mg.h)(Di=>!Di))).pipe((0,ue.U)(Di=>Di?.user?Di:null),(0,sc.R)(P.outsideAngular),(0,oc.Q)(P.insideAngular))}return(0,ze.pX)(this,kn,I,{spy:{apply:(Jr,Vo,Es)=>{(Jr.startsWith("signIn")||Jr.startsWith("createUser"))&&Es.then(ba=>Bt.next(ba))}}})}}return s.\u0275fac=function(i){return new(i||s)(h.LFG(ze.Dh),h.LFG(ze.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Je.HU),h.LFG(Jc,8),h.LFG(Ec,8),h.LFG(ah,8),h.LFG(Xc,8),h.LFG(ed,8),h.LFG(td,8),h.LFG(ih,8))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function lf(s){return null==s}function uh(s){return"function"==typeof s.set}function ch(s,r){return uh(r)?r:s.ref(r)}function uf(s,r){if(function vp(s){return"string"==typeof s}(s))return r.stringCase();if(uh(s))return r.firebaseCase();if(function af(s){return"function"==typeof s.exportVal}(s))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function Cc(s,r,i="on",u=Z.z){return new U.y(p=>{let I=null;return I=s[i](r,(P,B)=>{u.schedule(()=>{p.next({snapshot:P,prevKey:B})}),"once"===i&&u.schedule(()=>p.complete())},P=>{u.schedule(()=>p.error(P))}),"on"===i?{unsubscribe(){null!=I&&s.off(r,I)}}:{unsubscribe(){}}}).pipe((0,ue.U)(p=>{const{snapshot:I,prevKey:P}=p;let B=null;return I.exists()&&(B=I.key),{type:r,payload:I,prevKey:P,key:B}}),(0,me.B)())}function cf(s,r){const i=s.length;for(let u=0;u<i;u++)if(s[u].payload.key===r)return u;return-1}function jg(s,r){const{payload:i,prevKey:u,key:p}=r,I=cf(s,p),P=function Ep(s,r){if(lf(r))return 0;{const i=cf(s,r);return-1===i?s.length:i+1}}(s,u);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let B=null;r.payload.forEach(K=>{const ee={payload:K,type:"value",prevKey:B,key:K.key};return B=K.key,s=[...s,ee],!1})}return s;case"child_added":if(I>-1){const B=s[I-1];(B&&B.key||null)!==u&&(s=s.filter(K=>K.payload.key!==i.key)).splice(P,0,r)}else{if(null==u)return[r,...s];(s=s.slice()).splice(P,0,r)}return s;case"child_removed":return s.filter(B=>B.payload.key!==i.key);case"child_changed":return s.map(B=>B.payload.key===p?r:B);case"child_moved":if(I>-1){const B=s.splice(I,1)[0];return(s=s.slice()).splice(P,0,B),s}return s;default:return s}}function rd(s){return(lf(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function dh(s,r,i){return function zs(s,r,i){return Cc(s,"value","once",i).pipe((0,_e.w)(u=>{const p=[(0,le.of)(u)];return r.forEach(I=>p.push(Cc(s,I,"on",i))),(0,ae.T)(...p).pipe((0,ve.R)(jg,[]))}),function et(s,r=te.y){return s=s??Ge,(0,ne.e)((i,u)=>{let p,I=!0;i.subscribe((0,se.x)(u,P=>{const B=r(P);(I||!s(p,B))&&(I=!1,p=B,u.next(P))}))})}())}(s,r=rd(r),i)}function df(s,r,i){const u=(r=rd(r)).map(p=>Cc(s,p,"on",i));return(0,ae.T)(...u)}function ff(s,r){return function(u,p){return uf(u,{stringCase:()=>s.child(u)[r](p),firebaseCase:()=>u[r](p),snapshotCase:()=>u.ref[r](p)})}}function Dp(s){return function(i){return i?uf(i,{stringCase:()=>s.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):s.remove()}}function pf(s,r){return function(){return Cc(s,"value","on",r)}}const bp=new h.OlP("angularfire2.realtimeDatabaseURL"),Tp=new h.OlP("angularfire2.database.use-emulator");let gf=(()=>{class s{constructor(i,u,p,I,P,B,K,ee,ke,Fe,Ze,Pt,Bt,kn,Jr){this.schedulers=B;const Vo=K,Es=(0,ze.on)(i,P,u);ee&&lh(Es,P,ke,Ze,Pt,Bt,Fe,kn),this.database=(0,ze.cc)(`${Es.name}.database.${p}`,"AngularFireDatabase",Es.name,()=>{const ba=P.runOutsideAngular(()=>Es.database(p||void 0));return Vo&&ba.useEmulator(...Vo),ba},[Vo])}list(i,u){const p=this.schedulers.ngZone.runOutsideAngular(()=>ch(this.database,i));let I=p;return u&&(I=u(p)),function hh(s,r){const i=r.schedulers.outsideAngular,u=r.schedulers.ngZone.run(()=>s.ref);return{query:s,update:ff(u,"update"),set:ff(u,"set"),push:p=>u.push(p),remove:Dp(u),snapshotChanges:p=>dh(s,p,i).pipe(Je.iC),stateChanges:p=>df(s,p,i).pipe(Je.iC),auditTrail:p=>function Cp(s,r,i){return function hf(s,r,i){return function Ip(s,r){return Cc(s,"value","on",r).pipe((0,ue.U)(i=>{let u;return i.payload.forEach(p=>(u=p.key,!1)),{data:i,lastKeyToLoad:u}}))}(s,i).pipe(function qe(...s){const r=(0,Ae.jO)(s);return(0,ne.e)((i,u)=>{const p=s.length,I=new Array(p);let P=s.map(()=>!1),B=!1;for(let K=0;K<p;K++)(0,tt.Xf)(s[K]).subscribe((0,se.x)(u,ee=>{I[K]=ee,!B&&!P[K]&&(P[K]=!0,(B=P.every(te.y))&&(P=null))},Et.Z));i.subscribe((0,se.x)(u,K=>{if(B){const ee=[K,...I];u.next(r?r(...ee):ee)}}))})}(r),(0,ue.U)(([p,I])=>{const P=p.lastKeyToLoad,B=I.map(K=>K.key);return{actions:I,lastKeyToLoad:P,loadedKeys:B}}),function Oe(s){return(0,ne.e)((r,i)=>{let u=!1,p=0;r.subscribe((0,se.x)(i,I=>(u||(u=!s(I,p++)))&&i.next(I)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,ue.U)(p=>p.actions))}(s,df(s,r).pipe((0,ve.R)((p,I)=>[...p,I],[])),i)}(s,p,i).pipe(Je.iC),valueChanges:(p,I)=>dh(s,p,i).pipe((0,ue.U)(B=>B.map(K=>I&&I.idField?Object.assign(Object.assign({},K.payload.val()),{[I.idField]:K.key}):K.payload.val())),Je.iC)}}(I,this)}object(i){return function wp(s,r){return{query:s,snapshotChanges:()=>pf(s,r.schedulers.outsideAngular)().pipe(Je.iC),update:i=>s.ref.update(i),set:i=>s.ref.set(i),remove:()=>s.ref.remove(),valueChanges:()=>pf(s,r.schedulers.outsideAngular)().pipe(Je.iC,(0,ue.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ch(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(i){return new(i||s)(h.LFG(ze.Dh),h.LFG(ze.xv,8),h.LFG(bp,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Je.HU),h.LFG(Tp,8),h.LFG(nd,8),h.LFG(Jc,8),h.LFG(Ec,8),h.LFG(ah,8),h.LFG(Xc,8),h.LFG(ed,8),h.LFG(td,8),h.LFG(ih,8))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Ha=(()=>{class s{constructor(){sh.Z.registerVersion("angularfire",Je.q4.full,"rtdb-compat")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({providers:[gf]}),s})()},2011:(vt,Pe,V)=>{V.d(Pe,{Dh:()=>_e,GT:()=>ue,cc:()=>Ge,hO:()=>et,on:()=>te,pX:()=>ae,xv:()=>ve});var h=V(4650),Z=V(9260),U=V(4976);vt=V.hmd(vt);const le=["ngOnDestroy"],ae=(qe,Oe,Je,ze={})=>new Proxy(qe,{get:(Le,Be)=>Je.runOutsideAngular(()=>{var rt;if(qe[Be])return!(null===(rt=ze?.spy)||void 0===rt)&&rt.get&&ze.spy.get(Be,qe[Be]),qe[Be];if(le.indexOf(Be)>-1)return()=>{};const We=Oe.toPromise().then(st=>{const L=st&&st[Be];return"function"==typeof L?L.bind(st):L&&L.then?L.then(kt=>Je.run(()=>kt)):Je.run(()=>L)});return new Proxy(()=>{},{get:(st,L)=>We[L],apply:(st,L,kt)=>We.then(mt=>{var $t;const ft=mt&&mt(...kt);return!(null===($t=ze?.spy)||void 0===$t)&&$t.apply&&ze.spy.apply(Be,kt,ft),ft})})})}),ue=(qe,Oe)=>{Oe.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(ze=>{Object.defineProperty(qe.prototype,ze,Object.getOwnPropertyDescriptor(Je.prototype||Je,ze))})})};class me{constructor(Oe){return Oe}}const _e=new h.OlP("angularfire2.app.options"),ve=new h.OlP("angularfire2.app.name");function te(qe,Oe,Je){const Le="object"==typeof Je&&Je||{};Le.name=Le.name||"string"==typeof Je&&Je||"[DEFAULT]";const rt=Z.Z.apps.filter(We=>We&&We.name===Le.name)[0]||Oe.runOutsideAngular(()=>Z.Z.initializeApp(qe,Le));try{JSON.stringify(qe)!==JSON.stringify(rt.options)&&ne("error",`${rt.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(rt)}const ne=(qe,...Oe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[qe](...Oe)},se={provide:me,useFactory:te,deps:[_e,h.R0b,[new h.FiY,ve]]};let et=(()=>{class qe{constructor(Je){Z.Z.registerVersion("angularfire",U.q4.full,"core"),Z.Z.registerVersion("angularfire",U.q4.full,"app-compat"),Z.Z.registerVersion("angular",h.q4F.full,Je.toString())}static initializeApp(Je,ze){return{ngModule:qe,providers:[{provide:_e,useValue:Je},{provide:ve,useValue:ze}]}}}return qe.\u0275fac=function(Je){return new(Je||qe)(h.LFG(h.Lbi))},qe.\u0275mod=h.oAB({type:qe}),qe.\u0275inj=h.cJS({providers:[se]}),qe})();function Ge(qe,Oe,Je,ze,Le){const[,Be,rt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===qe)||[];if(Be)return function tt(qe,Oe){try{return qe.toString()===Oe.toString()}catch{return qe===Oe}}(Le,rt)||(Ae("error",`${Oe} was already initialized on the ${Je} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:Le,was:rt})),Be;{const We=ze();return globalThis.\u0275AngularfireInstanceCache.push([qe,We,Le]),We}}const Et=!!vt.hot,Ae=(qe,...Oe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[qe](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Pe,V)=>{V.d(Pe,{q4:()=>$l,iC:()=>Co,HU:()=>Yo,vb:()=>Zl,JM:()=>Kl});var h=V(4650),Z=V(259),U=V(5861),le=V(6881),ae=V(2090),ue=V(4859),me=V(1877);const _e=(E,T)=>T.some(x=>E instanceof x);let ve,te;const et=new WeakMap,Ge=new WeakMap,tt=new WeakMap,Et=new WeakMap,Ae=new WeakMap;let Je={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return Ge.get(E);if("objectStoreNames"===T)return E.objectStoreNames||tt.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return rt(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Be(E){return"function"==typeof E?function Le(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(We(this),T),rt(et.get(this))}:function(...T){return rt(E.apply(We(this),T))}:function(T,...x){const Y=E.call(We(this),T,...x);return tt.set(Y,T.sort?T.sort():[T]),rt(Y)}}(E):(E instanceof IDBTransaction&&function Oe(E){if(Ge.has(E))return;const T=new Promise((x,Y)=>{const ce=()=>{E.removeEventListener("complete",ge),E.removeEventListener("error",Re),E.removeEventListener("abort",Re)},ge=()=>{x(),ce()},Re=()=>{Y(E.error||new DOMException("AbortError","AbortError")),ce()};E.addEventListener("complete",ge),E.addEventListener("error",Re),E.addEventListener("abort",Re)});Ge.set(E,T)}(E),_e(E,function ne(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Je):E)}function rt(E){if(E instanceof IDBRequest)return function qe(E){const T=new Promise((x,Y)=>{const ce=()=>{E.removeEventListener("success",ge),E.removeEventListener("error",Re)},ge=()=>{x(rt(E.result)),ce()},Re=()=>{Y(E.error),ce()};E.addEventListener("success",ge),E.addEventListener("error",Re)});return T.then(x=>{x instanceof IDBCursor&&et.set(x,E)}).catch(()=>{}),Ae.set(T,E),T}(E);if(Et.has(E))return Et.get(E);const T=Be(E);return T!==E&&(Et.set(E,T),Ae.set(T,E)),T}const We=E=>Ae.get(E),kt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],$t=new Map;function ft(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if($t.get(T))return $t.get(T);const x=T.replace(/FromIndex$/,""),Y=T!==x,ce=mt.includes(x);if(!(x in(Y?IDBIndex:IDBObjectStore).prototype)||!ce&&!kt.includes(x))return;const ge=function(){var Re=(0,U.Z)(function*(gt,...dt){const Nt=this.transaction(gt,ce?"readwrite":"readonly");let en=Nt.store;return Y&&(en=en.index(dt.shift())),(yield Promise.all([en[x](...dt),ce&&Nt.done]))[0]});return function(dt){return Re.apply(this,arguments)}}();return $t.set(T,ge),ge}!function ze(E){Je=E(Je)}(E=>({...E,get:(T,x,Y)=>ft(T,x)||E.get(T,x,Y),has:(T,x)=>!!ft(T,x)||E.has(T,x)}));const Kt="@firebase/installations",Hn="0.6.4",Sr=1e4,Xr=`w:${Hn}`,De="FIS_v2",Te="https://firebaseinstallations.googleapis.com/v1",Me=36e5,It=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function fn({projectId:E}){return`${Te}/projects/${E}/installations`}function at(E){return{token:E.token,requestStatus:2,expiresIn:Fn(E.expiresIn),creationTime:Date.now()}}function Qt(E,T){return In.apply(this,arguments)}function In(){return(In=(0,U.Z)(function*(E,T){const Y=(yield T.json()).error;return It.create("request-failed",{requestName:E,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function qn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ln(E){return _t.apply(this,arguments)}function _t(){return(_t=(0,U.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function Fn(E){return Number(E.replace("s","000"))}function Dt(){return(Dt=(0,U.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const Y=fn(E),ce=qn(E),ge=T.getImmediate({optional:!0});if(ge){const Nt=yield ge.getHeartbeatsHeader();Nt&&ce.append("x-firebase-client",Nt)}const gt={method:"POST",headers:ce,body:JSON.stringify({fid:x,authVersion:De,appId:E.appId,sdkVersion:Xr})},dt=yield Ln(()=>fetch(Y,gt));if(dt.ok){const Nt=yield dt.json();return{fid:Nt.fid||x,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:at(Nt.authToken)}}throw yield Qt("Create Installation",dt)})).apply(this,arguments)}function Dn(E){return new Promise(T=>{setTimeout(T,E)})}const nr=/^[cdef][\w-]{21}$/,Ir="";function On(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function un(E){return function $n(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return nr.test(x)?x:Ir}catch{return Ir}}function jt(E){return`${E.appName}!${E.appId}`}const pt=new Map;function Ot(E,T){const x=jt(E);Qn(x,T),function pr(E,T){const x=function ti(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=E=>{Qn(E.data.key,E.data.fid)}),Nn}();x&&x.postMessage({key:E,fid:T}),function mn(){0===pt.size&&Nn&&(Nn.close(),Nn=null)}()}(x,T)}function Qn(E,T){const x=pt.get(E);if(x)for(const Y of x)Y(T)}let Nn=null;const bi="firebase-installations-database",on=1,rr="firebase-installations-store";let yt=null;function ur(){return yt||(yt=function st(E,T,{blocked:x,upgrade:Y,blocking:ce,terminated:ge}={}){const Re=indexedDB.open(E,T),gt=rt(Re);return Y&&Re.addEventListener("upgradeneeded",dt=>{Y(rt(Re.result),dt.oldVersion,dt.newVersion,rt(Re.transaction))}),x&&Re.addEventListener("blocked",()=>x()),gt.then(dt=>{ge&&dt.addEventListener("close",()=>ge()),ce&&dt.addEventListener("versionchange",()=>ce())}).catch(()=>{}),gt}(bi,on,{upgrade:(E,T)=>{0===T&&E.createObjectStore(rr)}})),yt}function Jn(E,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,U.Z)(function*(E,T){const x=jt(E),ce=(yield ur()).transaction(rr,"readwrite"),ge=ce.objectStore(rr),Re=yield ge.get(x);return yield ge.put(T,x),yield ce.done,(!Re||Re.fid!==T.fid)&&Ot(E,T.fid),T})).apply(this,arguments)}function di(E){return yn.apply(this,arguments)}function yn(){return(yn=(0,U.Z)(function*(E){const T=jt(E),Y=(yield ur()).transaction(rr,"readwrite");yield Y.objectStore(rr).delete(T),yield Y.done})).apply(this,arguments)}function cr(E,T){return dr.apply(this,arguments)}function dr(){return(dr=(0,U.Z)(function*(E,T){const x=jt(E),ce=(yield ur()).transaction(rr,"readwrite"),ge=ce.objectStore(rr),Re=yield ge.get(x),gt=T(Re);return void 0===gt?yield ge.delete(x):yield ge.put(gt,x),yield ce.done,gt&&(!Re||Re.fid!==gt.fid)&&Ot(E,gt.fid),gt})).apply(this,arguments)}function re(E){return J.apply(this,arguments)}function J(){return J=(0,U.Z)(function*(E){let T;const x=yield cr(E.appConfig,Y=>{const ce=function de(E){return ye(E||{fid:On(),registrationStatus:0})}(Y),ge=function je(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(It.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Ee(E,T){return nt.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:Y}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:he(E)}:{installationEntry:T}}(E,ce);return T=ge.registrationPromise,ge.installationEntry});return x.fid===Ir?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}}),J.apply(this,arguments)}function nt(){return nt=(0,U.Z)(function*(E,T){try{const x=yield function gn(E,T){return Dt.apply(this,arguments)}(E,T);return Jn(E.appConfig,x)}catch(x){throw wt(x)&&409===x.customData.serverCode?yield di(E.appConfig):yield Jn(E.appConfig,{fid:T.fid,registrationStatus:0}),x}}),nt.apply(this,arguments)}function he(E){return ie.apply(this,arguments)}function ie(){return(ie=(0,U.Z)(function*(E){let T=yield q(E.appConfig);for(;1===T.registrationStatus;)yield Dn(100),T=yield q(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:Y}=yield re(E);return Y||x}return T})).apply(this,arguments)}function q(E){return cr(E,T=>{if(!T)throw It.create("installation-not-found");return ye(T)})}function ye(E){return function Ue(E){return 1===E.registrationStatus&&E.registrationTime+Sr<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Ft(){return(Ft=(0,U.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const Y=function wn(E,{fid:T}){return`${fn(E)}/${T}/authTokens:generate`}(E,x),ce=function Lt(E,{refreshToken:T}){const x=qn(E);return x.append("Authorization",function jn(E){return`${De} ${E}`}(T)),x}(E,x),ge=T.getImmediate({optional:!0});if(ge){const Nt=yield ge.getHeartbeatsHeader();Nt&&ce.append("x-firebase-client",Nt)}const gt={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:Xr,appId:E.appId}})},dt=yield Ln(()=>fetch(Y,gt));if(dt.ok)return at(yield dt.json());throw yield Qt("Generate Auth Token",dt)})).apply(this,arguments)}function Wn(E){return ni.apply(this,arguments)}function ni(){return ni=(0,U.Z)(function*(E,T=!1){let x;const Y=yield cr(E.appConfig,ge=>{if(!Zt(ge))throw It.create("not-registered");const Re=ge.authToken;if(!T&&function Mt(E){return 2===E.requestStatus&&!function pn(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+Me}(E)}(Re))return ge;if(1===Re.requestStatus)return x=function xe(E,T){return Ce.apply(this,arguments)}(E,T),ge;{if(!navigator.onLine)throw It.create("app-offline");const gt=function cn(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}(ge);return x=function bt(E,T){return Vt.apply(this,arguments)}(E,gt),gt}});return x?yield x:Y.authToken}),ni.apply(this,arguments)}function Ce(){return(Ce=(0,U.Z)(function*(E,T){let x=yield Qe(E.appConfig);for(;1===x.authToken.requestStatus;)yield Dn(100),x=yield Qe(E.appConfig);const Y=x.authToken;return 0===Y.requestStatus?Wn(E,T):Y})).apply(this,arguments)}function Qe(E){return cr(E,T=>{if(!Zt(T))throw It.create("not-registered");return function hr(E){return 1===E.requestStatus&&E.requestTime+Sr<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Vt(){return Vt=(0,U.Z)(function*(E,T){try{const x=yield function Xe(E,T){return Ft.apply(this,arguments)}(E,T),Y=Object.assign(Object.assign({},T),{authToken:x});return yield Jn(E.appConfig,Y),x}catch(x){if(!wt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const Y=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Jn(E.appConfig,Y)}else yield di(E.appConfig);throw x}}),Vt.apply(this,arguments)}function Zt(E){return void 0!==E&&2===E.registrationStatus}function Ji(){return(Ji=(0,U.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:Y}=yield re(T);return Y?Y.catch(console.error):Wn(T).catch(console.error),x.fid})).apply(this,arguments)}function gr(){return gr=(0,U.Z)(function*(E,T=!1){const x=E;return yield function ri(E){return ut.apply(this,arguments)}(x),(yield Wn(x,T)).token}),gr.apply(this,arguments)}function ut(){return(ut=(0,U.Z)(function*(E){const{registrationPromise:T}=yield re(E);T&&(yield T)})).apply(this,arguments)}function Hi(E){return It.create("missing-app-config-values",{valueName:E})}const qt="installations",Ti=E=>{const T=E.getProvider("app").getImmediate(),x=function ki(E){if(!E||!E.options)throw Hi("App Configuration");if(!E.name)throw Hi("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw Hi(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Si=E=>{const T=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(T,qt).getImmediate();return{getId:()=>function ir(E){return Ji.apply(this,arguments)}(x),getToken:ce=>function bo(E){return gr.apply(this,arguments)}(x,ce)}};(function hi(){(0,le._registerComponent)(new ue.wA(qt,Ti,"PUBLIC")),(0,le._registerComponent)(new ue.wA("installations-internal",Si,"PRIVATE"))})(),(0,le.registerVersion)(Kt,Hn),(0,le.registerVersion)(Kt,Hn,"esm2017");const vn="@firebase/remote-config",mr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(T,x,Y,ce){this.client=T,this.storage=x,this.storageCache=Y,this.logger=ce}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-x,ce=Y<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ce}.`),ce}fetch(T){var x=this;return(0,U.Z)(function*(){const[Y,ce]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ce&&x.isCachedDataFresh(T.cacheMaxAgeMillis,Y))return ce;T.eTag=ce&&ce.eTag;const ge=yield x.client.fetch(T),Re=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Re.push(x.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Re),ge})()}}function to(E=navigator){return E.languages&&E.languages[0]||E.language}class Fi{constructor(T,x,Y,ce,ge,Re){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=Y,this.projectId=ce,this.apiKey=ge,this.appId=Re}fetch(T){var x=this;return(0,U.Z)(function*(){const[Y,ce]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},dt={sdk_version:x.sdkVersion,app_instance_id:Y,app_instance_id_token:ce,app_id:x.appId,language_code:to()},Nt={method:"POST",headers:gt,body:JSON.stringify(dt)},en=fetch(Re,Nt),tn=new Promise((Qo,Jo)=>{T.signal.addEventListener(()=>{const Al=new Error("The operation was aborted.");Al.name="AbortError",Jo(Al)})});let ko;try{yield Promise.race([en,tn]),ko=yield en}catch(Qo){let Jo="fetch-client-network";throw"AbortError"===Qo?.name&&(Jo="fetch-timeout"),mr.create(Jo,{originalErrorMessage:Qo?.message})}let Vr=ko.status;const Hs=ko.headers.get("ETag")||void 0;let Sl,js;if(200===ko.status){let Qo;try{Qo=yield ko.json()}catch(Jo){throw mr.create("fetch-client-parse",{originalErrorMessage:Jo?.message})}Sl=Qo.entries,js=Qo.state}if("INSTANCE_STATE_UNSPECIFIED"===js?Vr=500:"NO_CHANGE"===js?Vr=304:("NO_TEMPLATE"===js||"EMPTY_CONFIG"===js)&&(Sl={}),304!==Vr&&200!==Vr)throw mr.create("fetch-status",{httpStatus:Vr});return{status:Vr,eTag:Hs,config:Sl}})()}}class Ys{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,U.Z)(function*(){const Y=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,Y)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:Y}){var ce=this;return(0,U.Z)(function*(){yield function Zs(E,T){return new Promise((x,Y)=>{const ce=Math.max(T-Date.now(),0),ge=setTimeout(x,ce);E.addEventListener(()=>{clearTimeout(ge),Y(mr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const ge=yield ce.client.fetch(T);return yield ce.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function Ai(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ge))throw ge;const Re={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Y),backoffCount:Y+1};return yield ce.storage.setThrottleMetadata(Re),ce.attemptFetch(T,Re)}})()}}class Ta{constructor(T,x,Y,ce,ge){this.app=T,this._client=x,this._storageCache=Y,this._storage=ce,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function no(E,T){const x=E.target.error||void 0;return mr.create(T,{originalErrorMessage:x&&x?.message})}const pi="app_namespace_store";class sn{constructor(T,x,Y,ce=function Dr(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=Y=>{T(no(Y,"storage-open"))},x.onsuccess=Y=>{E(Y.target.result)},x.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(x){T(mr.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=Y,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,U.Z)(function*(){const Y=yield x.openDbPromise;return new Promise((ce,ge)=>{const gt=Y.transaction([pi],"readonly").objectStore(pi),dt=x.createCompositeKey(T);try{const Nt=gt.get(dt);Nt.onerror=en=>{ge(no(en,"storage-get"))},Nt.onsuccess=en=>{const tn=en.target.result;ce(tn?tn.value:void 0)}}catch(Nt){ge(mr.create("storage-get",{originalErrorMessage:Nt?.message}))}})})()}set(T,x){var Y=this;return(0,U.Z)(function*(){const ce=yield Y.openDbPromise;return new Promise((ge,Re)=>{const dt=ce.transaction([pi],"readwrite").objectStore(pi),Nt=Y.createCompositeKey(T);try{const en=dt.put({compositeKey:Nt,value:x});en.onerror=tn=>{Re(no(tn,"storage-set"))},en.onsuccess=()=>{ge()}}catch(en){Re(mr.create("storage-set",{originalErrorMessage:en?.message}))}})})()}delete(T){var x=this;return(0,U.Z)(function*(){const Y=yield x.openDbPromise;return new Promise((ce,ge)=>{const gt=Y.transaction([pi],"readwrite").objectStore(pi),dt=x.createCompositeKey(T);try{const Nt=gt.delete(dt);Nt.onerror=en=>{ge(no(en,"storage-delete"))},Nt.onsuccess=()=>{ce()}}catch(Nt){ge(mr.create("storage-delete",{originalErrorMessage:Nt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class is{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,U.Z)(function*(){const x=T.storage.getLastFetchStatus(),Y=T.storage.getLastSuccessfulFetchTimestampMillis(),ce=T.storage.getActiveConfig(),ge=yield x;ge&&(T.lastFetchStatus=ge);const Re=yield Y;Re&&(T.lastSuccessfulFetchTimestampMillis=Re);const gt=yield ce;gt&&(T.activeConfig=gt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Li(){return wr.apply(this,arguments)}function wr(){return(wr=(0,U.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Pr(){(0,le._registerComponent)(new ue.wA("remote-config",function E(T,{instanceIdentifier:x}){const Y=T.getProvider("app").getImmediate(),ce=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!(0,ae.hl)())throw mr.create("indexed-db-unavailable");const{projectId:ge,apiKey:Re,appId:gt}=Y.options;if(!ge)throw mr.create("registration-project-id");if(!Re)throw mr.create("registration-api-key");if(!gt)throw mr.create("registration-app-id");const dt=new sn(gt,Y.name,x=x||"firebase"),Nt=new is(dt),en=new me.Yd(vn);en.logLevel=me.in.ERROR;const tn=new Fi(ce,le.SDK_VERSION,x,ge,Re,gt),ko=new Ys(tn,dt),Vr=new fi(ko,dt,Nt,en),Hs=new Ta(Y,Vr,Nt,dt,en);return function Rr(E){const T=(0,ae.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Hs),Hs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(vn,"0.4.4"),(0,le.registerVersion)(vn,"0.4.4","esm2017")}();const os=(E,T)=>T.some(x=>E instanceof x);let yr,jr;const ho=new WeakMap,Ei=new WeakMap,$r=new WeakMap,Or=new WeakMap,ai=new WeakMap;let Gi={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return Ei.get(E);if("objectStoreNames"===T)return E.objectStoreNames||$r.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return xr(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Mn(E){return"function"==typeof E?function qs(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ri(){return jr||(jr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(vr(this),T),xr(ho.get(this))}:function(...T){return xr(E.apply(vr(this),T))}:function(T,...x){const Y=E.call(vr(this),T,...x);return $r.set(Y,T.sort?T.sort():[T]),xr(Y)}}(E):(E instanceof IDBTransaction&&function So(E){if(Ei.has(E))return;const T=new Promise((x,Y)=>{const ce=()=>{E.removeEventListener("complete",ge),E.removeEventListener("error",Re),E.removeEventListener("abort",Re)},ge=()=>{x(),ce()},Re=()=>{Y(E.error||new DOMException("AbortError","AbortError")),ce()};E.addEventListener("complete",ge),E.addEventListener("error",Re),E.addEventListener("abort",Re)});Ei.set(E,T)}(E),os(E,function Is(){return yr||(yr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Gi):E)}function xr(E){if(E instanceof IDBRequest)return function sr(E){const T=new Promise((x,Y)=>{const ce=()=>{E.removeEventListener("success",ge),E.removeEventListener("error",Re)},ge=()=>{x(xr(E.result)),ce()},Re=()=>{Y(E.error),ce()};E.addEventListener("success",ge),E.addEventListener("error",Re)});return T.then(x=>{x instanceof IDBCursor&&ho.set(x,E)}).catch(()=>{}),ai.set(T,E),T}(E);if(Or.has(E))return Or.get(E);const T=Mn(E);return T!==E&&(Or.set(E,T),ai.set(T,E)),T}const vr=E=>ai.get(E);function ro(E,T,{blocked:x,upgrade:Y,blocking:ce,terminated:ge}={}){const Re=indexedDB.open(E,T),gt=xr(Re);return Y&&Re.addEventListener("upgradeneeded",dt=>{Y(xr(Re.result),dt.oldVersion,dt.newVersion,xr(Re.transaction))}),x&&Re.addEventListener("blocked",()=>x()),gt.then(dt=>{ge&&dt.addEventListener("close",()=>ge()),ce&&dt.addEventListener("versionchange",()=>ce())}).catch(()=>{}),gt}function Ci(E,{blocked:T}={}){const x=indexedDB.deleteDatabase(E);return T&&x.addEventListener("blocked",()=>T()),xr(x).then(()=>{})}const Er=["get","getKey","getAll","getAllKeys","count"],kr=["put","add","delete","clear"],Wr=new Map;function zt(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(Wr.get(T))return Wr.get(T);const x=T.replace(/FromIndex$/,""),Y=T!==x,ce=kr.includes(x);if(!(x in(Y?IDBIndex:IDBObjectStore).prototype)||!ce&&!Er.includes(x))return;const ge=function(){var Re=(0,U.Z)(function*(gt,...dt){const Nt=this.transaction(gt,ce?"readwrite":"readonly");let en=Nt.store;return Y&&(en=en.index(dt.shift())),(yield Promise.all([en[x](...dt),ce&&Nt.done]))[0]});return function(dt){return Re.apply(this,arguments)}}();return Wr.set(T,ge),ge}!function Nr(E){Gi=E(Gi)}(E=>({...E,get:(T,x,Y)=>zt(T,x)||E.get(T,x,Y),has:(T,x)=>!!zt(T,x)||E.has(T,x)}));const Yt="/firebase-messaging-sw.js",zi="/firebase-cloud-messaging-push-scope",ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xn="https://fcmregistrations.googleapis.com/v1",Bo="google.c.a.c_id",Ao="google.c.a.c_l",Ki="google.c.a.ts",da="google.c.a.e";var b=(()=>{return(E=b||(b={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",b;var E})();function M(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(x),ce=new Uint8Array(Y.length);for(let ge=0;ge<Y.length;++ge)ce[ge]=Y.charCodeAt(ge);return ce}const G="fcm_token_details_db",be=5,At="fcm_token_object_Store";function Bn(){return Bn=(0,U.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(G))return null;let T=null;return(yield ro(G,be,{upgrade:(Y=(0,U.Z)(function*(ce,ge,Re,gt){var dt;if(ge<2||!ce.objectStoreNames.contains(At))return;const Nt=gt.objectStore(At),en=yield Nt.index("fcmSenderId").get(E);if(yield Nt.clear(),en)if(2===ge){const tn=en;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;T={token:tn.fcmToken,createTime:null!==(dt=tn.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:M(tn.vapidKey)}}}else if(3===ge){const tn=en;T={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:M(tn.auth),p256dh:M(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:M(tn.vapidKey)}}}else if(4===ge){const tn=en;T={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:M(tn.auth),p256dh:M(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:M(tn.vapidKey)}}}}),function(ge,Re,gt,dt){return Y.apply(this,arguments)})})).close(),yield Ci(G),yield Ci("fcm_vapid_details_db"),yield Ci("undefined"),function po(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var Y}),Bn.apply(this,arguments)}const Zi="firebase-messaging-database",go=1,li="firebase-messaging-store";let Ii=null;function br(){return Ii||(Ii=ro(Zi,go,{upgrade:(E,T)=>{0===T&&E.createObjectStore(li)}})),Ii}function gi(E){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,U.Z)(function*(E){const T=mo(E),Y=yield(yield br()).transaction(li).objectStore(li).get(T);if(Y)return Y;{const ce=yield function Tn(E){return Bn.apply(this,arguments)}(E.appConfig.senderId);if(ce)return yield Mo(E,ce),ce}}),Yi.apply(this,arguments)}function Mo(E,T){return mi.apply(this,arguments)}function mi(){return(mi=(0,U.Z)(function*(E,T){const x=mo(E),ce=(yield br()).transaction(li,"readwrite");return yield ce.objectStore(li).put(T,x),yield ce.done,T})).apply(this,arguments)}function Ro(){return(Ro=(0,U.Z)(function*(E){const T=mo(E),Y=(yield br()).transaction(li,"readwrite");yield Y.objectStore(li).delete(T),yield Y.done})).apply(this,arguments)}function mo({appConfig:E}){return E.appId}const ar=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function as(E,T){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,U.Z)(function*(E,T){const x=yield ws(E),Y=$o(T),ce={method:"POST",headers:x,body:JSON.stringify(Y)};let ge;try{ge=yield(yield fetch(ui(E.appConfig),ce)).json()}catch(Re){throw ar.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(ge.error)throw ar.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw ar.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Qs(){return(Qs=(0,U.Z)(function*(E,T){const x=yield ws(E),Y=$o(T.subscriptionOptions),ce={method:"PATCH",headers:x,body:JSON.stringify(Y)};let ge;try{ge=yield(yield fetch(`${ui(E.appConfig)}/${T.token}`,ce)).json()}catch(Re){throw ar.create("token-update-failed",{errorInfo:Re?.toString()})}if(ge.error)throw ar.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw ar.create("token-update-no-token");return ge.token})).apply(this,arguments)}function Ho(E,T){return Js.apply(this,arguments)}function Js(){return(Js=(0,U.Z)(function*(E,T){const Y={method:"DELETE",headers:yield ws(E)};try{const ge=yield(yield fetch(`${ui(E.appConfig)}/${T}`,Y)).json();if(ge.error)throw ar.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(ce){throw ar.create("token-unsubscribe-failed",{errorInfo:ce?.toString()})}})).apply(this,arguments)}function ui({projectId:E}){return`${Xn}/projects/${E}/registrations`}function ws(E){return jo.apply(this,arguments)}function jo(){return(jo=(0,U.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function $o({p256dh:E,auth:T,endpoint:x,vapidKey:Y}){const ce={web:{endpoint:x,auth:T,p256dh:E}};return Y!==ss&&(ce.web.applicationPubKey=Y),ce}const Po=6048e5;function Pi(){return Pi=(0,U.Z)(function*(E){const T=yield function Ga(E,T){return Ss.apply(this,arguments)}(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:M(T.getKey("auth")),p256dh:M(T.getKey("p256dh"))},Y=yield gi(E.firebaseDependencies);if(Y){if(function Xs(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}(Y.subscriptionOptions,x))return Date.now()>=Y.createTime+Po?function zn(E,T){return bs.apply(this,arguments)}(E,{token:Y.token,createTime:Date.now(),subscriptionOptions:x}):Y.token;try{yield Ho(E.firebaseDependencies,Y.token)}catch(ce){console.warn(ce)}return Ts(E.firebaseDependencies,x)}return Ts(E.firebaseDependencies,x)}),Pi.apply(this,arguments)}function Gr(){return Gr=(0,U.Z)(function*(E){const T=yield gi(E.firebaseDependencies);T&&(yield Ho(E.firebaseDependencies,T.token),yield function Sa(E){return Ro.apply(this,arguments)}(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),Gr.apply(this,arguments)}function bs(){return bs=(0,U.Z)(function*(E,T){try{const x=yield function ls(E,T){return Qs.apply(this,arguments)}(E.firebaseDependencies,T),Y=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Mo(E.firebaseDependencies,Y),x}catch(x){throw yield function tr(E){return Gr.apply(this,arguments)}(E),x}}),bs.apply(this,arguments)}function Ts(E,T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,U.Z)(function*(E,T){const Y={token:yield as(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Mo(E,Y),Y.token})).apply(this,arguments)}function Ss(){return(Ss=(0,U.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(T)})})).apply(this,arguments)}function cs(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function ds(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const Y=T.notification.body;Y&&(E.notification.body=Y);const ce=T.notification.image;ce&&(E.notification.image=ce);const ge=T.notification.icon;ge&&(E.notification.icon=ge)}(T,E),function _o(E,T){T.data&&(E.data=T.data)}(T,E),function w(E,T){var x,Y,ce,ge,Re;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;E.fcmOptions={};const gt=null!==(ce=null===(Y=T.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ce?ce:null===(ge=T.notification)||void 0===ge?void 0:ge.click_action;gt&&(E.fcmOptions.link=gt);const dt=null===(Re=T.fcmOptions)||void 0===Re?void 0:Re.analytics_label;dt&&(E.fcmOptions.analyticsLabel=dt)}(T,E),T}function S(E,T){const x=[];for(let Y=0;Y<E.length;Y++)x.push(E.charAt(Y)),Y<T.length&&x.push(T.charAt(Y));return x.join("")}function X(E){return ar.create("missing-app-config-values",{valueName:E})}S("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),S("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ne{constructor(T,x,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function j(E){if(!E||!E.options)throw X("App Configuration Object");if(!E.name)throw X("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const Y of T)if(!x[Y])throw X(Y);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ce,installations:x,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function Ke(E){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,U.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Yt,{scope:zi}),E.swRegistration.update().catch(()=>{})}catch(T){throw ar.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Rn(){return(Rn=(0,U.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield Ke(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function Xt(){return(Xt=(0,U.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=ss)})).apply(this,arguments)}function Pn(){return Pn=(0,U.Z)(function*(E,T){if(!navigator)throw ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ar.create("permission-blocked");return yield function Jt(E,T){return Xt.apply(this,arguments)}(E,T?.vapidKey),yield function Sn(E,T){return Rn.apply(this,arguments)}(E,T?.serviceWorkerRegistration),function us(E){return Pi.apply(this,arguments)}(E)}),Pn.apply(this,arguments)}function io(){return(io=(0,U.Z)(function*(E,T,x){const Y=function Oi(E){switch(E){case b.NOTIFICATION_CLICKED:return"notification_open";case b.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:x[Bo],message_name:x[Ao],message_time:x[Ki],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zr(){return zr=(0,U.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===b.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(cs(x)):E.onMessageHandler.next(cs(x)));const Y=x.data;(function F(E){return"object"==typeof E&&!!E&&Bo in E})(Y)&&"1"===Y[da]&&(yield function lr(E,T,x){return io.apply(this,arguments)}(E,x.messageType,Y))}),zr.apply(this,arguments)}const _i="@firebase/messaging",Kr=E=>{const T=new Ne(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Go(E,T){return zr.apply(this,arguments)}(T,x)),T},As=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:Y=>function Zn(E,T){return Pn.apply(this,arguments)}(T,Y)}};function vl(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,U.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ha(){(0,le._registerComponent)(new ue.wA("messaging",Kr,"PUBLIC")),(0,le._registerComponent)(new ue.wA("messaging-internal",As,"PRIVATE")),(0,le.registerVersion)(_i,"0.12.4"),(0,le.registerVersion)(_i,"0.12.4","esm2017")}();const Yn="analytics",za="firebase_id",pa="origin",ga=6e4,Ra="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pa="https://www.googletagmanager.com/gtag/js",Zr=new me.Yd("@firebase/analytics"),An=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Oa(E){if(!E.startsWith(Pa)){const T=An.create("invalid-gtag-resource",{gtagURL:E});return Zr.warn(T.message),""}return E}function xs(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function na(){return(na=(0,U.Z)(function*(E,T,x,Y,ce,ge){const Re=Y[ce];try{if(Re)yield T[Re];else{const dt=(yield xs(x)).find(Nt=>Nt.measurementId===ce);dt&&(yield T[dt.appId])}}catch(gt){Zr.error(gt)}E("config",ce,ge)})).apply(this,arguments)}function Fs(){return(Fs=(0,U.Z)(function*(E,T,x,Y,ce){try{let ge=[];if(ce&&ce.send_to){let Re=ce.send_to;Array.isArray(Re)||(Re=[Re]);const gt=yield xs(x);for(const dt of Re){const Nt=gt.find(tn=>tn.measurementId===dt),en=Nt&&T[Nt.appId];if(!en){ge=[];break}ge.push(en)}}0===ge.length&&(ge=Object.values(T)),yield Promise.all(ge),E("event",Y,ce||{})}catch(ge){Zr.error(ge)}})).apply(this,arguments)}const vo=30,Vi=new class zo{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function El(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function er(){return(er=(0,U.Z)(function*(E){var T;const{appId:x,apiKey:Y}=E,ce={method:"GET",headers:El(Y)},ge=Ra.replace("{app-id}",x),Re=yield fetch(ge,ce);if(200!==Re.status&&304!==Re.status){let gt="";try{const dt=yield Re.json();null!==(T=dt.error)&&void 0!==T&&T.message&&(gt=dt.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:gt})}return Re.json()})).apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(E,T=Vi,x){const{appId:Y,apiKey:ce,measurementId:ge}=E.options;if(!Y)throw An.create("no-app-id");if(!ce){if(ge)return{measurementId:ge,appId:Y};throw An.create("no-api-key")}const Re=T.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gt=new hu;return setTimeout((0,U.Z)(function*(){gt.abort()}),void 0!==x?x:ga),Il({appId:Y,apiKey:ce,measurementId:ge},Re,gt,T)})).apply(this,arguments)}function Il(E,T,x){return ya.apply(this,arguments)}function ya(){return ya=(0,U.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},Y,ce=Vi){var ge;const{appId:Re,measurementId:gt}=E;try{yield function Za(E,T){return new Promise((x,Y)=>{const ce=Math.max(T-Date.now(),0),ge=setTimeout(x,ce);E.addEventListener(()=>{clearTimeout(ge),Y(An.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(Y,T)}catch(dt){if(gt)return Zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:Re,measurementId:gt};throw dt}try{const dt=yield function Cl(E){return er.apply(this,arguments)}(E);return ce.deleteThrottleMetadata(Re),dt}catch(dt){const Nt=dt;if(!function Ya(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Nt)){if(ce.deleteThrottleMetadata(Re),gt)return Zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:Re,measurementId:gt};throw dt}const en=503===Number(null===(ge=Nt?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,ae.$s)(x,ce.intervalMillis,vo):(0,ae.$s)(x,ce.intervalMillis),tn={throttleEndTimeMillis:Date.now()+en,backoffCount:x+1};return ce.setThrottleMetadata(Re,tn),Zr.debug(`Calling attemptFetch again in ${en} millis`),Il(E,tn,Y,ce)}}),ya.apply(this,arguments)}class hu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let fs,Dl;function qa(){return(qa=(0,U.Z)(function*(E,T,x,Y,ce){if(ce&&ce.global)E("event",x,Y);else{const ge=yield T;E("event",x,Object.assign(Object.assign({},Y),{send_to:ge}))}})).apply(this,arguments)}function Vs(){return(Vs=(0,U.Z)(function*(){if(!(0,ae.hl)())return Zr.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return Zr.warn(An.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function _(){return _=(0,U.Z)(function*(E,T,x,Y,ce,ge,Re){var gt;const dt=function du(E){return Ls.apply(this,arguments)}(E);dt.then(Vr=>{x[Vr.measurementId]=Vr.appId,E.options.measurementId&&Vr.measurementId!==E.options.measurementId&&Zr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Vr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vr=>Zr.error(Vr)),T.push(dt);const Nt=function yi(){return Vs.apply(this,arguments)}().then(Vr=>{if(Vr)return Y.getId()}),[en,tn]=yield Promise.all([dt,Nt]);(function ra(E){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(Pa)&&x.src.includes(E))return x;return null})(ge)||function No(E,T){const x=function ks(E,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,T)),x}("firebase-js-sdk-policy",{createScriptURL:Oa}),Y=document.createElement("script"),ce=`${Pa}?l=${E}&id=${T}`;Y.src=x?x?.createScriptURL(ce):ce,Y.async=!0,document.head.appendChild(Y)}(ge,en.measurementId),Dl&&(ce("consent","default",Dl),function Na(E){Dl=E}(void 0)),ce("js",new Date);const ko=null!==(gt=Re?.config)&&void 0!==gt?gt:{};return ko[pa]="firebase",ko.update=!0,null!=tn&&(ko[za]=tn),ce("config",en.measurementId,ko),fs&&(ce("set",fs),function xa(E){fs=E}(void 0)),en.measurementId}),_.apply(this,arguments)}class v{constructor(T){this.app=T}_delete(){return delete f[this.app.options.appId],Promise.resolve()}}let f={},D=[];const O={};let pe,He,H="dataLayer",z="gtag",ct=!1;function Cr(E,T,x){!function an(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((Y,ce)=>`(${ce+1}) ${Y}`).join(" "),x=An.create("invalid-analytics-context",{errorInfo:T});Zr.warn(x.message)}}();const Y=E.options.appId;if(!Y)throw An.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw An.create("no-api-key");Zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=f[Y])throw An.create("already-exists",{id:Y});if(!ct){!function ma(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(H);const{wrappedGtag:ge,gtagCore:Re}=function Yr(E,T,x,Y,ce){let ge=function(...Re){window[Y].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(ge=window[ce]),window[ce]=function hs(E,T,x,Y){function ge(){return ge=(0,U.Z)(function*(Re,...gt){try{if("event"===Re){const[dt,Nt]=gt;yield function Ka(E,T,x,Y,ce){return Fs.apply(this,arguments)}(E,T,x,dt,Nt)}else if("config"===Re){const[dt,Nt]=gt;yield function _a(E,T,x,Y,ce,ge){return na.apply(this,arguments)}(E,T,x,Y,dt,Nt)}else if("consent"===Re){const[dt]=gt;E("consent","update",dt)}else if("get"===Re){const[dt,Nt,en]=gt;E("get",dt,Nt,en)}else if("set"===Re){const[dt]=gt;E("set",dt)}else E(Re,...gt)}catch(dt){Zr.error(dt)}}),ge.apply(this,arguments)}return function ce(Re){return ge.apply(this,arguments)}}(ge,E,T,x),{gtagCore:ge,wrappedGtag:window[ce]}}(f,D,O,H,z);He=ge,pe=Re,ct=!0}return f[Y]=function Us(E,T,x,Y,ce,ge,Re){return _.apply(this,arguments)}(E,D,O,T,pe,H,x),new v(E)}function Ui(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,U.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Xa="@firebase/analytics";!function mu(){(0,le._registerComponent)(new ue.wA(Yn,(T,{options:x})=>Cr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new ue.wA("analytics-internal",function E(T){try{const x=T.getProvider(Yn).getImmediate();return{logEvent:(Y,ce,ge)=>function gu(E,T,x,Y){E=(0,ae.m9)(E),function fu(E,T,x,Y,ce){return qa.apply(this,arguments)}(He,f[E.app.options.appId],T,x,Y).catch(ce=>Zr.error(ce))}(x,Y,ce,ge)}}catch(x){throw An.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(Xa,"0.10.0"),(0,le.registerVersion)(Xa,"0.10.0","esm2017")}();var Bl=V(4408),el=V(7565);const Hl=new class Fa extends el.v{}(class Bu extends Bl.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(T,x,Y):(T.flush(this),0)}});var tl=V(4986),ia=V(8505),bl=V(9468),nl=V(5363);const $l=new h.GfV("7.6.1"),Bs="__angularfire_symbol__analyticsIsSupportedValue",rl="__angularfire_symbol__analyticsIsSupported",_u="__angularfire_symbol__remoteConfigIsSupportedValue",_s="__angularfire_symbol__remoteConfigIsSupported",il="__angularfire_symbol__messagingIsSupportedValue",Wl="__angularfire_symbol__messagingIsSupported";function Kl(E,T,x){if(T){if(1===T.length)return T[0];const ge=T.filter(Re=>Re.app===x);if(1===ge.length)return ge[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[rl]||(globalThis[rl]=Ui().then(E=>globalThis[Bs]=E).catch(()=>globalThis[Bs]=!1)),globalThis[Wl]||(globalThis[Wl]=vl().then(E=>globalThis[il]=E).catch(()=>globalThis[il]=!1)),globalThis[_s]||(globalThis[_s]=Li().then(E=>globalThis[_u]=E).catch(()=>globalThis[_u]=!1));const Zl=(E,T)=>{const x=T?[T]:(0,Z.C6)(),Y=[];return x.forEach(ce=>{ce.container.getProvider(E).instances.forEach(Re=>{Y.includes(Re)||Y.push(Re)})}),Y};function Eo(){}class xo{constructor(T,x=Hl){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,Y){const ce=this.zone;return this.delegate.schedule(function(Re){ce.runGuarded(()=>{T.apply(this,[Re])})},x,Y)}}class La{constructor(T){this.zone=T,this.task=null}call(T,x){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),x.pipe((0,ia.b)({next:Y,complete:Y,error:Y})).subscribe(T).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yo=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new xo(Zone.current)),this.insideAngular=x.run(()=>new xo(Zone.current,tl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function oa(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Co(E){return oa(),function Eu(E){return function(x){return(x=x.lift(new La(E.ngZone))).pipe((0,bl.R)(E.outsideAngular),(0,nl.Q)(E.insideAngular))}}(oa())(E)}},2090:(vt,Pe,V)=>{V.d(Pe,{$s:()=>di,BH:()=>Be,DV:()=>Fn,Dv:()=>Qn,GJ:()=>Ln,L:()=>ve,LL:()=>$e,Pz:()=>Le,Sg:()=>rt,UG:()=>L,UI:()=>gn,US:()=>ue,Wj:()=>ti,Wl:()=>at,Yr:()=>Sr,ZB:()=>se,ZR:()=>Ve,aH:()=>ze,b$:()=>$t,cI:()=>fn,dS:()=>bi,eu:()=>Te,g5:()=>U,gK:()=>pr,gQ:()=>un,h$:()=>_e,hl:()=>De,hu:()=>Z,jU:()=>kt,lb:()=>mn,m9:()=>dr,ne:()=>jt,p$:()=>ne,pd:()=>On,r3:()=>_t,ru:()=>mt,tV:()=>te,uI:()=>st,ug:()=>on,vZ:()=>Dt,w1:()=>Kt,w9:()=>Lt,xO:()=>nr,xb:()=>jn,z$:()=>We,zI:()=>Me,zd:()=>Ir});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(re,J){if(!re)throw U(J)},U=function(re){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},le=function(re){const J=[];let de=0;for(let je=0;je<re.length;je++){let Ee=re.charCodeAt(je);Ee<128?J[de++]=Ee:Ee<2048?(J[de++]=Ee>>6|192,J[de++]=63&Ee|128):55296==(64512&Ee)&&je+1<re.length&&56320==(64512&re.charCodeAt(je+1))?(Ee=65536+((1023&Ee)<<10)+(1023&re.charCodeAt(++je)),J[de++]=Ee>>18|240,J[de++]=Ee>>12&63|128,J[de++]=Ee>>6&63|128,J[de++]=63&Ee|128):(J[de++]=Ee>>12|224,J[de++]=Ee>>6&63|128,J[de++]=63&Ee|128)}return J},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,J){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let Ee=0;Ee<re.length;Ee+=3){const nt=re[Ee],he=Ee+1<re.length,ie=he?re[Ee+1]:0,q=Ee+2<re.length,ye=q?re[Ee+2]:0;let Ft=(15&ie)<<2|ye>>6,wn=63&ye;q||(wn=64,he||(Ft=64)),je.push(de[nt>>2],de[(3&nt)<<4|ie>>4],de[Ft],de[wn])}return je.join("")},encodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(re):this.encodeByteArray(le(re),J)},decodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(re):function(re){const J=[];let de=0,je=0;for(;de<re.length;){const Ee=re[de++];if(Ee<128)J[je++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const nt=re[de++];J[je++]=String.fromCharCode((31&Ee)<<6|63&nt)}else if(Ee>239&&Ee<365){const q=((7&Ee)<<18|(63&re[de++])<<12|(63&re[de++])<<6|63&re[de++])-65536;J[je++]=String.fromCharCode(55296+(q>>10)),J[je++]=String.fromCharCode(56320+(1023&q))}else{const nt=re[de++],he=re[de++];J[je++]=String.fromCharCode((15&Ee)<<12|(63&nt)<<6|63&he)}}return J.join("")}(this.decodeStringToByteArray(re,J))},decodeStringToByteArray(re,J){this.init_();const de=J?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let Ee=0;Ee<re.length;){const nt=de[re.charAt(Ee++)],ie=Ee<re.length?de[re.charAt(Ee)]:0;++Ee;const ye=Ee<re.length?de[re.charAt(Ee)]:64;++Ee;const Xe=Ee<re.length?de[re.charAt(Ee)]:64;if(++Ee,null==nt||null==ie||null==ye||null==Xe)throw new me;je.push(nt<<2|ie>>4),64!==ye&&(je.push(ie<<4&240|ye>>2),64!==Xe&&je.push(ye<<6&192|Xe))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(re){const J=le(re);return ue.encodeByteArray(J,!0)},ve=function(re){return _e(re).replace(/\./g,"")},te=function(re){try{return ue.decodeString(re,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ne(re){return se(void 0,re)}function se(re,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return J}for(const de in J)!J.hasOwnProperty(de)||!et(de)||(re[de]=se(re[de],J[de]));return re}function et(re){return"__proto__"!==re}const qe=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=re&&te(re[1]);return J&&JSON.parse(J)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},ze=()=>{var re;return null===(re=qe())||void 0===re?void 0:re.config},Le=re=>{var J;return null===(J=qe())||void 0===J?void 0:J[`_${re}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,de)=>{this.resolve=J,this.reject=de})}wrapCallback(J){return(de,je)=>{de?this.reject(de):this.resolve(je),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(de):J(de,je))}}}function rt(re,J){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=J||"demo-project",Ee=re.iat||0,nt=re.sub||re.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},re);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(he)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function L(){var re;const J=null===(re=qe())||void 0===re?void 0:re.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kt(){return"object"==typeof self&&self.self===self}function mt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kt(){const re=We();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Sr(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((re,J)=>{try{let de=!0;const je="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(je);Ee.onsuccess=()=>{Ee.result.close(),de||self.indexedDB.deleteDatabase(je),re(!0)},Ee.onupgradeneeded=()=>{de=!1},Ee.onerror=()=>{var nt;J((null===(nt=Ee.error)||void 0===nt?void 0:nt.message)||"")}}catch(de){J(de)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ve extends Error{constructor(J,de,je){super(de),this.code=J,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(J,de,je){this.service=J,this.serviceName=de,this.errors=je}create(J,...de){const je=de[0]||{},Ee=`${this.service}/${J}`,nt=this.errors[J],he=nt?function It(re,J){return re.replace(wt,(de,je)=>{const Ee=J[je];return null!=Ee?String(Ee):`<${je}?>`})}(nt,je):"Error";return new Ve(Ee,`${this.serviceName}: ${he} (${Ee}).`,je)}}const wt=/\{\$([^}]+)}/g;function fn(re){return JSON.parse(re)}function at(re){return JSON.stringify(re)}const Qt=function(re){let J={},de={},je={},Ee="";try{const nt=re.split(".");J=fn(te(nt[0])||""),de=fn(te(nt[1])||""),Ee=nt[2],je=de.d||{},delete de.d}catch{}return{header:J,claims:de,data:je,signature:Ee}},Lt=function(re){const de=Qt(re).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Ln=function(re){const J=Qt(re).claims;return"object"==typeof J&&!0===J.admin};function _t(re,J){return Object.prototype.hasOwnProperty.call(re,J)}function Fn(re,J){if(Object.prototype.hasOwnProperty.call(re,J))return re[J]}function jn(re){for(const J in re)if(Object.prototype.hasOwnProperty.call(re,J))return!1;return!0}function gn(re,J,de){const je={};for(const Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&(je[Ee]=J.call(de,re[Ee],Ee,re));return je}function Dt(re,J){if(re===J)return!0;const de=Object.keys(re),je=Object.keys(J);for(const Ee of de){if(!je.includes(Ee))return!1;const nt=re[Ee],he=J[Ee];if(Dn(nt)&&Dn(he)){if(!Dt(nt,he))return!1}else if(nt!==he)return!1}for(const Ee of je)if(!de.includes(Ee))return!1;return!0}function Dn(re){return null!==re&&"object"==typeof re}function nr(re){const J=[];for(const[de,je]of Object.entries(re))Array.isArray(je)?je.forEach(Ee=>{J.push(encodeURIComponent(de)+"="+encodeURIComponent(Ee))}):J.push(encodeURIComponent(de)+"="+encodeURIComponent(je));return J.length?"&"+J.join("&"):""}function Ir(re){const J={};return re.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[Ee,nt]=je.split("=");J[decodeURIComponent(Ee)]=decodeURIComponent(nt)}}),J}function On(re){const J=re.indexOf("?");if(!J)return"";const de=re.indexOf("#",J);return re.substring(J,de>0?de:void 0)}class un{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,de){de||(de=0);const je=this.W_;if("string"==typeof J)for(let Xe=0;Xe<16;Xe++)je[Xe]=J.charCodeAt(de)<<24|J.charCodeAt(de+1)<<16|J.charCodeAt(de+2)<<8|J.charCodeAt(de+3),de+=4;else for(let Xe=0;Xe<16;Xe++)je[Xe]=J[de]<<24|J[de+1]<<16|J[de+2]<<8|J[de+3],de+=4;for(let Xe=16;Xe<80;Xe++){const Ft=je[Xe-3]^je[Xe-8]^je[Xe-14]^je[Xe-16];je[Xe]=4294967295&(Ft<<1|Ft>>>31)}let ye,Ue,Ee=this.chain_[0],nt=this.chain_[1],he=this.chain_[2],ie=this.chain_[3],q=this.chain_[4];for(let Xe=0;Xe<80;Xe++){Xe<40?Xe<20?(ye=ie^nt&(he^ie),Ue=1518500249):(ye=nt^he^ie,Ue=1859775393):Xe<60?(ye=nt&he|ie&(nt|he),Ue=2400959708):(ye=nt^he^ie,Ue=3395469782);const Ft=(Ee<<5|Ee>>>27)+ye+q+Ue+je[Xe]&4294967295;q=ie,ie=he,he=4294967295&(nt<<30|nt>>>2),nt=Ee,Ee=Ft}this.chain_[0]=this.chain_[0]+Ee&4294967295,this.chain_[1]=this.chain_[1]+nt&4294967295,this.chain_[2]=this.chain_[2]+he&4294967295,this.chain_[3]=this.chain_[3]+ie&4294967295,this.chain_[4]=this.chain_[4]+q&4294967295}update(J,de){if(null==J)return;void 0===de&&(de=J.length);const je=de-this.blockSize;let Ee=0;const nt=this.buf_;let he=this.inbuf_;for(;Ee<de;){if(0===he)for(;Ee<=je;)this.compress_(J,Ee),Ee+=this.blockSize;if("string"==typeof J){for(;Ee<de;)if(nt[he]=J.charCodeAt(Ee),++he,++Ee,he===this.blockSize){this.compress_(nt),he=0;break}}else for(;Ee<de;)if(nt[he]=J[Ee],++he,++Ee,he===this.blockSize){this.compress_(nt),he=0;break}}this.inbuf_=he,this.total_+=de}digest(){const J=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ee=this.blockSize-1;Ee>=56;Ee--)this.buf_[Ee]=255&de,de/=256;this.compress_(this.buf_);let je=0;for(let Ee=0;Ee<5;Ee++)for(let nt=24;nt>=0;nt-=8)J[je]=this.chain_[Ee]>>nt&255,++je;return J}}function jt(re,J){const de=new pt(re,J);return de.subscribe.bind(de)}class pt{constructor(J,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{J(this)}).catch(je=>{this.error(je)})}next(J){this.forEachObserver(de=>{de.next(J)})}error(J){this.forEachObserver(de=>{de.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,de,je){let Ee;if(void 0===J&&void 0===de&&void 0===je)throw new Error("Missing Observer.");Ee=function ei(re,J){if("object"!=typeof re||null===re)return!1;for(const de of J)if(de in re&&"function"==typeof re[de])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:de,complete:je},void 0===Ee.next&&(Ee.next=fr),void 0===Ee.error&&(Ee.error=fr),void 0===Ee.complete&&(Ee.complete=fr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),nt}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,J)}sendOne(J,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{de(this.observers[J])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fr(){}const Qn=function(re,J,de,je){let Ee;if(je<J?Ee="at least "+J:je>de&&(Ee=0===de?"none":"no more than "+de),Ee)throw new Error(re+" failed: Was called with "+je+(1===je?" argument.":" arguments.")+" Expects "+Ee+".")};function pr(re,J){return`${re} failed: ${J} argument `}function ti(re,J,de,je){if((!je||de)&&"function"!=typeof de)throw new Error(pr(re,J)+"must be a valid function.")}function mn(re,J,de,je){if((!je||de)&&("object"!=typeof de||null===de))throw new Error(pr(re,J)+"must be a valid context object.")}const bi=function(re){const J=[];let de=0;for(let je=0;je<re.length;je++){let Ee=re.charCodeAt(je);if(Ee>=55296&&Ee<=56319){const nt=Ee-55296;je++,Z(je<re.length,"Surrogate pair missing trail surrogate."),Ee=65536+(nt<<10)+(re.charCodeAt(je)-56320)}Ee<128?J[de++]=Ee:Ee<2048?(J[de++]=Ee>>6|192,J[de++]=63&Ee|128):Ee<65536?(J[de++]=Ee>>12|224,J[de++]=Ee>>6&63|128,J[de++]=63&Ee|128):(J[de++]=Ee>>18|240,J[de++]=Ee>>12&63|128,J[de++]=Ee>>6&63|128,J[de++]=63&Ee|128)}return J},on=function(re){let J=0;for(let de=0;de<re.length;de++){const je=re.charCodeAt(de);je<128?J++:je<2048?J+=2:je>=55296&&je<=56319?(J+=4,de++):J+=3}return J},yt=1e3,ur=2,Jn=144e5,xn=.5;function di(re,J=yt,de=ur){const je=J*Math.pow(de,re),Ee=Math.round(xn*je*(Math.random()-.5)*2);return Math.min(Jn,je+Ee)}function dr(re){return re&&re._delegate?re._delegate:re}},4501:(vt,Pe,V)=>{V.d(Pe,{f:()=>Z});var h=V(4650);let Z=(()=>{class U{constructor(){this.btnClick=new h.vpe}onClick(){this.btnClick.emit()}static#e=this.\u0275fac=function(ue){return new(ue||U)};static#t=this.\u0275cmp=h.Xpm({type:U,selectors:[["hp-styled-button"]],inputs:{btnText:"btnText",btnType:"btnType"},outputs:{btnClick:"btnClick"},decls:2,vars:2,consts:[[1,"hp-styled-button",3,"type","click"]],template:function(ue,me){1&ue&&(h.TgZ(0,"button",0),h.NdJ("click",function(){return me.onClick()}),h._uU(1),h.qZA()),2&ue&&(h.Q6J("type",me.btnType),h.xp6(1),h.hij(" ",me.btnText,"\n"))},styles:['@font-face{font-family:Domine;src:url(Domine-VariableFont_wght.8f9c520ece2fb140.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}.hp-styled-button[_ngcontent-%COMP%]{border:none;border-radius:20px;background-color:#a4bc41;font-family:Domine,sans-serif;color:#353c3f;padding:8px 20px;transition:.2s ease-in-out;cursor:pointer}.hp-styled-button[_ngcontent-%COMP%]:hover{color:#fff}']})}return U})()},4466:(vt,Pe,V)=>{V.d(Pe,{m:()=>ae});var h=V(6895),Z=V(2254),U=V(433),le=V(4650);let ae=(()=>{class ue{static#e=this.\u0275fac=function(ve){return new(ve||ue)};static#t=this.\u0275mod=le.oAB({type:ue});static#n=this.\u0275inj=le.cJS({imports:[h.ez,Z.Bz,U.UX]})}return ue})()},3983:(vt,Pe,V)=>{var h=V(1481),Z=V(2254),U=V(4650);const le=[{path:"home",loadChildren:()=>V.e(828).then(V.bind(V,3828)).then(Oe=>Oe.HomeModule)},{path:"about",loadChildren:()=>Promise.all([V.e(710),V.e(364)]).then(V.bind(V,1364)).then(Oe=>Oe.AboutUsModule)},{path:"doctors",loadChildren:()=>Promise.all([V.e(710),V.e(415)]).then(V.bind(V,2415)).then(Oe=>Oe.DoctorsModule)},{path:"statistics",loadChildren:()=>V.e(984).then(V.bind(V,1984)).then(Oe=>Oe.StatisticsModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let ae=(()=>{class Oe{static#e=this.\u0275fac=function(Le){return new(Le||Oe)};static#t=this.\u0275mod=U.oAB({type:Oe});static#n=this.\u0275inj=U.cJS({imports:[Z.Bz.forRoot(le),Z.Bz]})}return Oe})();const ue=[{title:"Home",link:"home"},{title:"About us",link:"about"},{title:"Doctors",link:"doctors"},{title:"Statistics",link:"statistics"}];var me=V(6895),_e=V(4501);const ve=function(Oe){return[Oe]};function te(Oe,Je){if(1&Oe&&(U.TgZ(0,"a",4),U._uU(1),U.qZA()),2&Oe){const ze=Je.$implicit;U.Q6J("routerLink",U.VKq(2,ve,ze.link)),U.xp6(1),U.Oqu(ze.title)}}let ne=(()=>{class Oe{constructor(){this.navbarItems=ue}login(){console.log("login")}trackByFn(ze,Le){return Le.title}static#e=this.\u0275fac=function(Le){return new(Le||Oe)};static#t=this.\u0275cmp=U.Xpm({type:Oe,selectors:[["hp-header"]],decls:4,vars:2,consts:[[1,"hp-header-container"],[1,"hp-navbar-container"],["routerLinkActive","router-link-active","class","hp-navbar-item",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["btnType","text","btnText","Login",3,"btnClick"],["routerLinkActive","router-link-active",1,"hp-navbar-item",3,"routerLink"]],template:function(Le,Be){1&Le&&(U.TgZ(0,"div",0)(1,"div",1),U.YNc(2,te,2,4,"a",2),U.qZA(),U.TgZ(3,"hp-styled-button",3),U.NdJ("btnClick",function(){return Be.login()}),U.qZA()()),2&Le&&(U.xp6(2),U.Q6J("ngForOf",Be.navbarItems)("ngForTrackBy",Be.trackByFn))},dependencies:[me.sg,Z.rH,Z.Od,_e.f],styles:['@font-face{font-family:Domine;src:url(Domine-VariableFont_wght.8f9c520ece2fb140.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}.hp-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px;padding:10px 120px;background-color:#353c3f;justify-content:space-between}.hp-header-container[_ngcontent-%COMP%]   .hp-navbar-container[_ngcontent-%COMP%]{display:flex;column-gap:20px}.hp-header-container[_ngcontent-%COMP%]   .hp-navbar-container[_ngcontent-%COMP%]   .hp-navbar-item[_ngcontent-%COMP%]{color:#fff;font-size:14px;transition:.3s ease-in-out;cursor:pointer}.hp-header-container[_ngcontent-%COMP%]   .hp-navbar-container[_ngcontent-%COMP%]   .hp-navbar-item[_ngcontent-%COMP%]:hover{color:#a4bc41}']})}return Oe})(),se=(()=>{class Oe{static#e=this.\u0275fac=function(Le){return new(Le||Oe)};static#t=this.\u0275cmp=U.Xpm({type:Oe,selectors:[["hp-footer"]],decls:3,vars:0,consts:[[1,"hp-footer-container"],[1,"hp-footer-content"]],template:function(Le,Be){1&Le&&(U.TgZ(0,"div",0)(1,"p",1),U._uU(2," \xa9 2024 Hospital portal. All Rights Reserved. Created by Veranika Klokava "),U.qZA()())},styles:['@font-face{font-family:Domine;src:url(Domine-VariableFont_wght.8f9c520ece2fb140.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}.hp-footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px;padding:10px 120px;background-color:#353c3f}.hp-footer-container[_ngcontent-%COMP%]   .hp-footer-content[_ngcontent-%COMP%]{color:#fff}']})}return Oe})(),et=(()=>{class Oe{static#e=this.\u0275fac=function(Le){return new(Le||Oe)};static#t=this.\u0275cmp=U.Xpm({type:Oe,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"hp-container"],[1,"hp-content"]],template:function(Le,Be){1&Le&&(U.TgZ(0,"div",0),U._UZ(1,"hp-header"),U.TgZ(2,"div",1),U._UZ(3,"router-outlet"),U.qZA(),U._UZ(4,"hp-footer"),U.qZA())},dependencies:[Z.lC,ne,se],styles:[".hp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.hp-container[_ngcontent-%COMP%]   .hp-content[_ngcontent-%COMP%]{flex:auto}"]})}return Oe})();var Ge=V(4466),tt=V(2011),Et=V(8104);let qe=(()=>{class Oe{static#e=this.\u0275fac=function(Le){return new(Le||Oe)};static#t=this.\u0275mod=U.oAB({type:Oe,bootstrap:[et]});static#n=this.\u0275inj=U.cJS({imports:[h.b2,ae,Ge.m,Et.JS,tt.hO.initializeApp({apiKey:"AIzaSyCvlnKPZbS_K9MV0lYEV1z-U_1MckBIkKg",authDomain:"hospital-b01b8.firebaseapp.com",projectId:"hospital-b01b8",storageBucket:"hospital-b01b8.appspot.com",messagingSenderId:"889523340046",appId:"1:889523340046:web:2e81b61a951d5983accd5f",measurementId:"G-6NJVRF8JG1"})]})}return Oe})();h.q6().bootstrapModule(qe).catch(Oe=>console.error(Oe))},1135:(vt,Pe,V)=>{V.d(Pe,{X:()=>Z});var h=V(7579);class Z extends h.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const ae=super._subscribe(le);return!ae.closed&&le.next(this._value),ae}getValue(){const{hasError:le,thrownError:ae,_value:ue}=this;if(le)throw ae;return this._throwIfClosed(),ue}next(le){super.next(this._value=le)}}},9751:(vt,Pe,V)=>{V.d(Pe,{y:()=>_e});var h=V(930),Z=V(727),U=V(8822),le=V(9635),ae=V(2416),ue=V(576),me=V(2806);let _e=(()=>{class se{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const tt=new se;return tt.source=this,tt.operator=Ge,tt}subscribe(Ge,tt,Et){const Ae=function ne(se){return se&&se instanceof h.Lv||function te(se){return se&&(0,ue.m)(se.next)&&(0,ue.m)(se.error)&&(0,ue.m)(se.complete)}(se)&&(0,Z.Nn)(se)}(Ge)?Ge:new h.Hp(Ge,tt,Et);return(0,me.x)(()=>{const{operator:qe,source:Oe}=this;Ae.add(qe?qe.call(Ae,Oe):Oe?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(tt){Ge.error(tt)}}forEach(Ge,tt){return new(tt=ve(tt))((Et,Ae)=>{const qe=new h.Hp({next:Oe=>{try{Ge(Oe)}catch(Je){Ae(Je),qe.unsubscribe()}},error:Ae,complete:Et});this.subscribe(qe)})}_subscribe(Ge){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(Ge)}[U.L](){return this}pipe(...Ge){return(0,le.U)(Ge)(this)}toPromise(Ge){return new(Ge=ve(Ge))((tt,Et)=>{let Ae;this.subscribe(qe=>Ae=qe,qe=>Et(qe),()=>tt(Ae))})}}return se.create=et=>new se(et),se})();function ve(se){var et;return null!==(et=se??ae.v.Promise)&&void 0!==et?et:Promise}},4707:(vt,Pe,V)=>{V.d(Pe,{t:()=>U});var h=V(7579),Z=V(6063);class U extends h.x{constructor(ae=1/0,ue=1/0,me=Z.l){super(),this._bufferSize=ae,this._windowTime=ue,this._timestampProvider=me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,ae),this._windowTime=Math.max(1,ue)}next(ae){const{isStopped:ue,_buffer:me,_infiniteTimeWindow:_e,_timestampProvider:ve,_windowTime:te}=this;ue||(me.push(ae),!_e&&me.push(ve.now()+te)),this._trimBuffer(),super.next(ae)}_subscribe(ae){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(ae),{_infiniteTimeWindow:me,_buffer:_e}=this,ve=_e.slice();for(let te=0;te<ve.length&&!ae.closed;te+=me?1:2)ae.next(ve[te]);return this._checkFinalizedStatuses(ae),ue}_trimBuffer(){const{_bufferSize:ae,_timestampProvider:ue,_buffer:me,_infiniteTimeWindow:_e}=this,ve=(_e?1:2)*ae;if(ae<1/0&&ve<me.length&&me.splice(0,me.length-ve),!_e){const te=ue.now();let ne=0;for(let se=1;se<me.length&&me[se]<=te;se+=2)ne=se;ne&&me.splice(0,ne+1)}}}},7579:(vt,Pe,V)=>{V.d(Pe,{x:()=>me});var h=V(9751),Z=V(727);const le=(0,V(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),ue=V(2806);let me=(()=>{class ve extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const se=new _e(this,this);return se.operator=ne,se}_throwIfClosed(){if(this.closed)throw new le}next(ne){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(ne)}})}error(ne){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:se}=this;for(;se.length;)se.shift().error(ne)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:se,isStopped:et,observers:Ge}=this;return se||et?Z.Lc:(this.currentObservers=null,Ge.push(ne),new Z.w0(()=>{this.currentObservers=null,(0,ae.P)(Ge,ne)}))}_checkFinalizedStatuses(ne){const{hasError:se,thrownError:et,isStopped:Ge}=this;se?ne.error(et):Ge&&ne.complete()}asObservable(){const ne=new h.y;return ne.source=this,ne}}return ve.create=(te,ne)=>new _e(te,ne),ve})();class _e extends me{constructor(te,ne){super(),this.destination=te,this.source=ne}next(te){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===se||se.call(ne,te)}error(te){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===se||se.call(ne,te)}complete(){var te,ne;null===(ne=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ne||ne.call(te)}_subscribe(te){var ne,se;return null!==(se=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(te))&&void 0!==se?se:Z.Lc}}},930:(vt,Pe,V)=>{V.d(Pe,{Hp:()=>Et,Lv:()=>se});var h=V(576),Z=V(727),U=V(2416),le=V(7849),ae=V(5032);const ue=ve("C",void 0,void 0);function ve(ze,Le,Be){return{kind:ze,value:Le,error:Be}}var te=V(3410),ne=V(2806);class se extends Z.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,Z.Nn)(Le)&&Le.add(this)):this.destination=Je}static create(Le,Be,rt){return new Et(Le,Be,rt)}next(Le){this.isStopped?Oe(function _e(ze){return ve("N",ze,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Oe(function me(ze){return ve("E",void 0,ze)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Oe(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Ge(ze,Le){return et.call(ze,Le)}class tt{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Be}=this;if(Be.next)try{Be.next(Le)}catch(rt){Ae(rt)}}error(Le){const{partialObserver:Be}=this;if(Be.error)try{Be.error(Le)}catch(rt){Ae(rt)}else Ae(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Be){Ae(Be)}}}class Et extends se{constructor(Le,Be,rt){let We;if(super(),(0,h.m)(Le)||!Le)We={next:Le??void 0,error:Be??void 0,complete:rt??void 0};else{let st;this&&U.v.useDeprecatedNextContext?(st=Object.create(Le),st.unsubscribe=()=>this.unsubscribe(),We={next:Le.next&&Ge(Le.next,st),error:Le.error&&Ge(Le.error,st),complete:Le.complete&&Ge(Le.complete,st)}):We=Le}this.destination=new tt(We)}}function Ae(ze){U.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(ze):(0,le.h)(ze)}function Oe(ze,Le){const{onStoppedNotification:Be}=U.v;Be&&te.z.setTimeout(()=>Be(ze,Le))}const Je={closed:!0,next:ae.Z,error:function qe(ze){throw ze},complete:ae.Z}},727:(vt,Pe,V)=>{V.d(Pe,{Lc:()=>ue,w0:()=>ae,Nn:()=>me});var h=V(576);const U=(0,V(3888).d)(ve=>function(ne){ve(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((se,et)=>`${et+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var le=V(8737);class ae{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ge of ne)Ge.remove(this);else ne.remove(this);const{initialTeardown:se}=this;if((0,h.m)(se))try{se()}catch(Ge){te=Ge instanceof U?Ge.errors:[Ge]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Ge of et)try{_e(Ge)}catch(tt){te=te??[],tt instanceof U?te=[...te,...tt.errors]:te.push(tt)}}if(te)throw new U(te)}}add(te){var ne;if(te&&te!==this)if(this.closed)_e(te);else{if(te instanceof ae){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(te)}}_hasParent(te){const{_parentage:ne}=this;return ne===te||Array.isArray(ne)&&ne.includes(te)}_addParent(te){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(te),ne):ne?[ne,te]:te}_removeParent(te){const{_parentage:ne}=this;ne===te?this._parentage=null:Array.isArray(ne)&&(0,le.P)(ne,te)}remove(te){const{_finalizers:ne}=this;ne&&(0,le.P)(ne,te),te instanceof ae&&te._removeParent(this)}}ae.EMPTY=(()=>{const ve=new ae;return ve.closed=!0,ve})();const ue=ae.EMPTY;function me(ve){return ve instanceof ae||ve&&"closed"in ve&&(0,h.m)(ve.remove)&&(0,h.m)(ve.add)&&(0,h.m)(ve.unsubscribe)}function _e(ve){(0,h.m)(ve)?ve():ve.unsubscribe()}},2416:(vt,Pe,V)=>{V.d(Pe,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Pe,V)=>{V.d(Pe,{E:()=>Z});const Z=new(V(9751).y)(ae=>ae.complete())},8996:(vt,Pe,V)=>{V.d(Pe,{D:()=>Le});var h=V(8421),Z=V(5363),U=V(9468),ue=V(9751),_e=V(2202),ve=V(576),te=V(9672);function se(Be,rt){if(!Be)throw new Error("Iterable cannot be null");return new ue.y(We=>{(0,te.f)(We,rt,()=>{const st=Be[Symbol.asyncIterator]();(0,te.f)(We,rt,()=>{st.next().then(L=>{L.done?We.complete():We.next(L.value)})},0,!0)})})}var et=V(3670),Ge=V(8239),tt=V(1144),Et=V(6495),Ae=V(2206),qe=V(4532),Oe=V(3260);function Le(Be,rt){return rt?function ze(Be,rt){if(null!=Be){if((0,et.c)(Be))return function le(Be,rt){return(0,h.Xf)(Be).pipe((0,U.R)(rt),(0,Z.Q)(rt))}(Be,rt);if((0,tt.z)(Be))return function me(Be,rt){return new ue.y(We=>{let st=0;return rt.schedule(function(){st===Be.length?We.complete():(We.next(Be[st++]),We.closed||this.schedule())})})}(Be,rt);if((0,Ge.t)(Be))return function ae(Be,rt){return(0,h.Xf)(Be).pipe((0,U.R)(rt),(0,Z.Q)(rt))}(Be,rt);if((0,Ae.D)(Be))return se(Be,rt);if((0,Et.T)(Be))return function ne(Be,rt){return new ue.y(We=>{let st;return(0,te.f)(We,rt,()=>{st=Be[_e.h](),(0,te.f)(We,rt,()=>{let L,kt;try{({value:L,done:kt}=st.next())}catch(mt){return void We.error(mt)}kt?We.complete():We.next(L)},0,!0)}),()=>(0,ve.m)(st?.return)&&st.return()})}(Be,rt);if((0,Oe.L)(Be))return function Je(Be,rt){return se((0,Oe.Q)(Be),rt)}(Be,rt)}throw(0,qe.z)(Be)}(Be,rt):(0,h.Xf)(Be)}},8421:(vt,Pe,V)=>{V.d(Pe,{Xf:()=>et});var h=V(7582),Z=V(1144),U=V(8239),le=V(9751),ae=V(3670),ue=V(2206),me=V(4532),_e=V(6495),ve=V(3260),te=V(576),ne=V(7849),se=V(8822);function et(ze){if(ze instanceof le.y)return ze;if(null!=ze){if((0,ae.c)(ze))return function Ge(ze){return new le.y(Le=>{const Be=ze[se.L]();if((0,te.m)(Be.subscribe))return Be.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,Z.z)(ze))return function tt(ze){return new le.y(Le=>{for(let Be=0;Be<ze.length&&!Le.closed;Be++)Le.next(ze[Be]);Le.complete()})}(ze);if((0,U.t)(ze))return function Et(ze){return new le.y(Le=>{ze.then(Be=>{Le.closed||(Le.next(Be),Le.complete())},Be=>Le.error(Be)).then(null,ne.h)})}(ze);if((0,ue.D)(ze))return qe(ze);if((0,_e.T)(ze))return function Ae(ze){return new le.y(Le=>{for(const Be of ze)if(Le.next(Be),Le.closed)return;Le.complete()})}(ze);if((0,ve.L)(ze))return function Oe(ze){return qe((0,ve.Q)(ze))}(ze)}throw(0,me.z)(ze)}function qe(ze){return new le.y(Le=>{(function Je(ze,Le){var Be,rt,We,st;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Be=(0,h.KL)(ze);!(rt=yield Be.next()).done;)if(Le.next(rt.value),Le.closed)return}catch(L){We={error:L}}finally{try{rt&&!rt.done&&(st=Be.return)&&(yield st.call(Be))}finally{if(We)throw We.error}}Le.complete()})})(ze,Le).catch(Be=>Le.error(Be))})}},6451:(vt,Pe,V)=>{V.d(Pe,{T:()=>ue});var h=V(8189),Z=V(8421),U=V(515),le=V(3269),ae=V(8996);function ue(...me){const _e=(0,le.yG)(me),ve=(0,le._6)(me,1/0),te=me;return te.length?1===te.length?(0,Z.Xf)(te[0]):(0,h.J)(ve)((0,ae.D)(te,_e)):U.E}},9646:(vt,Pe,V)=>{V.d(Pe,{of:()=>U});var h=V(3269),Z=V(8996);function U(...le){const ae=(0,h.yG)(le);return(0,Z.D)(le,ae)}},5403:(vt,Pe,V)=>{V.d(Pe,{x:()=>Z});var h=V(930);function Z(le,ae,ue,me,_e){return new U(le,ae,ue,me,_e)}class U extends h.Lv{constructor(ae,ue,me,_e,ve,te){super(ae),this.onFinalize=ve,this.shouldUnsubscribe=te,this._next=ue?function(ne){try{ue(ne)}catch(se){ae.error(se)}}:super._next,this._error=_e?function(ne){try{_e(ne)}catch(se){ae.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ne){ae.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},6590:(vt,Pe,V)=>{V.d(Pe,{d:()=>U});var h=V(4482),Z=V(5403);function U(le){return(0,h.e)((ae,ue)=>{let me=!1;ae.subscribe((0,Z.x)(ue,_e=>{me=!0,ue.next(_e)},()=>{me||ue.next(le),ue.complete()}))})}},9300:(vt,Pe,V)=>{V.d(Pe,{h:()=>U});var h=V(4482),Z=V(5403);function U(le,ae){return(0,h.e)((ue,me)=>{let _e=0;ue.subscribe((0,Z.x)(me,ve=>le.call(ae,ve,_e++)&&me.next(ve)))})}},590:(vt,Pe,V)=>{V.d(Pe,{P:()=>me});var h=V(6805),Z=V(9300),U=V(5698),le=V(6590),ae=V(8068),ue=V(4671);function me(_e,ve){const te=arguments.length>=2;return ne=>ne.pipe(_e?(0,Z.h)((se,et)=>_e(se,et,ne)):ue.y,(0,U.q)(1),te?(0,le.d)(ve):(0,ae.T)(()=>new h.K))}},4004:(vt,Pe,V)=>{V.d(Pe,{U:()=>U});var h=V(4482),Z=V(5403);function U(le,ae){return(0,h.e)((ue,me)=>{let _e=0;ue.subscribe((0,Z.x)(me,ve=>{me.next(le.call(ae,ve,_e++))}))})}},8189:(vt,Pe,V)=>{V.d(Pe,{J:()=>U});var h=V(5577),Z=V(4671);function U(le=1/0){return(0,h.z)(Z.y,le)}},5577:(vt,Pe,V)=>{V.d(Pe,{z:()=>_e});var h=V(4004),Z=V(8421),U=V(4482),le=V(9672),ae=V(5403),me=V(576);function _e(ve,te,ne=1/0){return(0,me.m)(te)?_e((se,et)=>(0,h.U)((Ge,tt)=>te(se,Ge,et,tt))((0,Z.Xf)(ve(se,et))),ne):("number"==typeof te&&(ne=te),(0,U.e)((se,et)=>function ue(ve,te,ne,se,et,Ge,tt,Et){const Ae=[];let qe=0,Oe=0,Je=!1;const ze=()=>{Je&&!Ae.length&&!qe&&te.complete()},Le=rt=>qe<se?Be(rt):Ae.push(rt),Be=rt=>{Ge&&te.next(rt),qe++;let We=!1;(0,Z.Xf)(ne(rt,Oe++)).subscribe((0,ae.x)(te,st=>{et?.(st),Ge?Le(st):te.next(st)},()=>{We=!0},void 0,()=>{if(We)try{for(qe--;Ae.length&&qe<se;){const st=Ae.shift();tt?(0,le.f)(te,tt,()=>Be(st)):Be(st)}ze()}catch(st){te.error(st)}}))};return ve.subscribe((0,ae.x)(te,Le,()=>{Je=!0,ze()})),()=>{Et?.()}}(se,et,ve,ne)))}},5363:(vt,Pe,V)=>{V.d(Pe,{Q:()=>le});var h=V(9672),Z=V(4482),U=V(5403);function le(ae,ue=0){return(0,Z.e)((me,_e)=>{me.subscribe((0,U.x)(_e,ve=>(0,h.f)(_e,ae,()=>_e.next(ve),ue),()=>(0,h.f)(_e,ae,()=>_e.complete(),ue),ve=>(0,h.f)(_e,ae,()=>_e.error(ve),ue)))})}},5026:(vt,Pe,V)=>{V.d(Pe,{R:()=>le});var h=V(4482),Z=V(5403);function le(ae,ue){return(0,h.e)(function U(ae,ue,me,_e,ve){return(te,ne)=>{let se=me,et=ue,Ge=0;te.subscribe((0,Z.x)(ne,tt=>{const Et=Ge++;et=se?ae(et,tt,Et):(se=!0,tt),_e&&ne.next(et)},ve&&(()=>{se&&ne.next(et),ne.complete()})))}}(ae,ue,arguments.length>=2,!0))}},3099:(vt,Pe,V)=>{V.d(Pe,{B:()=>ae});var h=V(8421),Z=V(7579),U=V(930),le=V(4482);function ae(me={}){const{connector:_e=(()=>new Z.x),resetOnError:ve=!0,resetOnComplete:te=!0,resetOnRefCountZero:ne=!0}=me;return se=>{let et,Ge,tt,Et=0,Ae=!1,qe=!1;const Oe=()=>{Ge?.unsubscribe(),Ge=void 0},Je=()=>{Oe(),et=tt=void 0,Ae=qe=!1},ze=()=>{const Le=et;Je(),Le?.unsubscribe()};return(0,le.e)((Le,Be)=>{Et++,!qe&&!Ae&&Oe();const rt=tt=tt??_e();Be.add(()=>{Et--,0===Et&&!qe&&!Ae&&(Ge=ue(ze,ne))}),rt.subscribe(Be),!et&&Et>0&&(et=new U.Hp({next:We=>rt.next(We),error:We=>{qe=!0,Oe(),Ge=ue(Je,ve,We),rt.error(We)},complete:()=>{Ae=!0,Oe(),Ge=ue(Je,te),rt.complete()}}),(0,h.Xf)(Le).subscribe(et))})(se)}}function ue(me,_e,...ve){if(!0===_e)return void me();if(!1===_e)return;const te=new U.Hp({next:()=>{te.unsubscribe(),me()}});return _e(...ve).subscribe(te)}},9468:(vt,Pe,V)=>{V.d(Pe,{R:()=>Z});var h=V(4482);function Z(U,le=0){return(0,h.e)((ae,ue)=>{ue.add(U.schedule(()=>ae.subscribe(ue),le))})}},3900:(vt,Pe,V)=>{V.d(Pe,{w:()=>le});var h=V(8421),Z=V(4482),U=V(5403);function le(ae,ue){return(0,Z.e)((me,_e)=>{let ve=null,te=0,ne=!1;const se=()=>ne&&!ve&&_e.complete();me.subscribe((0,U.x)(_e,et=>{ve?.unsubscribe();let Ge=0;const tt=te++;(0,h.Xf)(ae(et,tt)).subscribe(ve=(0,U.x)(_e,Et=>_e.next(ue?ue(et,Et,tt,Ge++):Et),()=>{ve=null,se()}))},()=>{ne=!0,se()}))})}},5698:(vt,Pe,V)=>{V.d(Pe,{q:()=>le});var h=V(515),Z=V(4482),U=V(5403);function le(ae){return ae<=0?()=>h.E:(0,Z.e)((ue,me)=>{let _e=0;ue.subscribe((0,U.x)(me,ve=>{++_e<=ae&&(me.next(ve),ae<=_e&&me.complete())}))})}},8505:(vt,Pe,V)=>{V.d(Pe,{b:()=>ae});var h=V(576),Z=V(4482),U=V(5403),le=V(4671);function ae(ue,me,_e){const ve=(0,h.m)(ue)||me||_e?{next:ue,error:me,complete:_e}:ue;return ve?(0,Z.e)((te,ne)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let et=!0;te.subscribe((0,U.x)(ne,Ge=>{var tt;null===(tt=ve.next)||void 0===tt||tt.call(ve,Ge),ne.next(Ge)},()=>{var Ge;et=!1,null===(Ge=ve.complete)||void 0===Ge||Ge.call(ve),ne.complete()},Ge=>{var tt;et=!1,null===(tt=ve.error)||void 0===tt||tt.call(ve,Ge),ne.error(Ge)},()=>{var Ge,tt;et&&(null===(Ge=ve.unsubscribe)||void 0===Ge||Ge.call(ve)),null===(tt=ve.finalize)||void 0===tt||tt.call(ve)}))}):le.y}},8068:(vt,Pe,V)=>{V.d(Pe,{T:()=>le});var h=V(6805),Z=V(4482),U=V(5403);function le(ue=ae){return(0,Z.e)((me,_e)=>{let ve=!1;me.subscribe((0,U.x)(_e,te=>{ve=!0,_e.next(te)},()=>ve?_e.complete():_e.error(ue())))})}function ae(){return new h.K}},4408:(vt,Pe,V)=>{V.d(Pe,{o:()=>ae});var h=V(727);class Z extends h.w0{constructor(me,_e){super()}schedule(me,_e=0){return this}}const U={setInterval(ue,me,..._e){const{delegate:ve}=U;return ve?.setInterval?ve.setInterval(ue,me,..._e):setInterval(ue,me,..._e)},clearInterval(ue){const{delegate:me}=U;return(me?.clearInterval||clearInterval)(ue)},delegate:void 0};var le=V(8737);class ae extends Z{constructor(me,_e){super(me,_e),this.scheduler=me,this.work=_e,this.pending=!1}schedule(me,_e=0){var ve;if(this.closed)return this;this.state=me;const te=this.id,ne=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ne,te,_e)),this.pending=!0,this.delay=_e,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(ne,this.id,_e),this}requestAsyncId(me,_e,ve=0){return U.setInterval(me.flush.bind(me,this),ve)}recycleAsyncId(me,_e,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return _e;null!=_e&&U.clearInterval(_e)}execute(me,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(me,_e);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,_e){let te,ve=!1;try{this.work(me)}catch(ne){ve=!0,te=ne||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:me,scheduler:_e}=this,{actions:ve}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ve,this),null!=me&&(this.id=this.recycleAsyncId(_e,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Pe,V)=>{V.d(Pe,{v:()=>U});var h=V(6063);class Z{constructor(ae,ue=Z.now){this.schedulerActionCtor=ae,this.now=ue}schedule(ae,ue=0,me){return new this.schedulerActionCtor(this,ae).schedule(me,ue)}}Z.now=h.l.now;class U extends Z{constructor(ae,ue=Z.now){super(ae,ue),this.actions=[],this._active=!1}flush(ae){const{actions:ue}=this;if(this._active)return void ue.push(ae);let me;this._active=!0;do{if(me=ae.execute(ae.state,ae.delay))break}while(ae=ue.shift());if(this._active=!1,me){for(;ae=ue.shift();)ae.unsubscribe();throw me}}}},4986:(vt,Pe,V)=>{V.d(Pe,{P:()=>le,z:()=>U});var h=V(4408);const U=new(V(7565).v)(h.o),le=U},6063:(vt,Pe,V)=>{V.d(Pe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(vt,Pe,V)=>{V.d(Pe,{z:()=>h});const h={setTimeout(Z,U,...le){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(Z,U,...le):setTimeout(Z,U,...le)},clearTimeout(Z){const{delegate:U}=h;return(U?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(vt,Pe,V)=>{V.d(Pe,{h:()=>Z});const Z=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Pe,V)=>{V.d(Pe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vt,Pe,V)=>{V.d(Pe,{K:()=>Z});const Z=(0,V(3888).d)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(vt,Pe,V)=>{V.d(Pe,{_6:()=>ue,jO:()=>le,yG:()=>ae});var h=V(576),Z=V(3532);function U(me){return me[me.length-1]}function le(me){return(0,h.m)(U(me))?me.pop():void 0}function ae(me){return(0,Z.K)(U(me))?me.pop():void 0}function ue(me,_e){return"number"==typeof U(me)?me.pop():_e}},4742:(vt,Pe,V)=>{V.d(Pe,{D:()=>ae});const{isArray:h}=Array,{getPrototypeOf:Z,prototype:U,keys:le}=Object;function ae(me){if(1===me.length){const _e=me[0];if(h(_e))return{args:_e,keys:null};if(function ue(me){return me&&"object"==typeof me&&Z(me)===U}(_e)){const ve=le(_e);return{args:ve.map(te=>_e[te]),keys:ve}}}return{args:me,keys:null}}},8737:(vt,Pe,V)=>{function h(Z,U){if(Z){const le=Z.indexOf(U);0<=le&&Z.splice(le,1)}}V.d(Pe,{P:()=>h})},3888:(vt,Pe,V)=>{function h(Z){const le=Z(ae=>{Error.call(ae),ae.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}V.d(Pe,{d:()=>h})},1810:(vt,Pe,V)=>{function h(Z,U){return Z.reduce((le,ae,ue)=>(le[ae]=U[ue],le),{})}V.d(Pe,{n:()=>h})},2806:(vt,Pe,V)=>{V.d(Pe,{O:()=>le,x:()=>U});var h=V(2416);let Z=null;function U(ae){if(h.v.useDeprecatedSynchronousErrorHandling){const ue=!Z;if(ue&&(Z={errorThrown:!1,error:null}),ae(),ue){const{errorThrown:me,error:_e}=Z;if(Z=null,me)throw _e}}else ae()}function le(ae){h.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ae)}},9672:(vt,Pe,V)=>{function h(Z,U,le,ae=0,ue=!1){const me=U.schedule(function(){le(),ue?Z.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(Z.add(me),!ue)return me}V.d(Pe,{f:()=>h})},4671:(vt,Pe,V)=>{function h(Z){return Z}V.d(Pe,{y:()=>h})},1144:(vt,Pe,V)=>{V.d(Pe,{z:()=>h});const h=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(vt,Pe,V)=>{V.d(Pe,{D:()=>Z});var h=V(576);function Z(U){return Symbol.asyncIterator&&(0,h.m)(U?.[Symbol.asyncIterator])}},576:(vt,Pe,V)=>{function h(Z){return"function"==typeof Z}V.d(Pe,{m:()=>h})},3670:(vt,Pe,V)=>{V.d(Pe,{c:()=>U});var h=V(8822),Z=V(576);function U(le){return(0,Z.m)(le[h.L])}},6495:(vt,Pe,V)=>{V.d(Pe,{T:()=>U});var h=V(2202),Z=V(576);function U(le){return(0,Z.m)(le?.[h.h])}},8239:(vt,Pe,V)=>{V.d(Pe,{t:()=>Z});var h=V(576);function Z(U){return(0,h.m)(U?.then)}},3260:(vt,Pe,V)=>{V.d(Pe,{L:()=>le,Q:()=>U});var h=V(7582),Z=V(576);function U(ae){return(0,h.FC)(this,arguments,function*(){const me=ae.getReader();try{for(;;){const{value:_e,done:ve}=yield(0,h.qq)(me.read());if(ve)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(_e)}}finally{me.releaseLock()}})}function le(ae){return(0,Z.m)(ae?.getReader)}},3532:(vt,Pe,V)=>{V.d(Pe,{K:()=>Z});var h=V(576);function Z(U){return U&&(0,h.m)(U.schedule)}},4482:(vt,Pe,V)=>{V.d(Pe,{A:()=>Z,e:()=>U});var h=V(576);function Z(le){return(0,h.m)(le?.lift)}function U(le){return ae=>{if(Z(ae))return ae.lift(function(ue){try{return le(ue,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vt,Pe,V)=>{V.d(Pe,{Z:()=>le});var h=V(4004);const{isArray:Z}=Array;function le(ae){return(0,h.U)(ue=>function U(ae,ue){return Z(ue)?ae(...ue):ae(ue)}(ae,ue))}},5032:(vt,Pe,V)=>{function h(){}V.d(Pe,{Z:()=>h})},9635:(vt,Pe,V)=>{V.d(Pe,{U:()=>U,z:()=>Z});var h=V(4671);function Z(...le){return U(le)}function U(le){return 0===le.length?h.y:1===le.length?le[0]:function(ue){return le.reduce((me,_e)=>_e(me),ue)}}},7849:(vt,Pe,V)=>{V.d(Pe,{h:()=>U});var h=V(2416),Z=V(3410);function U(le){Z.z.setTimeout(()=>{const{onUnhandledError:ae}=h.v;if(!ae)throw le;ae(le)})}},4532:(vt,Pe,V)=>{function h(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Pe,{z:()=>h})},6895:(vt,Pe,V)=>{V.d(Pe,{Do:()=>Oe,EM:()=>wr,HT:()=>le,JF:()=>Ri,K0:()=>ue,Mx:()=>gr,O5:()=>Hi,Ov:()=>Wt,PM:()=>Pr,S$:()=>Et,V_:()=>ve,Ye:()=>Je,b0:()=>qe,bD:()=>ns,ez:()=>pi,gd:()=>oi,mk:()=>Gt,q:()=>U,sg:()=>uo,w_:()=>ae});var h=V(4650);let Z=null;function U(){return Z}function le(w){Z||(Z=w)}class ae{}const ue=new h.OlP("DocumentToken");let me=(()=>{class w{historyGo(S){throw new Error("Not implemented")}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275prov=h.Yz7({token:w,factory:function(){return function _e(){return(0,h.LFG)(te)}()},providedIn:"platform"}),w})();const ve=new h.OlP("Location Initialized");let te=(()=>{class w extends me{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(S){const j=U().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",S,!1),()=>j.removeEventListener("popstate",S)}onHashChange(S){const j=U().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",S,!1),()=>j.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,j,X){ne()?this._history.pushState(S,j,X):this._location.hash=X}replaceState(S,j,X){ne()?this._history.replaceState(S,j,X):this._location.hash=X}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(ue))},w.\u0275prov=h.Yz7({token:w,factory:function(){return function se(){return new te((0,h.LFG)(ue))}()},providedIn:"platform"}),w})();function ne(){return!!window.history.pushState}function et(w,F){if(0==w.length)return F;if(0==F.length)return w;let S=0;return w.endsWith("/")&&S++,F.startsWith("/")&&S++,2==S?w+F.substring(1):1==S?w+F:w+"/"+F}function Ge(w){const F=w.match(/#|\?|$/),S=F&&F.index||w.length;return w.slice(0,S-("/"===w[S-1]?1:0))+w.slice(S)}function tt(w){return w&&"?"!==w[0]?"?"+w:w}let Et=(()=>{class w{historyGo(S){throw new Error("Not implemented")}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275prov=h.Yz7({token:w,factory:function(){return(0,h.f3M)(qe)},providedIn:"root"}),w})();const Ae=new h.OlP("appBaseHref");let qe=(()=>{class w extends Et{constructor(S,j){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=j??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return et(this._baseHref,S)}path(S=!1){const j=this._platformLocation.pathname+tt(this._platformLocation.search),X=this._platformLocation.hash;return X&&S?`${j}${X}`:j}pushState(S,j,X,Ne){const Ke=this.prepareExternalUrl(X+tt(Ne));this._platformLocation.pushState(S,j,Ke)}replaceState(S,j,X,Ne){const Ke=this.prepareExternalUrl(X+tt(Ne));this._platformLocation.replaceState(S,j,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(me),h.LFG(Ae,8))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Oe=(()=>{class w extends Et{constructor(S,j){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(S){const j=et(this._baseHref,S);return j.length>0?"#"+j:j}pushState(S,j,X,Ne){let Ke=this.prepareExternalUrl(X+tt(Ne));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.pushState(S,j,Ke)}replaceState(S,j,X,Ne){let Ke=this.prepareExternalUrl(X+tt(Ne));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.replaceState(S,j,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(me),h.LFG(Ae,8))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac}),w})(),Je=(()=>{class w{constructor(S){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const j=this._locationStrategy.getBaseHref();this._basePath=function rt(w){if(new RegExp("^(https?:)?//").test(w)){const[,S]=w.split(/\/\/[^\/]+/);return S}return w}(Ge(Be(j))),this._locationStrategy.onPopState(X=>{this._subject.emit({url:this.path(!0),pop:!0,state:X.state,type:X.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,j=""){return this.path()==this.normalize(S+tt(j))}normalize(S){return w.stripTrailingSlash(function Le(w,F){if(!w||!F.startsWith(w))return F;const S=F.substring(w.length);return""===S||["/",";","?","#"].includes(S[0])?S:F}(this._basePath,Be(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,j="",X=null){this._locationStrategy.pushState(X,"",S,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+tt(j)),X)}replaceState(S,j="",X=null){this._locationStrategy.replaceState(X,"",S,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+tt(j)),X)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)})),()=>{const j=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(j,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",j){this._urlChangeListeners.forEach(X=>X(S,j))}subscribe(S,j,X){return this._subject.subscribe({next:S,error:j,complete:X})}}return w.normalizeQueryParams=tt,w.joinWithSlash=et,w.stripTrailingSlash=Ge,w.\u0275fac=function(S){return new(S||w)(h.LFG(Et))},w.\u0275prov=h.Yz7({token:w,factory:function(){return function ze(){return new Je((0,h.LFG)(Et))}()},providedIn:"root"}),w})();function Be(w){return w.replace(/\/index.html$/,"")}function gr(w,F){F=encodeURIComponent(F);for(const S of w.split(";")){const j=S.indexOf("="),[X,Ne]=-1==j?[S,""]:[S.slice(0,j),S.slice(j+1)];if(X.trim()===F)return decodeURIComponent(Ne)}return null}const ri=/\s+/,ut=[];let Gt=(()=>{class w{constructor(S,j,X,Ne){this._iterableDiffers=S,this._keyValueDiffers=j,this._ngEl=X,this._renderer=Ne,this.initialClasses=ut,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(ri):ut}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(ri):S}ngDoCheck(){for(const j of this.initialClasses)this._updateState(j,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const j of S)this._updateState(j,!0);else if(null!=S)for(const j of Object.keys(S))this._updateState(j,Boolean(S[j]));this._applyStateDiff()}_updateState(S,j){const X=this.stateMap.get(S);void 0!==X?(X.enabled!==j&&(X.changed=!0,X.enabled=j),X.touched=!0):this.stateMap.set(S,{enabled:j,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const j=S[0],X=S[1];X.changed?(this._toggleClass(j,X.enabled),X.changed=!1):X.touched||(X.enabled&&this._toggleClass(j,!1),this.stateMap.delete(j)),X.touched=!1}}_toggleClass(S,j){(S=S.trim()).length>0&&S.split(ri).forEach(X=>{j?this._renderer.addClass(this._ngEl.nativeElement,X):this._renderer.removeClass(this._ngEl.nativeElement,X)})}}return w.\u0275fac=function(S){return new(S||w)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},w.\u0275dir=h.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),w})();class or{constructor(F,S,j,X){this.$implicit=F,this.ngForOf=S,this.index=j,this.count=X}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class w{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,j,X){this._viewContainer=S,this._template=j,this._differs=X,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const j=this._viewContainer;S.forEachOperation((X,Ne,Ke)=>{if(null==X.previousIndex)j.createEmbeddedView(this._template,new or(X.item,this._ngForOf,-1,-1),null===Ke?void 0:Ke);else if(null==Ke)j.remove(null===Ne?void 0:Ne);else if(null!==Ne){const Tt=j.get(Ne);j.move(Tt,Ke),Gn(Tt,X)}});for(let X=0,Ne=j.length;X<Ne;X++){const Tt=j.get(X).context;Tt.index=X,Tt.count=Ne,Tt.ngForOf=this._ngForOf}S.forEachIdentityChange(X=>{Gn(j.get(X.currentIndex),X)})}static ngTemplateContextGuard(S,j){return!0}}return w.\u0275fac=function(S){return new(S||w)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},w.\u0275dir=h.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),w})();function Gn(w,F){w.context.$implicit=F.item}let Hi=(()=>{class w{constructor(S,j){this._viewContainer=S,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ji("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ji("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,j){return!0}}return w.\u0275fac=function(S){return new(S||w)(h.Y36(h.s_b),h.Y36(h.Rgc))},w.\u0275dir=h.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),w})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function ji(w,F){if(F&&!F.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,h.AaK)(F)}'.`)}function Ur(w,F){return new h.vHH(2100,!1)}class To{createSubscription(F,S){return F.subscribe({next:S,error:j=>{throw j}})}dispose(F){F.unsubscribe()}}class Uo{createSubscription(F,S){return F.then(S,j=>{throw j})}dispose(F){}}const dn=new Uo,nn=new To;let Wt=(()=>{class w{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,j=>this._updateLatestValue(S,j))}_selectStrategy(S){if((0,h.QGY)(S))return dn;if((0,h.F4k)(S))return nn;throw Ur()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,j){S===this._obj&&(this._latestValue=j,this._ref.markForCheck())}}return w.\u0275fac=function(S){return new(S||w)(h.Y36(h.sBO,16))},w.\u0275pipe=h.Yjl({name:"async",type:w,pure:!1,standalone:!0}),w})(),oi=(()=>{class w{transform(S){if(null==S)return null;if("string"!=typeof S)throw Ur();return S.toUpperCase()}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275pipe=h.Yjl({name:"uppercase",type:w,pure:!0,standalone:!0}),w})(),pi=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=h.oAB({type:w}),w.\u0275inj=h.cJS({}),w})();const ns="browser",rs="server";function Pr(w){return w===rs}let wr=(()=>{class w{}return w.\u0275prov=(0,h.Yz7)({token:w,providedIn:"root",factory:()=>new os((0,h.LFG)(ue),window)}),w})();class os{constructor(F,S){this.document=F,this.window=S,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const S=function jr(w,F){const S=w.getElementById(F)||w.getElementsByName(F)[0];if(S)return S;if("function"==typeof w.createTreeWalker&&w.body&&(w.body.createShadowRoot||w.body.attachShadow)){const j=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let X=j.currentNode;for(;X;){const Ne=X.shadowRoot;if(Ne){const Ke=Ne.getElementById(F)||Ne.querySelector(`[name="${F}"]`);if(Ke)return Ke}X=j.nextNode()}}return null}(this.document,F);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=F)}}scrollToElement(F){const S=F.getBoundingClientRect(),j=S.left+this.window.pageXOffset,X=S.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(j-Ne[0],X-Ne[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=yr(this.window.history)||yr(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yr(w){return Object.getOwnPropertyDescriptor(w,"scrollRestoration")}class Ri{}},4650:(vt,Pe,V)=>{V.d(Pe,{$8M:()=>hs,$WT:()=>hr,$Z:()=>mp,AFp:()=>My,ALo:()=>q_,AaK:()=>_e,CHM:()=>R,CRH:()=>sy,CZH:()=>Of,CqO:()=>um,D6c:()=>dI,DdM:()=>$_,EJc:()=>S0,EpF:()=>am,F$t:()=>gm,F4k:()=>lm,FYo:()=>lo,FiY:()=>an,GfV:()=>cc,Gpc:()=>ne,Hsn:()=>mm,JOm:()=>Yo,KtG:()=>G,LFG:()=>yt,LSH:()=>ou,Lbi:()=>w0,Lck:()=>CC,MAs:()=>om,MMx:()=>eg,NdJ:()=>Lp,OlP:()=>er,Oqu:()=>Gp,P3R:()=>Pu,PXZ:()=>j0,Q6J:()=>Pp,QGY:()=>Fp,Qsj:()=>$c,R0b:()=>Wa,RDi:()=>xc,Rgc:()=>wh,SBq:()=>uc,Sil:()=>M0,Suo:()=>oy,TTD:()=>Li,TgZ:()=>vf,Udp:()=>jp,VKq:()=>W_,W1O:()=>cy,X6Q:()=>K0,XFs:()=>Dt,Xpm:()=>wn,Xts:()=>Rd,Y36:()=>_c,YKP:()=>x_,YNc:()=>im,Yjl:()=>Zt,Yz7:()=>wt,Z0I:()=>In,ZZ4:()=>Tg,_Bn:()=>N_,_UZ:()=>Np,_Vd:()=>xu,_c5:()=>uI,_uU:()=>Um,aQg:()=>Sg,c2e:()=>b0,cJS:()=>at,cg1:()=>zp,dDg:()=>V0,dqk:()=>un,eFA:()=>jy,eJc:()=>cg,ekj:()=>$p,eoX:()=>Vy,f3M:()=>Jn,g9A:()=>Py,h0i:()=>md,hGG:()=>cI,hij:()=>Df,iGM:()=>iy,ifc:()=>je,ip1:()=>Ay,jDz:()=>F_,kL8:()=>o_,lG2:()=>Vt,lcZ:()=>Q_,lqb:()=>Nu,lri:()=>Fy,n5z:()=>_a,oAB:()=>Ce,oxw:()=>pm,q4F:()=>dc,qLn:()=>fc,qOj:()=>Sp,qZA:()=>Ef,rWj:()=>Ly,sBO:()=>Z0,s_b:()=>Mf,soG:()=>Nf,tb:()=>By,tp0:()=>so,uIk:()=>Rp,vHH:()=>Ae,vpe:()=>Ul,wAp:()=>rn,xi3:()=>J_,xp6:()=>zh,z2F:()=>xf,zSh:()=>kh,zs3:()=>Ba});var h=V(7579),Z=V(727),U=V(9751),le=V(6451),ae=V(3099);function ue(e){for(let t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}function me(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function _e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ve(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const te=ue({__forward_ref__:ue});function ne(e){return e.__forward_ref__=ne,e.toString=function(){return _e(this())},e}function se(e){return et(e)?e():e}function et(e){return"function"==typeof e&&e.hasOwnProperty(te)&&e.__forward_ref__===ne}function Ge(e){return e&&!!e.\u0275providers}const Et="https://g.co/ng/security#xss";class Ae extends Error{constructor(t,n){super(qe(t,n)),this.code=t}}function qe(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function rt(e,t){throw new Ae(-201,!1)}function Me(e,t){null==e&&function we(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function wt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function at(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qt(e){return qn(e,_t)||qn(e,jn)}function In(e){return null!==Qt(e)}function qn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ln(e){return e&&(e.hasOwnProperty(Fn)||e.hasOwnProperty(gn))?e[Fn]:null}const _t=ue({\u0275prov:ue}),Fn=ue({\u0275inj:ue}),jn=ue({ngInjectableDef:ue}),gn=ue({ngInjectorDef:ue});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let Dn;function nr(e){const t=Dn;return Dn=e,t}function Ir(e,t,n){const o=Qt(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Dt.Optional?null:void 0!==t?t:void rt(_e(e))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ei={},fr="__NG_DI_FLAG__",Qn="ngTempTokenPath",pr="ngTokenPath",Nn=/\n/gm,ti="\u0275",mn="__source";let bi;function on(e){const t=bi;return bi=e,t}function rr(e,t=Dt.Default){if(void 0===bi)throw new Ae(-203,!1);return null===bi?Ir(e,void 0,t):bi.get(e,t&Dt.Optional?null:void 0,t)}function yt(e,t=Dt.Default){return(function $n(){return Dn}()||rr)(se(e),t)}function Jn(e,t=Dt.Default){return yt(e,xn(t))}function xn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function di(e){const t=[];for(let n=0;n<e.length;n++){const o=se(e[n]);if(Array.isArray(o)){if(0===o.length)throw new Ae(900,!1);let a,d=Dt.Default;for(let m=0;m<o.length;m++){const C=o[m],A=cr(C);"number"==typeof A?-1===A?a=C.token:d|=A:a=C}t.push(yt(a,d))}else t.push(yt(o))}return t}function yn(e,t){return e[fr]=t,e.prototype[fr]=t,e}function cr(e){return e[fr]}function J(e){return{toString:e}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),je=(()=>{return(e=je||(je={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",je;var e})();const Ee={},nt=[],he=ue({\u0275cmp:ue}),ie=ue({\u0275dir:ue}),q=ue({\u0275pipe:ue}),ye=ue({\u0275mod:ue}),Ue=ue({\u0275fac:ue}),Xe=ue({__NG_ELEMENT_ID__:ue});let Ft=0;function wn(e){return J(()=>{const t=Ji(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||je.Emulated,id:"c"+Ft++,styles:e.styles||nt,_:null,schemas:e.schemas||null,tView:null};bo(n);const o=e.dependencies;return n.directiveDefs=gr(o,!1),n.pipeDefs=gr(o,!0),n})}function ni(e){return Mt(e)||pn(e)}function xe(e){return null!==e}function Ce(e){return J(()=>({type:e.type,bootstrap:e.bootstrap||nt,declarations:e.declarations||nt,imports:e.imports||nt,exports:e.exports||nt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function bt(e,t){if(null==e)return Ee;const n={};for(const o in e)if(e.hasOwnProperty(o)){let a=e[o],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),n[a]=o,t&&(t[a]=d)}return n}function Vt(e){return J(()=>{const t=Ji(e);return bo(t),t})}function Zt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mt(e){return e[he]||null}function pn(e){return e[ie]||null}function cn(e){return e[q]||null}function hr(e){const t=Mt(e)||pn(e)||cn(e);return null!==t&&t.standalone}function ir(e,t){const n=e[ye]||null;if(!n&&!0===t)throw new Error(`Type ${_e(e)} does not have '\u0275mod' property.`);return n}function Ji(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(e.inputs,t),outputs:bt(e.outputs)}}function bo(e){e.features?.forEach(t=>t(e))}function gr(e,t){if(!e)return null;const n=t?cn:ni;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(xe)}const ri=0,ut=1,Gt=2,En=3,Ar=4,Cn=5,or=6,uo=7,Gn=8,ki=9,Hi=10,qt=11,ji=12,Ti=13,Si=14,hi=15,vn=16,Xi=17,Mr=18,ii=19,$i=20,mr=21,Vn=22,To=1,Uo=2,dn=7,nn=8,Wt=9,Kn=10;function Rr(e){return Array.isArray(e)&&"object"==typeof e[To]}function oi(e){return Array.isArray(e)&&!0===e[To]}function Wi(e){return 0!=(4&e.flags)}function eo(e){return e.componentOffset>-1}function Un(e){return 1==(1&e.flags)}function Ht(e){return!!e.template}function _r(e){return 0!=(256&e[Gt])}function Mi(e,t){return e.hasOwnProperty(Ue)?e[Ue]:null}class Hr{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function Li(){return wr}function wr(e){return e.type.prototype.ngOnChanges&&(e.setInput=yr),os}function os(){const e=Is(this),t=e?.current;if(t){const n=e.previous;if(n===Ee)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function yr(e,t,n,o){const a=this.declaredInputs[n],d=Is(e)||function Ri(e,t){return e[jr]=t}(e,{previous:Ee,current:null}),m=d.current||(d.current={}),C=d.previous,A=C[a];m[a]=new Hr(A&&A.currentValue,t,C===Ee),e[o]=t}Li.ngInherit=!0;const jr="__ngSimpleChanges__";function Is(e){return e[jr]||null}const $r=function(e,t,n){};function sr(e){for(;Array.isArray(e);)e=e[ri];return e}function Gi(e,t){return sr(t[e])}function Nr(e,t){return sr(t[e.index])}function Mn(e,t){return e.data[t]}function xr(e,t){return e[t]}function vr(e,t){const n=t[e];return Rr(n)?n:n[ri]}function Ci(e){return 64==(64&e[Gt])}function kr(e,t){return null==t?null:e[t]}function Wr(e){e[Mr]=0}function zt(e,t){e[Cn]+=t;let n=e,o=e[En];for(;null!==o&&(1===t&&1===n[Cn]||-1===t&&0===n[Cn]);)o[Cn]+=t,n=o,o=o[En]}const Yt={lFrame:ws(null),bindingsEnabled:!0};function Ki(){return Yt.bindingsEnabled}function b(){return Yt.lFrame.lView}function M(){return Yt.lFrame.tView}function R(e){return Yt.lFrame.contextLView=e,e[Gn]}function G(e){return Yt.lFrame.contextLView=null,e}function be(){let e=At();for(;null!==e&&64===e.type;)e=e.parent;return e}function At(){return Yt.lFrame.currentTNode}function Bn(e,t){const n=Yt.lFrame;n.currentTNode=e,n.isParent=t}function po(){return Yt.lFrame.isParent}function Zi(){Yt.lFrame.isParent=!1}function br(){const e=Yt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Mo(){return Yt.lFrame.bindingIndex++}function mo(e,t){const n=Yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,ar(t)}function ar(e){Yt.lFrame.currentDirectiveIndex=e}function Ds(){return Yt.lFrame.currentQueryIndex}function ls(e){Yt.lFrame.currentQueryIndex=e}function Qs(e){const t=e[ut];return 2===t.type?t.declTNode:1===t.type?e[or]:null}function Ho(e,t,n){if(n&Dt.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||n&Dt.Host||(a=Qs(d),null===a||(d=d[hi],10&a.type))););if(null===a)return!1;t=a,e=d}const o=Yt.lFrame=ui();return o.currentTNode=t,o.lView=e,!0}function Js(e){const t=ui(),n=e[ut];Yt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ui(){const e=Yt.lFrame,t=null===e?null:e.child;return null===t?ws(e):t}function ws(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function jo(){const e=Yt.lFrame;return Yt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $o=jo;function Po(){const e=jo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tr(){return Yt.lFrame.selectedIndex}function Gr(e){Yt.lFrame.selectedIndex=e}function zn(){const e=Yt.lFrame;return Mn(e.tView,e.selectedIndex)}function cs(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:k,ngOnDestroy:W}=d;m&&(e.contentHooks??(e.contentHooks=[])).push(-n,m),C&&((e.contentHooks??(e.contentHooks=[])).push(n,C),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,C)),A&&(e.viewHooks??(e.viewHooks=[])).push(-n,A),k&&((e.viewHooks??(e.viewHooks=[])).push(n,k),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,k)),null!=W&&(e.destroyHooks??(e.destroyHooks=[])).push(n,W)}}function ds(e,t,n){F(e,t,3,n)}function _o(e,t,n,o){(3&e[Gt])===n&&F(e,t,n,o)}function w(e,t){let n=e[Gt];(3&n)===t&&(n&=2047,n+=1,e[Gt]=n)}function F(e,t,n,o){const d=o??-1,m=t.length-1;let C=0;for(let A=void 0!==o?65535&e[Mr]:0;A<m;A++)if("number"==typeof t[A+1]){if(C=t[A],null!=o&&C>=o)break}else t[A]<0&&(e[Mr]+=65536),(C<d||-1==d)&&(S(e,n,t,A),e[Mr]=(4294901760&e[Mr])+A+2),A++}function S(e,t,n,o){const a=n[o]<0,d=n[o+1],C=e[a?-n[o]:n[o]];if(a){if(e[Gt]>>11<e[Mr]>>16&&(3&e[Gt])===t){e[Gt]+=2048,$r(4,C,d);try{d.call(C)}finally{$r(5,C,d)}}}else{$r(4,C,d);try{d.call(C)}finally{$r(5,C,d)}}}const j=-1;class X{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function Pn(e,t,n){let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const d=n[o++],m=n[o++],C=n[o++];e.setAttribute(t,m,C,d)}else{const d=a,m=n[++o];io(d)?e.setProperty(t,d,m):e.setAttribute(t,d,m),o++}}return o}function lr(e){return 3===e||4===e||6===e}function io(e){return 64===e.charCodeAt(0)}function Oi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||Go(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function Go(e,t,n,o,a){let d=0,m=e.length;if(-1===t)m=-1;else for(;d<e.length;){const C=e[d++];if("number"==typeof C){if(C===t){m=-1;break}if(C>t){m=d-1;break}}}for(;d<e.length;){const C=e[d];if("number"==typeof C)break;if(C===n){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==m&&(e.splice(m,0,t),d=m+1),e.splice(d++,0,n),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}function zr(e){return e!==j}function _i(e){return 32767&e}function Kr(e,t){let n=function yo(e){return e>>16}(e),o=t;for(;n>0;)o=o[hi],n--;return o}let As=!0;function ha(e){const t=As;return As=e,t}const Ms=255,Ma=5;let Rs=0;const Oo={};function ea(e,t){const n=ta(e,t);if(-1!==n)return n;const o=t[ut];o.firstCreatePass&&(e.injectorIndex=t.length,Os(o.data,e),Os(t,null),Os(o.blueprint,null));const a=fa(e,t),d=e.injectorIndex;if(zr(a)){const m=_i(a),C=Kr(a,t),A=C[ut].data;for(let k=0;k<8;k++)t[d+k]=C[m+k]|A[m+k]}return t[d+8]=a,d}function Os(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ta(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function fa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){if(o=Fs(a),null===o)return j;if(n++,a=a[hi],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return j}function Yn(e,t,n){!function Ps(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Xe)&&(o=n[Xe]),null==o&&(o=n[Xe]=Rs++);const a=o&Ms;t.data[e+(a>>Ma)]|=1<<a}(e,t,n)}function pa(e,t,n){if(n&Dt.Optional||void 0!==e)return e;rt()}function ga(e,t,n,o){if(n&Dt.Optional&&void 0===o&&(o=null),!(n&(Dt.Self|Dt.Host))){const a=e[ki],d=nr(void 0);try{return a?a.get(t,o,n&Dt.Optional):Ir(t,o,n&Dt.Optional)}finally{nr(d)}}return pa(o,0,n)}function Ra(e,t,n,o=Dt.Default,a){if(null!==e){if(1024&t[Gt]){const m=function Ka(e,t,n,o,a){let d=e,m=t;for(;null!==d&&null!==m&&1024&m[Gt]&&!(256&m[Gt]);){const C=Pa(d,m,n,o|Dt.Self,Oo);if(C!==Oo)return C;let A=d.parent;if(!A){const k=m[mr];if(k){const W=k.get(n,Oo,o);if(W!==Oo)return W}A=Fs(m),m=m[hi]}d=A}return a}(e,t,n,o,Oo);if(m!==Oo)return m}const d=Pa(e,t,n,o,Oo);if(d!==Oo)return d}return ga(t,n,o,a)}function Pa(e,t,n,o,a){const d=function Oa(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xe)?e[Xe]:void 0;return"number"==typeof t?t>=0?t&Ms:ma:t}(n);if("function"==typeof d){if(!Ho(t,e,o))return o&Dt.Host?pa(a,0,o):ga(t,n,o,a);try{const m=d(o);if(null!=m||o&Dt.Optional)return m;rt()}finally{$o()}}else if("number"==typeof d){let m=null,C=ta(e,t),A=j,k=o&Dt.Host?t[vn][or]:null;for((-1===C||o&Dt.SkipSelf)&&(A=-1===C?fa(e,t):t[C+8],A!==j&&ks(o,!1)?(m=t[ut],C=_i(A),t=Kr(A,t)):C=-1);-1!==C;){const W=t[ut];if(xs(d,C,W.data)){const Q=Zr(C,t,n,m,o,k);if(Q!==Oo)return Q}A=t[C+8],A!==j&&ks(o,t[ut].data[C+8]===k)&&xs(d,C,t)?(m=W,C=_i(A),t=Kr(A,t)):C=-1}}return a}function Zr(e,t,n,o,a,d){const m=t[ut],C=m.data[e+8],W=Ns(C,m,n,null==o?eo(C)&&As:o!=m&&0!=(3&C.type),a&Dt.Host&&d===C);return null!==W?An(t,m,W,C):Oo}function Ns(e,t,n,o,a){const d=e.providerIndexes,m=t.data,C=1048575&d,A=e.directiveStart,W=d>>20,fe=a?C+W:e.directiveEnd;for(let Se=o?C:C+W;Se<fe;Se++){const Ye=m[Se];if(Se<A&&n===Ye||Se>=A&&Ye.type===n)return Se}if(a){const Se=m[A];if(Se&&Ht(Se)&&Se.type===n)return A}return null}function An(e,t,n,o){let a=e[n];const d=t.data;if(function Ne(e){return e instanceof X}(a)){const m=a;m.resolving&&function ze(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Je(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}(d[n]));const C=ha(m.canSeeViewProviders);m.resolving=!0;const A=m.injectImpl?nr(m.injectImpl):null;Ho(e,o,Dt.Default);try{a=e[n]=m.factory(void 0,d,e,o),t.firstCreatePass&&n>=o.directiveStart&&function Xs(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(o){const m=wr(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,m),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,m)}a&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,a),d&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==A&&nr(A),ha(C),m.resolving=!1,$o()}}return a}function xs(e,t,n){return!!(n[t+(e>>Ma)]&1<<e)}function ks(e,t){return!(e&Dt.Self||e&Dt.Host&&t)}class No{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return Ra(this._tNode,this._lView,t,xn(o),n)}}function ma(){return new No(be(),b())}function _a(e){return J(()=>{const t=e.prototype.constructor,n=t[Ue]||na(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Ue]||na(a);if(d&&d!==n)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function na(e){return et(e)?()=>{const t=na(se(e));return t&&t()}:Mi(e)}function Fs(e){const t=e[ut],n=t.type;return 2===n?t.declTNode:1===n?e[or]:null}function hs(e){return function za(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let a=0;for(;a<o;){const d=n[a];if(lr(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof n[a];)a++;else{if(d===t)return n[a+1];a+=2}}}return null}(be(),e)}const ra="__parameters__";function Vi(e,t,n){return J(()=>{const o=function zo(e){return function(...n){if(e){const o=e(...n);for(const a in o)this[a]=o[a]}}}(t);function a(...d){if(this instanceof a)return o.apply(this,d),this;const m=new a(...d);return C.annotation=m,C;function C(A,k,W){const Q=A.hasOwnProperty(ra)?A[ra]:Object.defineProperty(A,ra,{value:[]})[ra];for(;Q.length<=W;)Q.push(null);return(Q[W]=Q[W]||[]).push(m),A}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class er{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=wt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(e,t){e.forEach(n=>Array.isArray(n)?oo(n,t):t(n))}function Ja(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ni(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ps(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}function yi(e,t,n){let o=Us(e,t);return o>=0?e[1|o]=n:(o=~o,function Na(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Vs(e,t){const n=Us(e,t);if(n>=0)return e[1|n]}function Us(e,t){return function v(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){const d=o+(a-o>>1),m=e[d<<n];if(t===m)return d<<n;m>t?a=d:o=d+1}return~(a<<n)}(e,t,1)}const an=yn(Vi("Optional"),8),so=yn(Vi("SkipSelf"),4);var Yo=(()=>((Yo=Yo||{})[Yo.Important=1]="Important",Yo[Yo.DashCase=2]="DashCase",Yo))();const vu=new Map;let Co=0;const ge="__ngContext__";function Re(e,t){Rr(t)?(e[ge]=t[$i],function Hu(e){vu.set(e[$i],e)}(t)):e[ge]=t}let Jo;function Al(e,t){return Jo(e,t)}function Yl(e){const t=e[En];return oi(t)?t[En]:t}function Ml(e){return $u(e[Ti])}function sl(e){return $u(e[Ar])}function $u(e){for(;null!==e&&!oi(e);)e=e[Ar];return e}function ys(e,t,n,o,a){if(null!=o){let d,m=!1;oi(o)?d=o:Rr(o)&&(m=!0,o=o[ri]);const C=sr(o);0===e&&null!==n?null==a?Jl(t,n,C):ul(t,n,C,a||null,!0):1===e&&null!==n?ul(t,n,C,a||null,!0):2===e?function Yu(e,t,n){const o=qi(e,t);o&&function Zu(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}(t,C,m):3===e&&t.destroyNode(C),null!=d&&function bd(e,t,n,o,a){const d=n[dn];d!==sr(n)&&ys(t,e,o,d,a);for(let C=Kn;C<n.length;C++){const A=n[C];tu(A[ut],A,e,t,o,d)}}(t,e,d,n,a)}}function Rl(e,t,n){return e.createElement(t,n)}function ql(e,t){const n=e[Wt],o=n.indexOf(t),a=t[En];512&t[Gt]&&(t[Gt]&=-513,zt(a,-1)),n.splice(o,1)}function ll(e,t){if(e.length<=Kn)return;const n=Kn+t,o=e[n];if(o){const a=o[Xi];null!==a&&a!==e&&ql(a,o),t>0&&(e[n-1][Ar]=o[Ar]);const d=Ni(e,Kn+t);!function vd(e,t){tu(e,t,t[qt],2,null,null),t[ri]=null,t[or]=null}(o[ut],o);const m=d[ii];null!==m&&m.detachView(d[ut]),o[En]=null,o[Ar]=null,o[Gt]&=-65}return o}function Iu(e,t){if(!(128&t[Gt])){const n=t[qt];n.destroyNode&&tu(e,t,n,3,null,null),function Cd(e){let t=e[Ti];if(!t)return Ql(e[ut],e);for(;t;){let n=null;if(Rr(t))n=t[Ti];else{const o=t[Kn];o&&(n=o)}if(!n){for(;t&&!t[Ar]&&t!==e;)Rr(t)&&Ql(t[ut],t),t=t[En];null===t&&(t=e),Rr(t)&&Ql(t[ut],t),n=t&&t[Ar]}t=n}}(t)}}function Ql(e,t){if(!(128&t[Gt])){t[Gt]&=-65,t[Gt]|=128,function Gu(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const a=t[n[o]];if(!(a instanceof X)){const d=n[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const C=a[d[m]],A=d[m+1];$r(4,C,A);try{A.call(C)}finally{$r(5,C,A)}}else{$r(4,a,d);try{d.call(a)}finally{$r(5,a,d)}}}}}(e,t),function Id(e,t){const n=e.cleanup,o=t[uo];let a=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const m=n[d+3];m>=0?o[a=m]():o[a=-m].unsubscribe(),d+=2}else{const m=o[a=n[d+1]];n[d].call(m)}if(null!==o){for(let d=a+1;d<o.length;d++)(0,o[d])();t[uo]=null}}(e,t),1===t[ut].type&&t[qt].destroy();const n=t[Xi];if(null!==n&&oi(t[En])){n!==t[En]&&ql(n,t);const o=t[ii];null!==o&&o.detachView(e)}!function E(e){vu.delete(e[$i])}(t)}}function Du(e,t,n){return function zu(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[ri];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===je.None||d===je.Emulated)return null}return Nr(o,n)}}(e,t.parent,n)}function ul(e,t,n,o,a){e.insertBefore(t,n,o,a)}function Jl(e,t,n){e.appendChild(t,n)}function Ku(e,t,n,o,a){null!==o?ul(e,t,n,o,a):Jl(e,t,n)}function qi(e,t){return e.parentNode(t)}function aa(e,t,n){return Xo(e,t,n)}let Ia,ru,fl,Xo=function cl(e,t,n){return 40&e.type?Nr(e,n):null};function dl(e,t,n,o){const a=Du(e,o,t),d=t[qt],C=aa(o.parent||t[or],o,t);if(null!=a)if(Array.isArray(n))for(let A=0;A<n.length;A++)Ku(d,a,n[A],C,!1);else Ku(d,a,n,C,!1);void 0!==Ia&&Ia(d,o,t,n,a)}function la(e,t){if(null!==t){const n=t.type;if(3&n)return Nr(t,e);if(4&n)return Pl(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return la(e,o);{const a=e[t.index];return oi(a)?Pl(-1,a):sr(a)}}if(32&n)return Al(t,e)()||sr(e[t.index]);{const o=wd(e,t);return null!==o?Array.isArray(o)?o[0]:la(Yl(e[vn]),o):la(e,t.next)}}return null}function wd(e,t){return null!==t?e[vn][or].projection[t.projection]:null}function Pl(e,t){const n=Kn+e+1;if(n<t.length){const o=t[n],a=o[ut].firstChild;if(null!==a)return la(o,a)}return t[dn]}function eu(e,t,n,o,a,d,m){for(;null!=n;){const C=o[n.index],A=n.type;if(m&&0===t&&(C&&Re(sr(C),o),n.flags|=2),32!=(32&n.flags))if(8&A)eu(e,t,n.child,o,a,d,!1),ys(t,e,a,C,d);else if(32&A){const k=Al(n,o);let W;for(;W=k();)ys(t,e,a,W,d);ys(t,e,a,C,d)}else 16&A?Pc(e,t,o,n,a,d):ys(t,e,a,C,d);n=m?n.projectionNext:n.next}}function tu(e,t,n,o,a,d){eu(n,o,e.firstChild,t,a,d,!1)}function Pc(e,t,n,o,a,d){const m=n[vn],A=m[or].projection[o.projection];if(Array.isArray(A))for(let k=0;k<A.length;k++)ys(t,e,a,A[k],d);else eu(e,t,A,m[En],a,d,!0)}function ua(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Tu(e,t,n){const{mergedAttrs:o,classes:a,styles:d}=n;null!==o&&Pn(e,t,o),null!==a&&ua(e,t,a),null!==d&&function bu(e,t,n){e.setAttribute(t,"style",n)}(e,t,d)}function xc(e){ru=e}function Qu(e){return function qu(){if(void 0===fl&&(fl=null,un.trustedTypes))try{fl=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fl}()?.createScriptURL(e)||e}class Fc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}function Io(e){return e instanceof Fc?e.changingThisBreaksApplicationSecurity:e}function xl(e,t){const n=function Ad(e){return e instanceof Fc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Et})`)}return n===t}const tc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Qr=(()=>((Qr=Qr||{})[Qr.NONE=0]="NONE",Qr[Qr.HTML=1]="HTML",Qr[Qr.STYLE=2]="STYLE",Qr[Qr.SCRIPT=3]="SCRIPT",Qr[Qr.URL=4]="URL",Qr[Qr.RESOURCE_URL=5]="RESOURCE_URL",Qr))();function ou(e){const t=ic();return t?t.sanitize(Qr.URL,e)||"":xl(e,"URL")?Io(e):function Ru(e){return(e=String(e)).match(tc)?e:"unsafe:"+e}(Oe(e))}function rc(e){const t=ic();if(t)return Qu(t.sanitize(Qr.RESOURCE_URL,e)||"");if(xl(e,"ResourceURL"))return Qu(Io(e));throw new Ae(904,!1)}function Pu(e,t,n){return function su(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?rc:ou}(t,n)(e)}function ic(){const e=b();return e&&e[ji]}const Rd=new er("ENVIRONMENT_INITIALIZER"),Pd=new er("INJECTOR",-1),oc=new er("INJECTOR_DEF_TYPES");class Ph{get(t,n=ei){if(n===ei){const o=new Error(`NullInjectorError: No provider for ${_e(t)}!`);throw o.name="NullInjectorError",o}return n}}function Uf(...e){return{\u0275providers:Oh(0,e),\u0275fromNgModule:!0}}function Oh(e,...t){const n=[],o=new Set;let a;return oo(t,d=>{const m=d;sc(m,n,[],o)&&(a||(a=[]),a.push(m))}),void 0!==a&&Od(a,n),n}function Od(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];Nd(a,d=>{t.push(d)})}}function sc(e,t,n,o){if(!(e=se(e)))return!1;let a=null,d=Ln(e);const m=!d&&Mt(e);if(d||m){if(m&&!m.standalone)return!1;a=e}else{const A=e.ngModule;if(d=Ln(A),!d)return!1;a=A}const C=o.has(a);if(m){if(C)return!1;if(o.add(a),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of A)sc(k,t,n,o)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let k;o.add(a);try{oo(d.imports,W=>{sc(W,t,n,o)&&(k||(k=[]),k.push(W))})}finally{}void 0!==k&&Od(k,t)}if(!C){const k=Mi(a)||(()=>new a);t.push({provide:a,useFactory:k,deps:nt},{provide:oc,useValue:a,multi:!0},{provide:Rd,useValue:()=>yt(a),multi:!0})}const A=d.providers;null==A||C||Nd(A,W=>{t.push(W)})}}return a!==e&&void 0!==e.providers}function Nd(e,t){for(let n of e)Ge(n)&&(n=n.\u0275providers),Array.isArray(n)?Nd(n,t):t(n)}const Nh=ue({provide:String,useValue:ue});function Ou(e){return null!==e&&"object"==typeof e&&Nh in e}function au(e){return"function"==typeof e}const kh=new er("Set Injector scope."),kd={},Hf={};let Fd;function Ld(){return void 0===Fd&&(Fd=new Ph),Fd}class Nu{}class jf extends Nu{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ci(t,m=>this.processProvider(m)),this.records.set(Pd,ac(void 0,this)),a.has("environment")&&this.records.set(Nu,ac(void 0,this));const d=this.records.get(kh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(oc.multi,nt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=on(this),o=nr(void 0);try{return t()}finally{on(n),nr(o)}}get(t,n=ei,o=Dt.Default){this.assertNotDestroyed(),o=xn(o);const a=on(this),d=nr(void 0);try{if(!(o&Dt.SkipSelf)){let C=this.records.get(t);if(void 0===C){const A=function Wf(e){return"function"==typeof e||"object"==typeof e&&e instanceof er}(t)&&Qt(t);C=A&&this.injectableDefInScope(A)?ac(Fh(t),kd):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(o&Dt.Self?Ld():this.parent).get(t,n=o&Dt.Optional&&n===ei?null:n)}catch(m){if("NullInjectorError"===m.name){if((m[Qn]=m[Qn]||[]).unshift(_e(t)),a)throw m;return function dr(e,t,n,o){const a=e[Qn];throw t[mn]&&a.unshift(t[mn]),e.message=function re(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ti?e.slice(2):e;let a=_e(t);if(Array.isArray(t))a=t.map(_e).join(" -> ");else if("object"==typeof t){let d=[];for(let m in t)if(t.hasOwnProperty(m)){let C=t[m];d.push(m+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}a=`{${d.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(Nn,"\n  ")}`}("\n"+e.message,a,n,o),e[pr]=a,e[Qn]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{nr(d),on(a)}}resolveInjectorInitializers(){const t=on(this),n=nr(void 0);try{const o=this.get(Rd.multi,nt,Dt.Self);for(const a of o)a()}finally{on(t),nr(n)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(_e(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(t){let n=au(t=se(t))?t:se(t&&t.provide);const o=function Pg(e){return Ou(e)?ac(void 0,e.useValue):ac($f(e),kd)}(t);if(au(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=ac(void 0,kd,!0),a.factory=()=>di(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){return n.value===kd&&(n.value=Hf,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Lh(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=se(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Fh(e){const t=Qt(e),n=null!==t?t.factory:Mi(e);if(null!==n)return n;if(e instanceof er)throw new Ae(204,!1);if(e instanceof Function)return function Rg(e){const t=e.length;if(t>0)throw ps(t,"?"),new Ae(204,!1);const n=function Lt(e){return e&&(e[_t]||e[jn])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ae(204,!1)}function $f(e,t,n){let o;if(au(e)){const a=se(e);return Mi(a)||Fh(a)}if(Ou(e))o=()=>se(e.useValue);else if(function Bf(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...di(e.deps||[]));else if(function xh(e){return!(!e||!e.useExisting)}(e))o=()=>yt(se(e.useExisting));else{const a=se(e&&(e.useClass||e.provide));if(!function Vd(e){return!!e.deps}(e))return Mi(a)||Fh(a);o=()=>new a(...di(e.deps))}return o}function ac(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ci(e,t){for(const n of e)Array.isArray(n)?ci(n,t):n&&Ge(n)?ci(n.\u0275providers,t):t(n)}class Gf{}class lc{}class zf{resolveComponentFactory(t){throw function Ud(e){const t=Error(`No component factory found for ${_e(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let xu=(()=>{class e{}return e.NULL=new zf,e})();function Kf(){return ku(be(),b())}function ku(e,t){return new uc(Nr(e,t))}let uc=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Kf,e})();function Zf(e){return e instanceof uc?e.nativeElement:e}class lo{}let $c=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Bd(){const e=b(),n=vr(be().index,e);return(Rr(n)?n:e)[qt]}(),e})(),Hd=(()=>{class e{}return e.\u0275prov=wt({token:e,providedIn:"root",factory:()=>null}),e})();class cc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const dc=new cc("15.2.10"),hc={},jd="ngOriginalError";function Wc(e){return e[jd]}class fc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Wc(t);for(;n&&Wc(n);)n=Wc(n);return n||null}}function gl(e){return e instanceof Function?e():e}function $h(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}n=a+1}}const Kc="ng-template";function Gd(e,t,n){let o=0,a=!0;for(;o<e.length;){let d=e[o++];if("string"==typeof d&&a){const m=e[o++];if(n&&"class"===d&&-1!==$h(m.toLowerCase(),t,0))return!0}else{if(1===d){for(;o<e.length&&"string"==typeof(d=e[o++]);)if(d.toLowerCase()===t)return!0;return!1}"number"==typeof d&&(a=!1)}}return!1}function Wh(e){return 4===e.type&&e.value!==Kc}function zd(e,t,n){return t===(4!==e.type||n?e.value:Kc)}function Kd(e,t,n){let o=4;const a=e.attrs||[],d=function tp(e){for(let t=0;t<e.length;t++)if(lr(e[t]))return t;return e.length}(a);let m=!1;for(let C=0;C<t.length;C++){const A=t[C];if("number"!=typeof A){if(!m)if(4&o){if(o=2|1&o,""!==A&&!zd(e,A,n)||""===A&&1===t.length){if(Gs(o))return!1;m=!0}}else{const k=8&o?A:t[++C];if(8&o&&null!==e.attrs){if(!Gd(e.attrs,k,n)){if(Gs(o))return!1;m=!0}continue}const Q=Zd(8&o?"class":A,a,Wh(e),n);if(-1===Q){if(Gs(o))return!1;m=!0;continue}if(""!==k){let fe;fe=Q>d?"":a[Q+1].toLowerCase();const Se=8&o?fe:null;if(Se&&-1!==$h(Se,k,0)||2&o&&k!==fe){if(Gs(o))return!1;m=!0}}}}else{if(!m&&!Gs(o)&&!Gs(A))return!1;if(m&&Gs(A))continue;m=!1,o=A|1&o}}return Gs(o)||m}function Gs(e){return 0==(1&e)}function Zd(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let d=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)d=!0;else{if(1===m||2===m){let C=t[++a];for(;"string"==typeof C;)C=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=d?1:2}return-1}return function Zc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Gh(e,t,n=!1){for(let o=0;o<t.length;o++)if(Kd(e,t[o],n))return!0;return!1}function Yd(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function qd(e,t){return e?":not("+t.trim()+")":t}function Qd(e){let t=e[0],n=1,o=2,a="",d=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&o){const C=e[++n];a+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!Gs(m)&&(t+=qd(d,a),a=""),o=m,d=d||!Gs(o);n++}return""!==a&&(t+=qd(d,a)),t}const hn={};function zh(e){eh(M(),b(),tr()+e,!1)}function eh(e,t,n,o){if(!o)if(3==(3&t[Gt])){const d=e.preOrderCheckHooks;null!==d&&ds(t,d,n)}else{const d=e.preOrderHooks;null!==d&&_o(t,d,0,n)}Gr(n)}function qh(e,t=null,n=null,o){const a=Qh(e,t,n,o);return a.resolveInjectorInitializers(),a}function Qh(e,t=null,n=null,o,a=new Set){const d=[n||nt,Uf(e)];return o=o||("object"==typeof e?void 0:_e(e)),new jf(d,t||Ld(),o||null,a)}let Ba=(()=>{class e{static create(n,o){if(Array.isArray(n))return qh({name:""},o,n,"");{const a=n.name??"";return qh({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=ei,e.NULL=new Ph,e.\u0275prov=wt({token:e,providedIn:"any",factory:()=>yt(Pd)}),e.__NG_ELEMENT_ID__=-1,e})();function _c(e,t=Dt.Default){const n=b();return null===n?yt(e,t):Ra(be(),n,se(e),t)}function mp(){throw new Error("invalid")}function yp(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const d=n[o+1];if(-1!==d){const m=e.data[d];ls(n[o]),m.contentQueries(2,t[d],d)}}}function oh(e,t,n,o,a,d,m,C,A,k,W){const Q=t.blueprint.slice();return Q[ri]=a,Q[Gt]=76|o,(null!==W||e&&1024&e[Gt])&&(Q[Gt]|=1024),Wr(Q),Q[En]=Q[hi]=e,Q[Gn]=n,Q[Hi]=m||e&&e[Hi],Q[qt]=C||e&&e[qt],Q[ji]=A||e&&e[ji]||null,Q[ki]=k||e&&e[ki]||null,Q[or]=d,Q[$i]=function Eu(){return Co++}(),Q[mr]=W,Q[vn]=2==t.type?e[vn]:Q,Q}function yc(e,t,n,o,a){let d=e.data[t];if(null===d)d=function sh(e,t,n,o,a){const d=At(),m=po(),A=e.data[t]=function lf(e,t,n,o,a,d){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(e,t,n,o,a),function Sa(){return Yt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=n,d.value=o,d.attrs=a;const m=function Tn(){const e=Yt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Bn(d,!0),d}function vc(e,t,n,o){if(0===n)return-1;const a=t.length;for(let d=0;d<n;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Jc(e,t,n){Js(t);try{const o=e.viewQuery;null!==o&&Bt(1,o,n);const a=e.template;null!==a&&ah(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yp(e,t),e.staticViewQueries&&Bt(2,e.viewQuery,n);const d=e.components;null!==d&&function Bg(e,t){for(let n=0;n<t.length;n++)K(e,t[n])}(t,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Gt]&=-5,Po()}}function Ec(e,t,n,o){const a=t[Gt];if(128!=(128&a)){Js(t);try{Wr(t),function Yi(e){return Yt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ah(e,t,n,2,o);const m=3==(3&a);if(m){const k=e.preOrderCheckHooks;null!==k&&ds(t,k,null)}else{const k=e.preOrderHooks;null!==k&&_o(t,k,0,null),w(t,0)}if(function I(e){for(let t=Ml(e);null!==t;t=sl(t)){if(!t[Uo])continue;const n=t[Wt];for(let o=0;o<n.length;o++){const a=n[o];512&a[Gt]||zt(a[En],1),a[Gt]|=512}}}(t),function p(e){for(let t=Ml(e);null!==t;t=sl(t))for(let n=Kn;n<t.length;n++){const o=t[n],a=o[ut];Ci(o)&&Ec(a,o,a.template,o[Gn])}}(t),null!==e.contentQueries&&yp(e,t),m){const k=e.contentCheckHooks;null!==k&&ds(t,k)}else{const k=e.contentHooks;null!==k&&_o(t,k,1),w(t,1)}!function _p(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)Gr(~a);else{const d=a,m=n[++o],C=n[++o];mo(m,d),C(2,t[d])}}}finally{Gr(-1)}}(e,t);const C=e.components;null!==C&&function Ug(e,t){for(let n=0;n<t.length;n++)P(e,t[n])}(t,C);const A=e.viewQuery;if(null!==A&&Bt(2,A,o),m){const k=e.viewCheckHooks;null!==k&&ds(t,k)}else{const k=e.viewHooks;null!==k&&_o(t,k,2),w(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Gt]&=-41,512&t[Gt]&&(t[Gt]&=-513,zt(t[En],-1))}finally{Po()}}}function ah(e,t,n,o,a){const d=tr(),m=2&o;try{Gr(-1),m&&t.length>Vn&&eh(e,t,Vn,!1),$r(m?2:0,a),n(o,a)}finally{Gr(d),$r(m?3:1,a)}}function Xc(e,t,n){if(Wi(t)){const a=t.directiveEnd;for(let d=t.directiveStart;d<a;d++){const m=e.data[d];m.contentQueries&&m.contentQueries(1,n[d],d)}}}function ed(e,t,n){Ki()&&(function Ip(e,t,n,o){const a=n.directiveStart,d=n.directiveEnd;eo(n)&&function gf(e,t,n){const o=Nr(t,e),a=lh(n),d=e[Hi],m=ke(e,oh(e,a,null,n.onPush?32:16,o,t,d,d.createRenderer(o,n),null,null,null));e[t.index]=m}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||ea(n,t),Re(o,t);const m=n.initialInputs;for(let C=a;C<d;C++){const A=e.data[C],k=An(t,e,C,n);Re(k,t),null!==m&&r(0,C-a,k,A,0,m),Ht(A)&&(vr(n.index,t)[Gn]=An(t,e,C,n))}}(e,t,n,Nr(n,t)),64==(64&n.flags)&&hf(e,t,n))}function td(e,t,n=Nr){const o=t.localNames;if(null!==o){let a=t.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],C=-1===m?n(t,e):e[m];e[a++]=C}}}function lh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function nd(e,t,n,o,a,d,m,C,A,k){const W=Vn+o,Q=W+a,fe=function Hg(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:hn);return n}(W,Q),Se="function"==typeof k?k():k;return fe[ut]={type:e,blueprint:fe,template:n,queries:null,viewQuery:C,declTNode:t,data:fe.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:Se,incompleteFirstPass:!1}}function af(e,t,n,o){const a=Jr(t);null===n?a.push(o):(a.push(n),e.firstCreatePass&&Vo(e).push(o,a.length-1))}function uh(e,t,n,o){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const d=e[a];null===o?ch(n,t,a,d):o.hasOwnProperty(a)&&ch(n,t,o[a],d)}return n}function ch(e,t,n,o){e.hasOwnProperty(n)?e[n].push(t,o):e[n]=[t,o]}function rd(e,t,n,o){if(Ki()){const a=null===o?null:{"":-1},d=function Dp(e,t){const n=e.directiveRegistry;let o=null,a=null;if(n)for(let d=0;d<n.length;d++){const m=n[d];if(Gh(t,m.selectors,!1))if(o||(o=[]),Ht(m))if(null!==m.findHostDirectiveDefs){const C=[];a=a||new Map,m.findHostDirectiveDefs(m,C,a),o.unshift(...C,m),hh(e,t,C.length)}else o.unshift(m),hh(e,t,0);else a=a||new Map,m.findHostDirectiveDefs?.(m,o,a),o.push(m)}return null===o?null:[o,a]}(e,n);let m,C;null===d?m=C=null:[m,C]=d,null!==m&&dh(e,t,n,m,a,C),a&&function pf(e,t,n){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=n[t[a+1]];if(null==d)throw new Ae(-301,!1);o.push(t[a],d)}}}(n,o,a)}n.mergedAttrs=Oi(n.mergedAttrs,n.attrs)}function dh(e,t,n,o,a,d){for(let k=0;k<o.length;k++)Yn(ea(n,t),e,o[k].type);!function bp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let k=0;k<o.length;k++){const W=o[k];W.providersResolver&&W.providersResolver(W)}let m=!1,C=!1,A=vc(e,t,o.length,null);for(let k=0;k<o.length;k++){const W=o[k];n.mergedAttrs=Oi(n.mergedAttrs,W.hostAttrs),Tp(e,n,t,A,W),wp(A,W,a),null!==W.contentQueries&&(n.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(n.flags|=64);const Q=W.type.prototype;!m&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),m=!0),!C&&(Q.ngOnChanges||Q.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),C=!0),A++}!function uf(e,t,n){const a=t.directiveEnd,d=e.data,m=t.attrs,C=[];let A=null,k=null;for(let W=t.directiveStart;W<a;W++){const Q=d[W],fe=n?n.get(Q):null,Ye=fe?fe.outputs:null;A=uh(Q.inputs,W,A,fe?fe.inputs:null),k=uh(Q.outputs,W,k,Ye);const lt=null===A||null===m||Wh(t)?null:i(A,W,m);C.push(lt)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=C,t.inputs=A,t.outputs=k}(e,n,d)}function hf(e,t,n){const o=n.directiveStart,a=n.directiveEnd,d=n.index,m=function Aa(){return Yt.lFrame.currentDirectiveIndex}();try{Gr(d);for(let C=o;C<a;C++){const A=e.data[C],k=t[C];ar(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&ff(A,k)}}finally{Gr(-1),ar(m)}}function ff(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function hh(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function wp(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Ht(t)&&(n[""]=e)}}function Tp(e,t,n,o,a){e.data[o]=a;const d=a.factory||(a.factory=Mi(a.type)),m=new X(d,Ht(a),_c);e.blueprint[o]=m,n[o]=m,function df(e,t,n,o,a){const d=a.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const C=~t.index;(function Cp(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=C&&m.push(C),m.push(n,o,d)}}(e,t,o,vc(e,n,a.hostVars,hn),a)}function Ha(e,t,n,o,a,d){const m=Nr(e,t);!function s(e,t,n,o,a,d,m){if(null==d)e.removeAttribute(t,a,n);else{const C=null==m?Oe(d):m(d,o||"",a);e.setAttribute(t,a,C,n)}}(t[qt],m,d,e.value,n,o,a)}function r(e,t,n,o,a,d){const m=d[t];if(null!==m){const C=o.setInput;for(let A=0;A<m.length;){const k=m[A++],W=m[A++],Q=m[A++];null!==C?o.setInput(n,Q,k,W):n[W]=Q}}}function i(e,t,n){let o=null,a=0;for(;a<n.length;){const d=n[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const m=e[d];for(let C=0;C<m.length;C+=2)if(m[C]===t){o.push(d,m[C+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function u(e,t,n,o){return[e,!0,!1,t,null,0,o,n,null,null]}function P(e,t){const n=vr(t,e);if(Ci(n)){const o=n[ut];48&n[Gt]?Ec(o,n,o.template,n[Gn]):n[Cn]>0&&B(n)}}function B(e){for(let o=Ml(e);null!==o;o=sl(o))for(let a=Kn;a<o.length;a++){const d=o[a];if(Ci(d))if(512&d[Gt]){const m=d[ut];Ec(m,d,m.template,d[Gn])}else d[Cn]>0&&B(d)}const n=e[ut].components;if(null!==n)for(let o=0;o<n.length;o++){const a=vr(n[o],e);Ci(a)&&a[Cn]>0&&B(a)}}function K(e,t){const n=vr(t,e),o=n[ut];(function ee(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),Jc(o,n,n[Gn])}function ke(e,t){return e[Ti]?e[Si][Ar]=t:e[Ti]=t,e[Si]=t,t}function Fe(e){for(;e;){e[Gt]|=32;const t=Yl(e);if(_r(e)&&!t)return e;e=t}return null}function Ze(e,t,n,o=!0){const a=t[Hi];a.begin&&a.begin();try{Ec(e,t,e.template,n)}catch(m){throw o&&ba(t,m),m}finally{a.end&&a.end()}}function Bt(e,t,n){ls(0),t(e,n)}function Jr(e){return e[uo]||(e[uo]=[])}function Vo(e){return e.cleanup||(e.cleanup=[])}function ba(e,t){const n=e[ki],o=n?n.get(fc,null):null;o&&o.handleError(t)}function Di(e,t,n,o,a){for(let d=0;d<n.length;){const m=n[d++],C=n[d++],A=t[m],k=e.data[m];null!==k.setInput?k.setInput(A,a,o,C):A[C]=a}}function ja(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,d=0;if(null!==t)for(let m=0;m<t.length;m++){const C=t[m];"number"==typeof C?d=C:1==d?a=ve(a,C):2==d&&(o=ve(o,C+": "+t[++m]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}function mf(e,t,n,o,a=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&o.push(sr(d)),oi(d))for(let C=Kn;C<d.length;C++){const A=d[C],k=A[ut].firstChild;null!==k&&mf(A[ut],A,k,o)}const m=n.type;if(8&m)mf(e,t,n.child,o);else if(32&m){const C=Al(n,t);let A;for(;A=C();)o.push(A)}else if(16&m){const C=wd(t,n);if(Array.isArray(C))o.push(...C);else{const A=Yl(t[vn]);mf(A[ut],A,C,o,!0)}}n=a?n.projectionNext:n.next}return o}class fh{get rootNodes(){const t=this._lView,n=t[ut];return mf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(t){this._lView[Gn]=t}get destroyed(){return 128==(128&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[En];if(oi(t)){const n=t[nn],o=n?n.indexOf(this):-1;o>-1&&(ll(t,o),Ni(n,o))}this._attachedToViewContainer=!1}Iu(this._lView[ut],this._lView)}onDestroy(t){af(this._lView[ut],this._lView,null,t)}markForCheck(){Fe(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-65}reattach(){this._lView[Gt]|=64}detectChanges(){Ze(this._lView[ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ed(e,t){tu(e,t,t[qt],2,null,null)}(this._lView[ut],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=t}}class ov extends fh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ze(t[ut],t,t[Gn],!1)}checkNoChanges(){}get context(){return null}}class $g extends xu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mt(t);return new ph(n,this.ngModule)}}function Wg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class av{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=xn(o);const a=this.injector.get(t,hc,o);return a!==hc||n===hc?a:this.parentInjector.get(t,n,o)}}class ph extends lc{get inputs(){return Wg(this.componentDef.inputs)}get outputs(){return Wg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Jd(e){return e.map(Qd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){let d=(a=a||this.ngModule)instanceof Nu?a:a?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new av(t,d):t,C=m.get(lo,null);if(null===C)throw new Ae(407,!1);const A=m.get(Hd,null),k=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",Q=o?function vp(e,t,n){return e.selectRootElement(t,n===je.ShadowDom)}(k,o,this.componentDef.encapsulation):Rl(k,W,function sv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(W)),fe=this.componentDef.onPush?288:272,Se=nd(0,null,null,1,0,null,null,null,null,null),Ye=oh(null,Se,null,fe,null,null,C,k,A,m,null);let lt,St;Js(Ye);try{const Ut=this.componentDef;let ln,ot=null;Ut.findHostDirectiveDefs?(ln=[],ot=new Map,Ut.findHostDirectiveDefs(Ut,ln,ot),ln.push(Ut)):ln=[Ut];const _n=function uv(e,t){const n=e[ut],o=Vn;return e[o]=t,yc(n,o,2,"#host",null)}(Ye,Q),wi=function cv(e,t,n,o,a,d,m,C){const A=a[ut];!function dv(e,t,n,o){for(const a of e)t.mergedAttrs=Oi(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(ja(t,t.mergedAttrs,!0),null!==n&&Tu(o,n,t))}(o,e,t,m);const k=d.createRenderer(t,n),W=oh(a,lh(n),null,n.onPush?32:16,a[e.index],e,d,k,C||null,null,null);return A.firstCreatePass&&hh(A,e,o.length-1),ke(a,W),a[e.index]=W}(_n,Q,Ut,ln,Ye,C,k);St=Mn(Se,Vn),Q&&function fv(e,t,n,o){if(o)Pn(e,n,["ng-version",dc.full]);else{const{attrs:a,classes:d}=function Xd(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++o]):8===a&&n.push(d);else{if(!Gs(a))break;a=d}o++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Pn(e,n,a),d&&d.length>0&&ua(e,n,d.join(" "))}}(k,Ut,Q,o),void 0!==n&&function pv(e,t,n){const o=e.projection=[];for(let a=0;a<t.length;a++){const d=n[a];o.push(null!=d?Array.from(d):null)}}(St,this.ngContentSelectors,n),lt=function hv(e,t,n,o,a,d){const m=be(),C=a[ut],A=Nr(m,a);dh(C,a,m,n,null,o);for(let W=0;W<n.length;W++)Re(An(a,C,m.directiveStart+W,m),a);hf(C,a,m),A&&Re(A,a);const k=An(a,C,m.directiveStart+m.componentOffset,m);if(e[Gn]=a[Gn]=k,null!==d)for(const W of d)W(k,t);return Xc(C,m,e),k}(wi,Ut,ln,ot,Ye,[gv]),Jc(Se,Ye,null)}finally{Po()}return new lv(this.componentType,lt,ku(St,Ye),Ye,St)}}class lv extends Gf{constructor(t,n,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new ov(a),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){const d=this._rootLView;Di(d[ut],d,a,t,n),Fe(vr(this._tNode.index,d))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gv(){const e=be();cs(b()[ut],e)}function Sp(e){let t=function Gg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let a;if(Ht(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ae(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);const m=e;m.inputs=Ap(e.inputs),m.declaredInputs=Ap(e.declaredInputs),m.outputs=Ap(e.outputs);const C=a.hostBindings;C&&vv(e,C);const A=a.viewQuery,k=a.contentQueries;if(A&&_v(e,A),k&&yv(e,k),me(e.inputs,a.inputs),me(e.declaredInputs,a.declaredInputs),me(e.outputs,a.outputs),Ht(a)&&a.data.animation){const W=e.data;W.animation=(W.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let m=0;m<d.length;m++){const C=d[m];C&&C.ngInherit&&C(e),C===Sp&&(n=!1)}}t=Object.getPrototypeOf(t)}!function mv(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Oi(a.hostAttrs,n=Oi(n,a.hostAttrs))}}(o)}function Ap(e){return e===Ee?{}:e===nt?[]:e}function _v(e,t){const n=e.viewQuery;e.viewQuery=n?(o,a)=>{t(o,a),n(o,a)}:t}function yv(e,t){const n=e.contentQueries;e.contentQueries=n?(o,a,d)=>{t(o,a,d),n(o,a,d)}:t}function vv(e,t){const n=e.hostBindings;e.hostBindings=n?(o,a)=>{t(o,a),n(o,a)}:t}function _f(e){return!!Mp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Mp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fl(e,t,n){return e[t]=n}function Cs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Rp(e,t,n,o){const a=b();return Cs(a,Mo(),t)&&(M(),Ha(zn(),a,e,t,n,o)),Rp}function im(e,t,n,o,a,d,m,C){const A=b(),k=M(),W=e+Vn,Q=k.firstCreatePass?function Mv(e,t,n,o,a,d,m,C,A){const k=t.consts,W=yc(t,e,4,m||null,kr(k,C));rd(t,n,W,kr(k,A)),cs(t,W);const Q=W.tView=nd(2,W,o,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,W),Q.queries=t.queries.embeddedTView(W)),W}(W,k,A,t,n,o,a,d,m):k.data[W];Bn(Q,!1);const fe=A[qt].createComment("");dl(k,A,fe,Q),Re(fe,A),ke(A,A[W]=u(fe,A,fe,Q)),Un(Q)&&ed(k,A,Q),null!=m&&td(A,Q,C)}function om(e){return xr(function go(){return Yt.lFrame.contextLView}(),Vn+e)}function Pp(e,t,n){const o=b();return Cs(o,Mo(),t)&&function zs(e,t,n,o,a,d,m,C){const A=Nr(t,n);let W,k=t.inputs;!C&&null!=k&&(W=k[o])?(Di(e,n,W,o,a),eo(t)&&function cf(e,t){const n=vr(t,e);16&n[Gt]||(n[Gt]|=32)}(n,t.index)):3&t.type&&(o=function Cc(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,t.value||"",o):a,d.setProperty(A,o,a))}(M(),zn(),o,e,t,o[qt],n,!1),Pp}function Op(e,t,n,o,a){const m=a?"class":"style";Di(e,n,t.inputs[m],m,o)}function vf(e,t,n,o){const a=b(),d=M(),m=Vn+e,C=a[qt],A=d.firstCreatePass?function Pv(e,t,n,o,a,d){const m=t.consts,A=yc(t,e,2,o,kr(m,a));return rd(t,n,A,kr(m,d)),null!==A.attrs&&ja(A,A.attrs,!1),null!==A.mergedAttrs&&ja(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(m,d,a,t,n,o):d.data[m],k=a[m]=Rl(C,t,function Ss(){return Yt.lFrame.currentNamespace}()),W=Un(A);return Bn(A,!0),Tu(C,k,A),32!=(32&A.flags)&&dl(d,a,k,A),0===function Xn(){return Yt.lFrame.elementDepthCount}()&&Re(k,a),function Bo(){Yt.lFrame.elementDepthCount++}(),W&&(ed(d,a,A),Xc(d,A,a)),null!==o&&td(a,A),vf}function Ef(){let e=be();po()?Zi():(e=e.parent,Bn(e,!1));const t=e;!function Ao(){Yt.lFrame.elementDepthCount--}();const n=M();return n.firstCreatePass&&(cs(n,e),Wi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Rn(e){return 0!=(8&e.flags)}(t)&&Op(n,t,b(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Jt(e){return 0!=(16&e.flags)}(t)&&Op(n,t,b(),t.stylesWithoutHost,!1),Ef}function Np(e,t,n,o){return vf(e,t,n,o),Ef(),Np}function am(){return b()}function Fp(e){return!!e&&"function"==typeof e.then}function lm(e){return!!e&&"function"==typeof e.subscribe}const um=lm;function Lp(e,t,n,o){const a=b(),d=M(),m=be();return function dm(e,t,n,o,a,d,m){const C=Un(o),k=e.firstCreatePass&&Vo(e),W=t[Gn],Q=Jr(t);let fe=!0;if(3&o.type||m){const lt=Nr(o,t),St=m?m(lt):lt,Ut=Q.length,ln=m?_n=>m(sr(_n[o.index])):o.index;let ot=null;if(!m&&C&&(ot=function Nv(e,t,n,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const m=a[d];if(m===n&&a[d+1]===o){const C=t[uo],A=a[d+2];return C.length>A?C[A]:null}"string"==typeof m&&(d+=2)}return null}(e,t,a,o.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=d,ot.__ngLastListenerFn__=d,fe=!1;else{d=fm(o,t,W,d,!1);const _n=n.listen(St,a,d);Q.push(d,_n),k&&k.push(a,ln,Ut,Ut+1)}}else d=fm(o,t,W,d,!1);const Se=o.outputs;let Ye;if(fe&&null!==Se&&(Ye=Se[a])){const lt=Ye.length;if(lt)for(let St=0;St<lt;St+=2){const wi=t[Ye[St]][Ye[St+1]].subscribe(d),Qi=Q.length;Q.push(d,wi),k&&k.push(a,o.index,Qi,-(Qi+1))}}}(d,a,a[qt],m,e,t,o),Lp}function hm(e,t,n,o){try{return $r(6,t,n),!1!==n(o)}catch(a){return ba(e,a),!1}finally{$r(7,t,n)}}function fm(e,t,n,o,a){return function d(m){if(m===Function)return o;Fe(e.componentOffset>-1?vr(e.index,t):t);let A=hm(t,n,o,m),k=d.__ngNextListenerFn__;for(;k;)A=hm(t,n,k,m)&&A,k=k.__ngNextListenerFn__;return a&&!1===A&&(m.preventDefault(),m.returnValue=!1),A}}function pm(e=1){return function us(e){return(Yt.lFrame.contextLView=function Pi(e,t){for(;e>0;)t=t[hi],e--;return t}(e,Yt.lFrame.contextLView))[Gn]}(e)}function xv(e,t){let n=null;const o=function ep(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const d=t[a];if("*"!==d){if(null===o?Gh(e,d,!0):Yd(o,d))return a}else n=a}return n}function gm(e){const t=b()[vn][or];if(!t.projection){const o=t.projection=ps(e?e.length:1,null),a=o.slice();let d=t.child;for(;null!==d;){const m=e?xv(d,e):0;null!==m&&(a[m]?a[m].projectionNext=d:o[m]=d,a[m]=d),d=d.next}}}function mm(e,t=0,n){const o=b(),a=M(),d=yc(a,Vn+e,16,null,n||null);null===d.projection&&(d.projection=t),Zi(),32!=(32&d.flags)&&function Rc(e,t,n){Pc(t[qt],0,t,n,Du(e,n,t),aa(n.parent||t[or],n,t))}(a,o,d)}function Cf(e,t){return e<<17|t<<2}function Lu(e){return e>>17&32767}function Up(e){return 2|e}function Dc(e){return(131068&e)>>2}function Bp(e,t){return-131069&e|t<<2}function Hp(e){return 1|e}function Tm(e,t,n,o,a){const d=e[n+1],m=null===t;let C=o?Lu(d):Dc(d),A=!1;for(;0!==C&&(!1===A||m);){const W=e[C+1];Bv(e[C],t)&&(A=!0,e[C+1]=o?Hp(W):Up(W)),C=o?Lu(W):Dc(W)}A&&(e[n+1]=o?Up(d):Hp(d))}function Bv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Us(e,t)>=0}function jp(e,t,n){return ml(e,t,n,!1),jp}function $p(e,t){return ml(e,t,null,!0),$p}function ml(e,t,n,o){const a=b(),d=M(),m=function mi(e){const t=Yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function xm(e,t,n,o){const a=e.data;if(null===a[n+1]){const d=a[tr()],m=function Nm(e,t){return t>=e.expandoStartIndex}(e,n);(function Vm(e,t){return 0!=(e.flags&(t?8:16))})(d,o)&&null===t&&!m&&(t=!1),t=function Yv(e,t,n,o){const a=function as(e){const t=Yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(n=mh(n=Wp(null,e,t,n,o),t.attrs,o),d=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(n=Wp(a,e,t,n,o),null===d){let A=function qv(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Dc(o))return e[Lu(o)]}(e,t,o);void 0!==A&&Array.isArray(A)&&(A=Wp(null,e,t,A[1],o),A=mh(A,t.attrs,o),function Qv(e,t,n,o){e[Lu(n?t.classBindings:t.styleBindings)]=o}(e,t,o,A))}else d=function Jv(e,t,n){let o;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)o=mh(o,e[d].hostAttrs,n);return mh(o,t.attrs,n)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),n}(a,d,t,o),function Vv(e,t,n,o,a,d){let m=d?t.classBindings:t.styleBindings,C=Lu(m),A=Dc(m);e[o]=n;let W,k=!1;if(Array.isArray(n)?(W=n[1],(null===W||Us(n,W)>0)&&(k=!0)):W=n,a)if(0!==A){const fe=Lu(e[C+1]);e[o+1]=Cf(fe,C),0!==fe&&(e[fe+1]=Bp(e[fe+1],o)),e[C+1]=function Fv(e,t){return 131071&e|t<<17}(e[C+1],o)}else e[o+1]=Cf(C,0),0!==C&&(e[C+1]=Bp(e[C+1],o)),C=o;else e[o+1]=Cf(A,0),0===C?C=o:e[A+1]=Bp(e[A+1],o),A=o;k&&(e[o+1]=Up(e[o+1])),Tm(e,W,o,!0),Tm(e,W,o,!1),function Uv(e,t,n,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Us(d,t)>=0&&(n[o+1]=Hp(n[o+1]))}(t,W,e,o,d),m=Cf(C,A),d?t.classBindings=m:t.styleBindings=m}(a,d,t,n,m,o)}}(d,e,m,o),t!==hn&&Cs(a,m,t)&&function Fm(e,t,n,o,a,d,m,C){if(!(3&t.type))return;const A=e.data,k=A[C+1],W=function Lv(e){return 1==(1&e)}(k)?Lm(A,t,n,a,Dc(k),m):void 0;If(W)||(If(d)||function kv(e){return 2==(2&e)}(k)&&(d=Lm(A,null,n,a,C,m)),function nu(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let d=-1===o.indexOf("-")?void 0:Yo.DashCase;null==a?e.removeStyle(n,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Yo.Important),e.setStyle(n,o,a,d))}}(o,m,Gi(tr(),n),a,d))}(d,d.data[tr()],a,a[qt],e,a[m+1]=function nE(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=_e(Io(e)))),e}(t,n),o,m)}function Wp(e,t,n,o,a){let d=null;const m=n.directiveEnd;let C=n.directiveStylingLast;for(-1===C?C=n.directiveStart:C++;C<m&&(d=t[C],o=mh(o,d.hostAttrs,a),d!==e);)C++;return null!==e&&(n.directiveStylingLast=C),o}function mh(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const m=t[d];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),yi(e,m,!!n||t[++d]))}return void 0===e?null:e}function Lm(e,t,n,o,a,d){const m=null===t;let C;for(;a>0;){const A=e[a],k=Array.isArray(A),W=k?A[1]:A,Q=null===W;let fe=n[a+1];fe===hn&&(fe=Q?nt:void 0);let Se=Q?Vs(fe,o):W===o?fe:void 0;if(k&&!If(Se)&&(Se=Vs(A,o)),If(Se)&&(C=Se,m))return C;const Ye=e[a+1];a=m?Lu(Ye):Dc(Ye)}if(null!==t){let A=d?t.residualClasses:t.residualStyles;null!=A&&(C=Vs(A,o))}return C}function If(e){return void 0!==e}function Um(e,t=""){const n=b(),o=M(),a=e+Vn,d=o.firstCreatePass?yc(o,a,1,t,null):o.data[a],m=n[a]=function sa(e,t){return e.createText(t)}(n[qt],t);dl(o,n,m,d),Bn(d,!1)}function Gp(e){return Df("",e,""),Gp}function Df(e,t,n){const o=b(),a=function od(e,t,n,o){return Cs(e,Mo(),n)?t+Oe(n)+o:hn}(o,e,t,n);return a!==hn&&function Do(e,t,n){const o=Gi(t,e);!function Ac(e,t,n){e.setValue(t,n)}(e[qt],o,n)}(o,tr(),a),Df}const wc=void 0;var IE=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CE(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let pd={};function zp(e){const t=function DE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=s_(t);if(n)return n;const o=t.split("-")[0];if(n=s_(o),n)return n;if("en"===o)return IE;throw new Ae(701,!1)}function o_(e){return zp(e)[rn.PluralCase]}function s_(e){return e in pd||(pd[e]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[e]),pd[e]}var rn=(()=>((rn=rn||{})[rn.LocaleId=0]="LocaleId",rn[rn.DayPeriodsFormat=1]="DayPeriodsFormat",rn[rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",rn[rn.DaysFormat=3]="DaysFormat",rn[rn.DaysStandalone=4]="DaysStandalone",rn[rn.MonthsFormat=5]="MonthsFormat",rn[rn.MonthsStandalone=6]="MonthsStandalone",rn[rn.Eras=7]="Eras",rn[rn.FirstDayOfWeek=8]="FirstDayOfWeek",rn[rn.WeekendRange=9]="WeekendRange",rn[rn.DateFormat=10]="DateFormat",rn[rn.TimeFormat=11]="TimeFormat",rn[rn.DateTimeFormat=12]="DateTimeFormat",rn[rn.NumberSymbols=13]="NumberSymbols",rn[rn.NumberFormats=14]="NumberFormats",rn[rn.CurrencyCode=15]="CurrencyCode",rn[rn.CurrencySymbol=16]="CurrencySymbol",rn[rn.CurrencyName=17]="CurrencyName",rn[rn.Currencies=18]="Currencies",rn[rn.Directionality=19]="Directionality",rn[rn.PluralCase=20]="PluralCase",rn[rn.ExtraData=21]="ExtraData",rn))();const gd="en-US";let a_=gd;function Yp(e,t,n,o,a){if(e=se(e),Array.isArray(e))for(let d=0;d<e.length;d++)Yp(e[d],t,n,o,a);else{const d=M(),m=b();let C=au(e)?e:se(e.provide),A=$f(e);const k=be(),W=1048575&k.providerIndexes,Q=k.directiveStart,fe=k.providerIndexes>>20;if(au(e)||!e.multi){const Se=new X(A,a,_c),Ye=Qp(C,t,a?W:W+fe,Q);-1===Ye?(Yn(ea(k,m),d,C),qp(d,e,t.length),t.push(C),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Se),m.push(Se)):(n[Ye]=Se,m[Ye]=Se)}else{const Se=Qp(C,t,W+fe,Q),Ye=Qp(C,t,W,W+fe),St=Ye>=0&&n[Ye];if(a&&!St||!a&&!(Se>=0&&n[Se])){Yn(ea(k,m),d,C);const Ut=function EC(e,t,n,o,a){const d=new X(e,n,_c);return d.multi=[],d.index=t,d.componentProviders=0,O_(d,a,o&&!n),d}(a?vC:yC,n.length,a,o,A);!a&&St&&(n[Ye].providerFactory=Ut),qp(d,e,t.length,0),t.push(C),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Ut),m.push(Ut)}else qp(d,e,Se>-1?Se:Ye,O_(n[a?Ye:Se],A,!a&&o));!a&&o&&St&&n[Ye].componentProviders++}}}function qp(e,t,n,o){const a=au(t),d=function xd(e){return!!e.useClass}(t);if(a||d){const A=(d?se(t.useClass):t).prototype.ngOnDestroy;if(A){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const W=k.indexOf(n);-1===W?k.push(n,[o,A]):k[W+1].push(o,A)}else k.push(n,A)}}}function O_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qp(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function yC(e,t,n,o){return Jp(this.multi,[])}function vC(e,t,n,o){const a=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=An(n,n[ut],this.providerFactory.index,o);d=C.slice(0,m),Jp(a,d);for(let A=m;A<C.length;A++)d.push(C[A])}else d=[],Jp(a,d);return d}function Jp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function N_(e,t=[]){return n=>{n.providersResolver=(o,a)=>function _C(e,t,n){const o=M();if(o.firstCreatePass){const a=Ht(e);Yp(n,o.data,o.blueprint,a,!0),Yp(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}class md{}class x_{}function CC(e,t){return new k_(e,t??null)}class k_ extends md{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $g(this);const o=ir(t);this._bootstrapComponents=gl(o.bootstrap),this._r3Injector=Qh(t,n,[{provide:md,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],_e(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xp extends x_{constructor(t){super(),this.moduleType=t}create(t){return new k_(this.moduleType,t)}}class IC extends md{constructor(t,n,o){super(),this.componentFactoryResolver=new $g(this),this.instance=null;const a=new jf([...t,{provide:md,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],n||Ld(),o,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function eg(e,t,n=null){return new IC(e,t,n).injector}let DC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const o=Oh(0,n.type),a=o.length>0?eg([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=wt({token:e,providedIn:"environment",factory:()=>new e(yt(Nu))}),e})();function F_(e){e.getStandaloneInjector=t=>t.get(DC).getOrCreateStandaloneInjector(e)}function $_(e,t,n){const o=br()+e,a=b();return a[o]===hn?Fl(a,o,n?t.call(n):t()):function gh(e,t){return e[t]}(a,o)}function W_(e,t,n,o){return G_(b(),br(),e,t,n,o)}function Ih(e,t){const n=e[t];return n===hn?void 0:n}function G_(e,t,n,o,a,d){const m=t+n;return Cs(e,m,a)?Fl(e,m+1,d?o.call(d,a):o(a)):Ih(e,m+1)}function z_(e,t,n,o,a,d,m){const C=t+n;return function Ic(e,t,n,o){const a=Cs(e,t,n);return Cs(e,t+1,o)||a}(e,C,a,d)?Fl(e,C+2,m?o.call(m,a,d):o(a,d)):Ih(e,C+2)}function q_(e,t){const n=M();let o;const a=e+Vn;n.firstCreatePass?(o=function BC(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(a,o.onDestroy)):o=n.data[a];const d=o.factory||(o.factory=Mi(o.type)),m=nr(_c);try{const C=ha(!1),A=d();return ha(C),function Rv(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,b(),a,A),A}finally{nr(m)}}function Q_(e,t,n){const o=e+Vn,a=b(),d=xr(a,o);return Dh(a,o)?G_(a,br(),t,d.transform,n,d):d.transform(n)}function J_(e,t,n,o){const a=e+Vn,d=b(),m=xr(d,a);return Dh(d,a)?z_(d,br(),t,m.transform,n,o,m):m.transform(n,o)}function Dh(e,t){return e[ut].data[t].pure}function ng(e){return t=>{setTimeout(e,void 0,t)}}const Ul=class WC extends h.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){let a=t,d=n||(()=>null),m=o;if(t&&"object"==typeof t){const A=t;a=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=ng(d),a&&(a=ng(a)),m&&(m=ng(m)));const C=super.subscribe({next:a,error:d,complete:m});return t instanceof Z.w0&&t.add(C),C}};function GC(){return this._results[Symbol.iterator]()}class rg{get changes(){return this._changes||(this._changes=new Ul)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=rg.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const o=this;o.dirty=!1;const a=function Fr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Qa(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(n&&(a=n(a),d=n(d)),d!==a)return!1}return!0}(o._results,a,n))&&(o._results=a,o.length=a.length,o.last=a[this.length-1],o.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wh=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZC,e})();const zC=wh,KC=class extends zC{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t,n){const o=this._declarationTContainer.tView,a=oh(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,null,n||null);a[Xi]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[ii];return null!==m&&(a[ii]=m.createEmbeddedView(o)),Jc(o,a,t),new fh(a)}};function ZC(){return Af(be(),b())}function Af(e,t){return 4&e.type?new KC(t,e,ku(e,t)):null}let Mf=(()=>{class e{}return e.__NG_ELEMENT_ID__=YC,e})();function YC(){return ty(be(),b())}const qC=Mf,X_=class extends qC{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const t=fa(this._hostTNode,this._hostLView);if(zr(t)){const n=Kr(t,this._hostLView),o=_i(t);return new No(n[ut].data[o+8],n)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ey(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Kn}createEmbeddedView(t,n,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const m=t.createEmbeddedView(n||{},d);return this.insert(m,a),m}createComponent(t,n,o,a,d){const m=t&&!function Ko(e){return"function"==typeof e}(t);let C;if(m)C=n;else{const Q=n||{};C=Q.index,o=Q.injector,a=Q.projectableNodes,d=Q.environmentInjector||Q.ngModuleRef}const A=m?t:new ph(Mt(t)),k=o||this.parentInjector;if(!d&&null==A.ngModule){const fe=(m?k:this.parentInjector).get(Nu,null);fe&&(d=fe)}const W=A.create(k,a,void 0,d);return this.insert(W.hostView,C),W}insert(t,n){const o=t._lView,a=o[ut];if(function Er(e){return oi(e[En])}(o)){const W=this.indexOf(t);if(-1!==W)this.detach(W);else{const Q=o[En],fe=new X_(Q,Q[or],Q[En]);fe.detach(fe.indexOf(t))}}const d=this._adjustIndex(n),m=this._lContainer;!function Ua(e,t,n,o){const a=Kn+o,d=n.length;o>0&&(n[a-1][Ar]=t),o<d-Kn?(t[Ar]=n[a],Ja(n,Kn+o,t)):(n.push(t),t[Ar]=null),t[En]=n;const m=t[Xi];null!==m&&n!==m&&function Mc(e,t){const n=e[Wt];t[vn]!==t[En][En][vn]&&(e[Uo]=!0),null===n?e[Wt]=[t]:n.push(t)}(m,t);const C=t[ii];null!==C&&C.insertView(e),t[Gt]|=64}(a,o,m,d);const C=Pl(d,m),A=o[qt],k=qi(A,m[dn]);return null!==k&&function al(e,t,n,o,a,d){o[ri]=a,o[or]=t,tu(e,o,n,1,a,d)}(a,m[or],A,o,k,C),t.attachToViewContainerRef(),Ja(ig(m),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ey(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=ll(this._lContainer,n);o&&(Ni(ig(this._lContainer),n),Iu(o[ut],o))}detach(t){const n=this._adjustIndex(t,-1),o=ll(this._lContainer,n);return o&&null!=Ni(ig(this._lContainer),n)?new fh(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function ey(e){return e[nn]}function ig(e){return e[nn]||(e[nn]=[])}function ty(e,t){let n;const o=t[e.index];if(oi(o))n=o;else{let a;if(8&e.type)a=sr(o);else{const d=t[qt];a=d.createComment("");const m=Nr(e,t);ul(d,qi(d,m),a,function wu(e,t){return e.nextSibling(t)}(d,m),!1)}t[e.index]=n=u(o,t,a,e),ke(t,n)}return new X_(n,e,t)}class og{constructor(t){this.queryList=t,this.matches=null}clone(){return new og(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let d=0;d<o;d++){const m=n.getByIndex(d);a.push(this.queries[m.indexInDeclarationView].clone())}return new sg(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==uy(t,n).matches&&this.queries[n].setDirty()}}class ny{constructor(t,n,o=null){this.predicate=t,this.flags=n,this.read=o}}class ag{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const a=null!==n?n.length:0,d=this.getByIndex(o).embeddedTView(t,a);d&&(d.indexInDeclarationView=o,null!==n?n.push(d):n=[d])}return null!==n?new ag(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new lg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(t,n,QC(n,d)),this.matchTNodeWithReadOption(t,n,Ns(n,t,d,!1,!1))}else o===wh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ns(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===uc||a===Mf||a===wh&&4&n.type)this.addMatch(n.index,-2);else{const d=Ns(n,t,a,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function QC(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function XC(e,t,n,o){return-1===n?function JC(e,t){return 11&e.type?ku(e,t):4&e.type?Af(e,t):null}(t,e):-2===n?function e0(e,t,n){return n===uc?ku(t,e):n===wh?Af(t,e):n===Mf?ty(t,e):void 0}(e,t,o):An(e,e[ut],n,t)}function ry(e,t,n,o){const a=t[ii].queries[o];if(null===a.matches){const d=e.data,m=n.matches,C=[];for(let A=0;A<m.length;A+=2){const k=m[A];C.push(k<0?null:XC(t,d[k],m[A+1],n.metadata.read))}a.matches=C}return a.matches}function ug(e,t,n,o){const a=e.queries.getByIndex(n),d=a.matches;if(null!==d){const m=ry(e,t,a,n);for(let C=0;C<d.length;C+=2){const A=d[C];if(A>0)o.push(m[C/2]);else{const k=d[C+1],W=t[-A];for(let Q=Kn;Q<W.length;Q++){const fe=W[Q];fe[Xi]===fe[En]&&ug(fe[ut],fe,k,o)}if(null!==W[Wt]){const Q=W[Wt];for(let fe=0;fe<Q.length;fe++){const Se=Q[fe];ug(Se[ut],Se,k,o)}}}}}return o}function iy(e){const t=b(),n=M(),o=Ds();ls(o+1);const a=uy(n,o);if(e.dirty&&function ro(e){return 4==(4&e[Gt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?ug(n,t,o,[]):ry(n,t,a,o);e.reset(d,Zf),e.notifyOnChanges()}return!0}return!1}function oy(e,t,n,o){const a=M();if(a.firstCreatePass){const d=be();(function ly(e,t,n){null===e.queries&&(e.queries=new ag),e.queries.track(new lg(t,n))})(a,new ny(t,n,o),d.index),function r0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function ay(e,t,n){const o=new rg(4==(4&n));af(e,t,o,o.destroy),null===t[ii]&&(t[ii]=new sg),t[ii].queries.push(new og(o))}(a,b(),n)}function sy(){return function n0(e,t){return e[ii].queries[t].queryList}(b(),Ds())}function uy(e,t){return e.queries.getByIndex(t)}function cy(e,t){return Af(e,t)}function cg(e){return!!ir(e)}function Pf(...e){}const Ay=new er("Application Initializer");let Of=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Pf,this.reject=Pf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if(Fp(d))n.push(d);else if(um(d)){const m=new Promise((C,A)=>{d.subscribe({complete:C,error:A})});n.push(m)}}Promise.all(n).then(()=>{o()}).catch(a=>{this.reject(a)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(yt(Ay,8))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const My=new er("AppId",{providedIn:"root",factory:function Ry(){return`${gg()}${gg()}${gg()}`}});function gg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Py=new er("Platform Initializer"),w0=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let b0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Nf=new er("LocaleId",{providedIn:"root",factory:()=>Jn(Nf,Dt.Optional|Dt.SkipSelf)||function T0(){return typeof $localize<"u"&&$localize.locale||gd}()}),S0=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class A0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let M0=(()=>{class e{compileModuleSync(n){return new Xp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),d=gl(ir(n).declarations).reduce((m,C)=>{const A=Mt(C);return A&&m.push(new ph(A)),m},[]);return new A0(o,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const O0=(()=>Promise.resolve(0))();function mg(e){typeof Zone>"u"?O0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ul(!1),this.onMicrotaskEmpty=new Ul(!1),this.onStable=new Ul(!1),this.onError=new Ul(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&n,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function N0(){let e=un.requestAnimationFrame,t=un.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function F0(e){const t=()=>{!function k0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(un,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yg(e),e.isCheckStableRunning=!0,_g(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,a,d,m,C)=>{try{return xy(e),n.invokeTask(a,d,m,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),ky(e)}},onInvoke:(n,o,a,d,m,C,A)=>{try{return xy(e),n.invoke(a,d,m,C,A)}finally{e.shouldCoalesceRunChangeDetection&&t(),ky(e)}},onHasTask:(n,o,a,d)=>{n.hasTask(a,d),o===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,yg(e),_g(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,o,a,d)=>(n.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wa.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Wa.isInAngularZone())throw new Ae(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+a,t,x0,Pf,Pf);try{return d.runTask(m,n,o)}finally{d.cancelTask(m)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const x0={};function _g(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ky(e){e._nesting--,_g(e)}class L0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ul,this.onMicrotaskEmpty=new Ul,this.onStable=new Ul,this.onError=new Ul}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,a){return t.apply(n,o)}}const Fy=new er(""),Ly=new er("");let vg,V0=(()=>{class e{constructor(n,o,a){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vg||(function U0(e){vg=e}(a),a.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wa.assertNotInAngularZone(),mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:a})}whenStable(n,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(yt(Wa),yt(Vy),yt(Ly))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})(),Vy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return vg?.findTestabilityInTree(this,n,o)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const uu=!1;let Vu=null;const Uy=new er("AllowMultipleToken"),Eg=new er("PlatformDestroyListeners"),By=new er("appBootstrapListener");class j0{constructor(t,n){this.name=t,this.token=n}}function jy(e,t,n=[]){const o=`Platform: ${t}`,a=new er(o);return(d=[])=>{let m=Cg();if(!m||m.injector.get(Uy,!1)){const C=[...n,...d,{provide:a,useValue:!0}];e?e(C):function $0(e){if(Vu&&!Vu.get(Uy,!1))throw new Ae(400,!1);Vu=e;const t=e.get(Wy);(function Hy(e){const t=e.get(Py,null);t&&t.forEach(n=>n())})(e)}(function $y(e=[],t){return Ba.create({name:t,providers:[{provide:kh,useValue:"platform"},{provide:Eg,useValue:new Set([()=>Vu=null])},...e]})}(C,o))}return function G0(e){const t=Cg();if(!t)throw new Ae(401,!1);return t}()}}function Cg(){return Vu?.get(Wy)??null}let Wy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const a=function zy(e,t){let n;return n="noop"===e?new L0:("zone.js"===e?void 0:e)||new Wa(t),n}(o?.ngZone,function Gy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(o)),d=[{provide:Wa,useValue:a}];return a.run(()=>{const m=Ba.create({providers:d,parent:this.injector,name:n.moduleType.name}),C=n.create(m),A=C.injector.get(fc,null);if(!A)throw new Ae(402,!1);return a.runOutsideAngular(()=>{const k=a.onError.subscribe({next:W=>{A.handleError(W)}});C.onDestroy(()=>{kf(this._modules,C),k.unsubscribe()})}),function Ky(e,t,n){try{const o=n();return Fp(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(A,a,()=>{const k=C.injector.get(Of);return k.runInitializers(),k.donePromise.then(()=>(function l_(e){Me(e,"Expected localeId to be defined"),"string"==typeof e&&(a_=e.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Nf,gd)||gd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(n,o=[]){const a=Zy({},o);return function B0(e,t,n){const o=new Xp(n);return Promise.resolve(o)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(n){const o=n.injector.get(xf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>o.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Ae(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Eg,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(yt(Ba))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Zy(e,t){return Array.isArray(t)?t.reduce(Zy,e):{...e,...t}}let xf=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,o,a){this._zone=n,this._injector=o,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new U.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new U.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Wa.assertNotInAngularZone(),mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(d,m.pipe((0,ae.B)()))}bootstrap(n,o){const a=n instanceof lc;if(!this._injector.get(Of).done){!a&&hr(n);throw new Ae(405,uu)}let m;m=a?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(m.componentType);const C=function H0(e){return e.isBoundToModule}(m)?void 0:this._injector.get(md),k=m.create(Ba.NULL,[],o||m.selector,C),W=k.location.nativeElement,Q=k.injector.get(Fy,null);return Q?.registerApplication(W),k.onDestroy(()=>{this.detachView(k.hostView),kf(this.components,k),Q?.unregisterApplication(W)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;kf(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(By,[]);o.push(...this._bootstrapListeners),o.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>kf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ae(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(yt(Wa),yt(Nu),yt(fc))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function K0(){return!1}let Z0=(()=>{class e{}return e.__NG_ELEMENT_ID__=Y0,e})();function Y0(e){return function q0(e,t,n){if(eo(e)&&!n){const o=vr(e.index,t);return new fh(o,o)}return 47&e.type?new fh(t[vn],t):null}(be(),b(),16==(16&e))}class Xy{constructor(){}supports(t){return _f(t)}create(t){return new nI(t)}}const tI=(e,t)=>t;class nI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,d=null;for(;n||o;){const m=!o||n&&n.currentIndex<tv(o,a,d)?n:o,C=tv(m,a,d),A=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(n=n._next,null==m.previousIndex)a++;else{d||(d=[]);const k=C-a,W=A-a;if(k!=W){for(let fe=0;fe<k;fe++){const Se=fe<d.length?d[fe]:d[fe]=0,Ye=Se+fe;W<=Ye&&Ye<k&&(d[fe]=Se+1)}d[m.previousIndex]=W-k}}C!==A&&t(m,C,A)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!_f(t))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,m,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)d=t[C],m=this._trackByFn(C,d),null!==n&&Object.is(n.trackById,m)?(o&&(n=this._verifyReinsertion(n,d,m,C)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,m,C),o=!0),n=n._next}else a=0,function Tv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,C=>{m=this._trackByFn(a,C),null!==n&&Object.is(n.trackById,m)?(o&&(n=this._verifyReinsertion(n,C,m,a)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,m,a),o=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,a)):t=this._addAfter(new rI(n,o),d,a),t}_verifyReinsertion(t,n,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new ev),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ev),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rI{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class ev{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new iI,this.map.set(n,o)),o.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tv(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class nv{constructor(){}supports(t){return t instanceof Map||Mp(t)}create(){return new oI}}class oI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Mp(t)))throw new Ae(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const d=a._prev,m=a._next;return d&&(d._next=m),m&&(m._prev=d),a._next=null,a._prev=null,a}const o=new sI(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class sI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rv(){return new Tg([new Xy])}let Tg=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(null!=o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||rv()),deps:[[e,new so,new an]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(null!=o)return o;throw new Ae(901,!1)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:rv}),e})();function iv(){return new Sg([new nv])}let Sg=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||iv()),deps:[[e,new so,new an]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(o)return o;throw new Ae(901,!1)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:iv}),e})();const uI=jy(null,"core",[]);let cI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(yt(xf))},e.\u0275mod=Ce({type:e}),e.\u0275inj=at({}),e})();function dI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},433:(vt,Pe,V)=>{V.d(Pe,{Wl:()=>Ae,Fj:()=>ze,NI:()=>vn,oH:()=>fi,u5:()=>da,JJ:()=>un,On:()=>Wt,YN:()=>sn,UX:()=>fo,EJ:()=>Dr,Kr:()=>wr});var h=V(4650),Z=V(6895),U=V(8996),le=V(9751),ae=V(4742),ue=V(8421),me=V(3269),_e=V(5403),ve=V(3268),te=V(1810),se=V(4004);let et=(()=>{class b{constructor(R,G){this._renderer=R,this._elementRef=G,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(R,G){this._renderer.setProperty(this._elementRef.nativeElement,R,G)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return b.\u0275fac=function(R){return new(R||b)(h.Y36(h.Qsj),h.Y36(h.SBq))},b.\u0275dir=h.lG2({type:b}),b})(),Ge=(()=>{class b extends et{}return b.\u0275fac=function(){let M;return function(G){return(M||(M=h.n5z(b)))(G||b)}}(),b.\u0275dir=h.lG2({type:b,features:[h.qOj]}),b})();const tt=new h.OlP("NgValueAccessor"),Et={provide:tt,useExisting:(0,h.Gpc)(()=>Ae),multi:!0};let Ae=(()=>{class b extends Ge{writeValue(R){this.setProperty("checked",R)}}return b.\u0275fac=function(){let M;return function(G){return(M||(M=h.n5z(b)))(G||b)}}(),b.\u0275dir=h.lG2({type:b,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(R,G){1&R&&h.NdJ("change",function(At){return G.onChange(At.target.checked)})("blur",function(){return G.onTouched()})},features:[h._Bn([Et]),h.qOj]}),b})();const qe={provide:tt,useExisting:(0,h.Gpc)(()=>ze),multi:!0},Je=new h.OlP("CompositionEventMode");let ze=(()=>{class b extends et{constructor(R,G,be){super(R,G),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const b=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(b.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return b.\u0275fac=function(R){return new(R||b)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Je,8))},b.\u0275dir=h.lG2({type:b,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,G){1&R&&h.NdJ("input",function(At){return G._handleInput(At.target.value)})("blur",function(){return G.onTouched()})("compositionstart",function(){return G._compositionStart()})("compositionend",function(At){return G._compositionEnd(At.target.value)})},features:[h._Bn([qe]),h.qOj]}),b})();const Le=!1,We=new h.OlP("NgValidators"),st=new h.OlP("NgAsyncValidators");function Me(b){return null!=b}function we(b){const M=(0,h.QGY)(b)?(0,U.D)(b):b;if(Le&&!(0,h.CqO)(M)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof b&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,R)}return M}function Ve(b){let M={};return b.forEach(R=>{M=null!=R?{...M,...R}:M}),0===Object.keys(M).length?null:M}function $e(b,M){return M.map(R=>R(b))}function wt(b){return b.map(M=>function It(b){return!b.validate}(M)?M:R=>M.validate(R))}function at(b){return null!=b?function fn(b){if(!b)return null;const M=b.filter(Me);return 0==M.length?null:function(R){return Ve($e(R,M))}}(wt(b)):null}function In(b){return null!=b?function Qt(b){if(!b)return null;const M=b.filter(Me);return 0==M.length?null:function(R){return function ne(...b){const M=(0,me.jO)(b),{args:R,keys:G}=(0,ae.D)(b),be=new le.y(At=>{const{length:Tn}=R;if(!Tn)return void At.complete();const Bn=new Array(Tn);let po=Tn,Zi=Tn;for(let go=0;go<Tn;go++){let li=!1;(0,ue.Xf)(R[go]).subscribe((0,_e.x)(At,Ii=>{li||(li=!0,Zi--),Bn[go]=Ii},()=>po--,void 0,()=>{(!po||!li)&&(Zi||At.next(G?(0,te.n)(G,Bn):Bn),At.complete())}))}});return M?be.pipe((0,ve.Z)(M)):be}($e(R,M).map(we)).pipe((0,se.U)(Ve))}}(wt(b)):null}function qn(b,M){return null===b?[M]:Array.isArray(b)?[...b,M]:[b,M]}function Lt(b){return b._rawValidators}function Ln(b){return b._rawAsyncValidators}function _t(b){return b?Array.isArray(b)?b:[b]:[]}function Fn(b,M){return Array.isArray(b)?b.includes(M):b===M}function jn(b,M){const R=_t(M);return _t(b).forEach(be=>{Fn(R,be)||R.push(be)}),R}function gn(b,M){return _t(M).filter(R=>!Fn(b,R))}class Dt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,R){return!!this.control&&this.control.hasError(M,R)}getError(M,R){return this.control?this.control.getError(M,R):null}}class Dn extends Dt{get formDirective(){return null}get path(){return null}}class $n extends Dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let un=(()=>{class b extends nr{constructor(R){super(R)}}return b.\u0275fac=function(R){return new(R||b)(h.Y36($n,2))},b.\u0275dir=h.lG2({type:b,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,G){2&R&&h.ekj("ng-untouched",G.isUntouched)("ng-touched",G.isTouched)("ng-pristine",G.isPristine)("ng-dirty",G.isDirty)("ng-valid",G.isValid)("ng-invalid",G.isInvalid)("ng-pending",G.isPending)},features:[h.qOj]}),b})();const cr="VALID",dr="INVALID",re="PENDING",J="DISABLED";function he(b){return null!=b&&!Array.isArray(b)&&"object"==typeof b}class ye{constructor(M,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===cr}get invalid(){return this.status===dr}get pending(){return this.status==re}get disabled(){return this.status===J}get enabled(){return this.status!==J}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(jn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(jn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(gn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(gn(M,this._rawAsyncValidators))}hasValidator(M){return Fn(this._rawValidators,M)}hasAsyncValidator(M){return Fn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=re,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=J,this.errors=null,this._forEachChild(G=>{G.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:R}),this._onDisabledChange.forEach(G=>G(!0))}enable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=cr,this._forEachChild(G=>{G.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:R}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cr||this.status===re)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J:cr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=re,this._hasOwnPendingAsyncValidator=!0;const R=we(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,R={}){this.errors=M,this._updateControlsErrors(!1!==R.emitEvent)}get(M){let R=M;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((G,be)=>G&&G._find(be),this)}getError(M,R){const G=R?this.get(R):this;return G&&G.errors?G.errors[M]:null}hasError(M,R){return!!this.getError(M,R)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?J:this.errors?dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(re)?re:this._anyControlsHaveStatus(dr)?dr:cr}_anyControlsHaveStatus(M){return this._anyControls(R=>R.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){he(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function je(b){return Array.isArray(b)?at(b):b||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function nt(b){return Array.isArray(b)?In(b):b||null}(this._rawAsyncValidators)}}const ni=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xe}),xe="always";function Qe(b,M,R=xe){(function Mt(b,M){const R=Lt(b);null!==M.validator?b.setValidators(qn(R,M.validator)):"function"==typeof R&&b.setValidators([R]);const G=Ln(b);null!==M.asyncValidator?b.setAsyncValidators(qn(G,M.asyncValidator)):"function"==typeof G&&b.setAsyncValidators([G]);const be=()=>b.updateValueAndValidity();Vt(M._rawValidators,be),Vt(M._rawAsyncValidators,be)})(b,M),M.valueAccessor.writeValue(b.value),(b.disabled||"always"===R)&&M.valueAccessor.setDisabledState?.(b.disabled),function cn(b,M){M.valueAccessor.registerOnChange(R=>{b._pendingValue=R,b._pendingChange=!0,b._pendingDirty=!0,"change"===b.updateOn&&ir(b,M)})}(b,M),function Ji(b,M){const R=(G,be)=>{M.valueAccessor.writeValue(G),be&&M.viewToModelUpdate(G)};b.registerOnChange(R),M._registerOnDestroy(()=>{b._unregisterOnChange(R)})}(b,M),function hr(b,M){M.valueAccessor.registerOnTouched(()=>{b._pendingTouched=!0,"blur"===b.updateOn&&b._pendingChange&&ir(b,M),"submit"!==b.updateOn&&b.markAsTouched()})}(b,M),function Zt(b,M){if(M.valueAccessor.setDisabledState){const R=G=>{M.valueAccessor.setDisabledState(G)};b.registerOnDisabledChange(R),M._registerOnDestroy(()=>{b._unregisterOnDisabledChange(R)})}}(b,M)}function bt(b,M,R=!0){const G=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(G),M.valueAccessor.registerOnTouched(G)),function pn(b,M){let R=!1;if(null!==b){if(null!==M.validator){const be=Lt(b);if(Array.isArray(be)&&be.length>0){const At=be.filter(Tn=>Tn!==M.validator);At.length!==be.length&&(R=!0,b.setValidators(At))}}if(null!==M.asyncValidator){const be=Ln(b);if(Array.isArray(be)&&be.length>0){const At=be.filter(Tn=>Tn!==M.asyncValidator);At.length!==be.length&&(R=!0,b.setAsyncValidators(At))}}}const G=()=>{};return Vt(M._rawValidators,G),Vt(M._rawAsyncValidators,G),R}(b,M),b&&(M._invokeOnDestroyCallbacks(),b._registerOnCollectionChange(()=>{}))}function Vt(b,M){b.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(M)})}function ir(b,M){b._pendingDirty&&b.markAsDirty(),b.setValue(b._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(b._pendingValue),b._pendingChange=!1}function Cn(b,M){if(!b.hasOwnProperty("model"))return!1;const R=b.model;return!!R.isFirstChange()||!Object.is(M,R.currentValue)}function Gn(b,M){if(!M)return null;let R,G,be;return Array.isArray(M),M.forEach(At=>{At.constructor===ze?R=At:function or(b){return Object.getPrototypeOf(b.constructor)===Ge}(At)?G=At:be=At}),be||G||R||null}function Si(b,M){const R=b.indexOf(M);R>-1&&b.splice(R,1)}function hi(b){return"object"==typeof b&&null!==b&&2===Object.keys(b).length&&"value"in b&&"disabled"in b}const vn=class extends ye{constructor(M=null,R,G){super(function de(b){return(he(b)?b.validators:b)||null}(R),function Ee(b,M){return(he(M)?M.asyncValidators:b)||null}(G,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),he(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=hi(M)?M.value:M)}setValue(M,R={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(M,R={}){this.setValue(M,R)}reset(M=this.defaultValue,R={}){this._applyFormState(M),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Si(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Si(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){hi(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},dn={provide:$n,useExisting:(0,h.Gpc)(()=>Wt)},nn=(()=>Promise.resolve())();let Wt=(()=>{class b extends $n{constructor(R,G,be,At,Tn,Bn){super(),this._changeDetectorRef=Tn,this.callSetDisabledState=Bn,this.control=new vn,this._registered=!1,this.update=new h.vpe,this._parent=R,this._setValidators(G),this._setAsyncValidators(be),this.valueAccessor=Gn(0,At)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const G=R.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),Cn(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){nn.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const G=R.isDisabled.currentValue,be=0!==G&&(0,h.D6c)(G);nn.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?function Ce(b,M){return[...M.path,b]}(R,this._parent):[R]}}return b.\u0275fac=function(R){return new(R||b)(h.Y36(Dn,9),h.Y36(We,10),h.Y36(st,10),h.Y36(tt,10),h.Y36(h.sBO,8),h.Y36(ni,8))},b.\u0275dir=h.lG2({type:b,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([dn]),h.qOj,h.TTD]}),b})(),eo=(()=>{class b{}return b.\u0275fac=function(R){return new(R||b)},b.\u0275mod=h.oAB({type:b}),b.\u0275inj=h.cJS({}),b})();const co=new h.OlP("NgModelWithFormControlWarning"),si={provide:$n,useExisting:(0,h.Gpc)(()=>fi)};let fi=(()=>{class b extends $n{set isDisabled(R){}constructor(R,G,be,At,Tn){super(),this._ngModelWarningConfig=At,this.callSetDisabledState=Tn,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(R),this._setAsyncValidators(G),this.valueAccessor=Gn(0,be)}ngOnChanges(R){if(this._isControlChanged(R)){const G=R.form.previousValue;G&&bt(G,this,!1),Qe(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Cn(R,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_isControlChanged(R){return R.hasOwnProperty("form")}}return b._ngModelWarningSentOnce=!1,b.\u0275fac=function(R){return new(R||b)(h.Y36(We,10),h.Y36(st,10),h.Y36(tt,10),h.Y36(co,8),h.Y36(ni,8))},b.\u0275dir=h.lG2({type:b,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([si]),h.qOj,h.TTD]}),b})();const pi={provide:tt,useExisting:(0,h.Gpc)(()=>Dr),multi:!0};function ns(b,M){return null==b?`${M}`:(M&&"object"==typeof M&&(M="Object"),`${b}: ${M}`.slice(0,50))}let Dr=(()=>{class b extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const be=ns(this._getOptionId(R),R);this.setProperty("value",be)}registerOnChange(R){this.onChange=G=>{this.value=this._getOptionValue(G),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const G of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(G),R))return G;return null}_getOptionValue(R){const G=function rs(b){return b.split(":")[0]}(R);return this._optionMap.has(G)?this._optionMap.get(G):R}}return b.\u0275fac=function(){let M;return function(G){return(M||(M=h.n5z(b)))(G||b)}}(),b.\u0275dir=h.lG2({type:b,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(R,G){1&R&&h.NdJ("change",function(At){return G.onChange(At.target.value)})("blur",function(){return G.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([pi]),h.qOj]}),b})(),sn=(()=>{class b{constructor(R,G,be){this._element=R,this._renderer=G,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(ns(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return b.\u0275fac=function(R){return new(R||b)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Dr,9))},b.\u0275dir=h.lG2({type:b,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),b})();const is={provide:tt,useExisting:(0,h.Gpc)(()=>Li),multi:!0};function Pr(b,M){return null==b?`${M}`:("string"==typeof M&&(M=`'${M}'`),M&&"object"==typeof M&&(M="Object"),`${b}: ${M}`.slice(0,50))}let Li=(()=>{class b extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let G;if(this.value=R,Array.isArray(R)){const be=R.map(At=>this._getOptionId(At));G=(At,Tn)=>{At._setSelected(be.indexOf(Tn.toString())>-1)}}else G=(be,At)=>{be._setSelected(!1)};this._optionMap.forEach(G)}registerOnChange(R){this.onChange=G=>{const be=[],At=G.selectedOptions;if(void 0!==At){const Tn=At;for(let Bn=0;Bn<Tn.length;Bn++){const Zi=this._getOptionValue(Tn[Bn].value);be.push(Zi)}}else{const Tn=G.options;for(let Bn=0;Bn<Tn.length;Bn++){const po=Tn[Bn];if(po.selected){const Zi=this._getOptionValue(po.value);be.push(Zi)}}}this.value=be,R(be)}}_registerOption(R){const G=(this._idCounter++).toString();return this._optionMap.set(G,R),G}_getOptionId(R){for(const G of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(G)._value,R))return G;return null}_getOptionValue(R){const G=function Mi(b){return b.split(":")[0]}(R);return this._optionMap.has(G)?this._optionMap.get(G)._value:R}}return b.\u0275fac=function(){let M;return function(G){return(M||(M=h.n5z(b)))(G||b)}}(),b.\u0275dir=h.lG2({type:b,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(R,G){1&R&&h.NdJ("change",function(At){return G.onChange(At.target)})("blur",function(){return G.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([is]),h.qOj]}),b})(),wr=(()=>{class b{constructor(R,G,be){this._element=R,this._renderer=G,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(Pr(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(Pr(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return b.\u0275fac=function(R){return new(R||b)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Li,9))},b.\u0275dir=h.lG2({type:b,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),b})(),Wr=(()=>{class b{}return b.\u0275fac=function(R){return new(R||b)},b.\u0275mod=h.oAB({type:b}),b.\u0275inj=h.cJS({imports:[eo]}),b})(),da=(()=>{class b{static withConfig(R){return{ngModule:b,providers:[{provide:ni,useValue:R.callSetDisabledState??xe}]}}}return b.\u0275fac=function(R){return new(R||b)},b.\u0275mod=h.oAB({type:b}),b.\u0275inj=h.cJS({imports:[Wr]}),b})(),fo=(()=>{class b{static withConfig(R){return{ngModule:b,providers:[{provide:co,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:ni,useValue:R.callSetDisabledState??xe}]}}}return b.\u0275fac=function(R){return new(R||b)},b.\u0275mod=h.oAB({type:b}),b.\u0275inj=h.cJS({imports:[Wr]}),b})()},1481:(vt,Pe,V)=>{V.d(Pe,{Dx:()=>jt,b2:()=>$n,q6:()=>jn});var h=V(6895),Z=V(4650);class U extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends U{static makeCurrent(){(0,h.HT)(new le)}onAndCancel(ie,q,ye){return ie.addEventListener(q,ye,!1),()=>{ie.removeEventListener(q,ye,!1)}}dispatchEvent(ie,q){ie.dispatchEvent(q)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,q){return(q=q||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,q){return"window"===q?window:"document"===q?ie:"body"===q?ie.body:null}getBaseHref(ie){const q=function ue(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==q?null:function _e(he){me=me||document.createElement("a"),me.setAttribute("href",he);const ie=me.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(q)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,h.Mx)(document.cookie,ie)}}let me,ae=null;const ve=new Z.OlP("TRANSITION_ID"),ne=[{provide:Z.ip1,useFactory:function te(he,ie,q){return()=>{q.get(Z.CZH).donePromise.then(()=>{const ye=(0,h.q)(),Ue=ie.querySelectorAll(`style[ng-transition="${he}"]`);for(let Xe=0;Xe<Ue.length;Xe++)ye.remove(Ue[Xe])})}},deps:[ve,h.K0,Z.zs3],multi:!0}];let et=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(q){return new(q||he)},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();const Ge=new Z.OlP("EventManagerPlugins");let tt=(()=>{class he{constructor(q,ye){this._zone=ye,this._eventNameToPlugin=new Map,q.forEach(Ue=>{Ue.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,ye,Ue){return this._findPluginFor(ye).addEventListener(q,ye,Ue)}addGlobalEventListener(q,ye,Ue){return this._findPluginFor(ye).addGlobalEventListener(q,ye,Ue)}getZone(){return this._zone}_findPluginFor(q){const ye=this._eventNameToPlugin.get(q);if(ye)return ye;const Ue=this._plugins;for(let Xe=0;Xe<Ue.length;Xe++){const Ft=Ue[Xe];if(Ft.supports(q))return this._eventNameToPlugin.set(q,Ft),Ft}throw new Error(`No event manager plugin found for event ${q}`)}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(Ge),Z.LFG(Z.R0b))},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();class Et{constructor(ie){this._doc=ie}addGlobalEventListener(ie,q,ye){const Ue=(0,h.q)().getGlobalEventTarget(this._doc,ie);if(!Ue)throw new Error(`Unsupported event target ${Ue} for event ${q}`);return this.addEventListener(Ue,q,ye)}}let Ae=(()=>{class he{constructor(){this.usageCount=new Map}addStyles(q){for(const ye of q)1===this.changeUsageCount(ye,1)&&this.onStyleAdded(ye)}removeStyles(q){for(const ye of q)0===this.changeUsageCount(ye,-1)&&this.onStyleRemoved(ye)}onStyleRemoved(q){}onStyleAdded(q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(q,ye){const Ue=this.usageCount;let Xe=Ue.get(q)??0;return Xe+=ye,Xe>0?Ue.set(q,Xe):Ue.delete(q),Xe}ngOnDestroy(){for(const q of this.getAllStyles())this.onStyleRemoved(q);this.usageCount.clear()}}return he.\u0275fac=function(q){return new(q||he)},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})(),qe=(()=>{class he extends Ae{constructor(q){super(),this.doc=q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(q){for(const ye of this.hostNodes)this.addStyleToHost(ye,q)}onStyleRemoved(q){const ye=this.styleRef;ye.get(q)?.forEach(Xe=>Xe.remove()),ye.delete(q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const ye of this.getAllStyles())this.addStyleToHost(q,ye)}removeHost(q){this.hostNodes.delete(q)}addStyleToHost(q,ye){const Ue=this.doc.createElement("style");Ue.textContent=ye,q.appendChild(Ue);const Xe=this.styleRef.get(ye);Xe?Xe.push(Ue):this.styleRef.set(ye,[Ue])}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(h.K0))},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();const Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g,st=new Z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mt(he,ie){return ie.flat(100).map(q=>q.replace(Je,he))}function $t(he){return ie=>{if("__ngUnwrap__"===ie)return he;!1===he(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let ft=(()=>{class he{constructor(q,ye,Ue,Xe){this.eventManager=q,this.sharedStylesHost=ye,this.appId=Ue,this.removeStylesOnCompDestory=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Kt(q)}createRenderer(q,ye){if(!q||!ye)return this.defaultRenderer;const Ue=this.getOrCreateRenderer(q,ye);return Ue instanceof Me?Ue.applyToHost(q):Ue instanceof Te&&Ue.applyStyles(),Ue}getOrCreateRenderer(q,ye){const Ue=this.rendererByCompId;let Xe=Ue.get(ye.id);if(!Xe){const Ft=this.eventManager,wn=this.sharedStylesHost,Wn=this.removeStylesOnCompDestory;switch(ye.encapsulation){case Z.ifc.Emulated:Xe=new Me(Ft,wn,ye,this.appId,Wn);break;case Z.ifc.ShadowDom:return new De(Ft,wn,q,ye);default:Xe=new Te(Ft,wn,ye,Wn)}Xe.onDestroy=()=>Ue.delete(ye.id),Ue.set(ye.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(tt),Z.LFG(qe),Z.LFG(Z.AFp),Z.LFG(st))},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();class Kt{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,q){return q?document.createElementNS(Oe[q]||q,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,q){(Xr(ie)?ie.content:ie).appendChild(q)}insertBefore(ie,q,ye){ie&&(Xr(ie)?ie.content:ie).insertBefore(q,ye)}removeChild(ie,q){ie&&ie.removeChild(q)}selectRootElement(ie,q){let ye="string"==typeof ie?document.querySelector(ie):ie;if(!ye)throw new Error(`The selector "${ie}" did not match any elements`);return q||(ye.textContent=""),ye}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,q,ye,Ue){if(Ue){q=Ue+":"+q;const Xe=Oe[Ue];Xe?ie.setAttributeNS(Xe,q,ye):ie.setAttribute(q,ye)}else ie.setAttribute(q,ye)}removeAttribute(ie,q,ye){if(ye){const Ue=Oe[ye];Ue?ie.removeAttributeNS(Ue,q):ie.removeAttribute(`${ye}:${q}`)}else ie.removeAttribute(q)}addClass(ie,q){ie.classList.add(q)}removeClass(ie,q){ie.classList.remove(q)}setStyle(ie,q,ye,Ue){Ue&(Z.JOm.DashCase|Z.JOm.Important)?ie.style.setProperty(q,ye,Ue&Z.JOm.Important?"important":""):ie.style[q]=ye}removeStyle(ie,q,ye){ye&Z.JOm.DashCase?ie.style.removeProperty(q):ie.style[q]=""}setProperty(ie,q,ye){ie[q]=ye}setValue(ie,q){ie.nodeValue=q}listen(ie,q,ye){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,q,$t(ye)):this.eventManager.addEventListener(ie,q,$t(ye))}}function Xr(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class De extends Kt{constructor(ie,q,ye,Ue){super(ie),this.sharedStylesHost=q,this.hostEl=ye,this.shadowRoot=ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xe=mt(Ue.id,Ue.styles);for(const Ft of Xe){const wn=document.createElement("style");wn.textContent=Ft,this.shadowRoot.appendChild(wn)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,q){return super.appendChild(this.nodeOrShadowRoot(ie),q)}insertBefore(ie,q,ye){return super.insertBefore(this.nodeOrShadowRoot(ie),q,ye)}removeChild(ie,q){return super.removeChild(this.nodeOrShadowRoot(ie),q)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Te extends Kt{constructor(ie,q,ye,Ue,Xe=ye.id){super(ie),this.sharedStylesHost=q,this.removeStylesOnCompDestory=Ue,this.rendererUsageCount=0,this.styles=mt(Xe,ye.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Me extends Te{constructor(ie,q,ye,Ue,Xe){const Ft=Ue+"-"+ye.id;super(ie,q,ye,Xe,Ft),this.contentAttr=function L(he){return"_ngcontent-%COMP%".replace(Je,he)}(Ft),this.hostAttr=function kt(he){return"_nghost-%COMP%".replace(Je,he)}(Ft)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,q){const ye=super.createElement(ie,q);return super.setAttribute(ye,this.contentAttr,""),ye}}let we=(()=>{class he extends Et{constructor(q){super(q)}supports(q){return!0}addEventListener(q,ye,Ue){return q.addEventListener(ye,Ue,!1),()=>this.removeEventListener(q,ye,Ue)}removeEventListener(q,ye,Ue){return q.removeEventListener(ye,Ue)}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(h.K0))},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();const Ve=["alt","control","meta","shift"],$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let wt=(()=>{class he extends Et{constructor(q){super(q)}supports(q){return null!=he.parseEventName(q)}addEventListener(q,ye,Ue){const Xe=he.parseEventName(ye),Ft=he.eventCallback(Xe.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(q,Xe.domEventName,Ft))}static parseEventName(q){const ye=q.toLowerCase().split("."),Ue=ye.shift();if(0===ye.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const Xe=he._normalizeKey(ye.pop());let Ft="",wn=ye.indexOf("code");if(wn>-1&&(ye.splice(wn,1),Ft="code."),Ve.forEach(ni=>{const xe=ye.indexOf(ni);xe>-1&&(ye.splice(xe,1),Ft+=ni+".")}),Ft+=Xe,0!=ye.length||0===Xe.length)return null;const Wn={};return Wn.domEventName=Ue,Wn.fullKey=Ft,Wn}static matchEventFullKeyCode(q,ye){let Ue=$e[q.key]||q.key,Xe="";return ye.indexOf("code.")>-1&&(Ue=q.code,Xe="code."),!(null==Ue||!Ue)&&(Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),Ve.forEach(Ft=>{Ft!==Ue&&(0,It[Ft])(q)&&(Xe+=Ft+".")}),Xe+=Ue,Xe===ye)}static eventCallback(q,ye,Ue){return Xe=>{he.matchEventFullKeyCode(Xe,q)&&Ue.runGuarded(()=>ye(Xe))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(h.K0))},he.\u0275prov=Z.Yz7({token:he,factory:he.\u0275fac}),he})();const jn=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:h.bD},{provide:Z.g9A,useValue:function Lt(){le.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function _t(){return(0,Z.RDi)(document),document},deps:[]}]),gn=new Z.OlP(""),Dt=[{provide:Z.rWj,useClass:class se{addToWindow(ie){Z.dqk.getAngularTestability=(ye,Ue=!0)=>{const Xe=ie.findTestabilityInTree(ye,Ue);if(null==Xe)throw new Error("Could not find testability for element.");return Xe},Z.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(ye=>{const Ue=Z.dqk.getAllAngularTestabilities();let Xe=Ue.length,Ft=!1;const wn=function(Wn){Ft=Ft||Wn,Xe--,0==Xe&&ye(Ft)};Ue.forEach(function(Wn){Wn.whenStable(wn)})})}findTestabilityInTree(ie,q,ye){return null==q?null:ie.getTestability(q)??(ye?(0,h.q)().isShadowRoot(q)?this.findTestabilityInTree(ie,q.host,!0):this.findTestabilityInTree(ie,q.parentElement,!0):null)}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],Dn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function Ln(){return new Z.qLn},deps:[]},{provide:Ge,useClass:we,multi:!0,deps:[h.K0,Z.R0b,Z.Lbi]},{provide:Ge,useClass:wt,multi:!0,deps:[h.K0]},{provide:ft,useClass:ft,deps:[tt,qe,Z.AFp,st]},{provide:Z.FYo,useExisting:ft},{provide:Ae,useExisting:qe},{provide:qe,useClass:qe,deps:[h.K0]},{provide:tt,useClass:tt,deps:[Ge,Z.R0b]},{provide:h.JF,useClass:et,deps:[]},[]];let $n=(()=>{class he{constructor(q){}static withServerTransition(q){return{ngModule:he,providers:[{provide:Z.AFp,useValue:q.appId},{provide:ve,useExisting:Z.AFp},ne]}}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(gn,12))},he.\u0275mod=Z.oAB({type:he}),he.\u0275inj=Z.cJS({providers:[...Dn,...Dt],imports:[h.ez,Z.hGG]}),he})(),jt=(()=>{class he{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return he.\u0275fac=function(q){return new(q||he)(Z.LFG(h.K0))},he.\u0275prov=Z.Yz7({token:he,factory:function(q){let ye=null;return ye=q?new q:function un(){return new jt((0,Z.LFG)(h.K0))}(),ye},providedIn:"root"}),he})();typeof window<"u"&&window},2254:(vt,Pe,V)=>{V.d(Pe,{F0:()=>An,rH:()=>xs,Od:()=>ks,Bz:()=>Ni,lC:()=>Ei});var h=V(4650),Z=V(8996),U=V(9646),le=V(1135),ae=V(6805),ue=V(9751),me=V(4742),_e=V(4671),ve=V(3268),te=V(3269),ne=V(1810),se=V(5403),et=V(9672);function Ge(..._){const v=(0,te.yG)(_),f=(0,te.jO)(_),{args:D,keys:O}=(0,me.D)(_);if(0===D.length)return(0,Z.D)([],v);const H=new ue.y(function tt(_,v,f=_e.y){return D=>{Et(v,()=>{const{length:O}=_,H=new Array(O);let z=O,pe=O;for(let He=0;He<O;He++)Et(v,()=>{const ct=(0,Z.D)(_[He],v);let Ct=!1;ct.subscribe((0,se.x)(D,an=>{H[He]=an,Ct||(Ct=!0,pe--),pe||D.next(f(H.slice()))},()=>{--z||D.complete()}))},D)},D)}}(D,v,O?z=>(0,ne.n)(O,z):_e.y));return f?H.pipe((0,ve.Z)(f)):H}function Et(_,v,f){_?(0,et.f)(f,_,v):v()}var Ae=V(8189);function Oe(..._){return function qe(){return(0,Ae.J)(1)}()((0,Z.D)(_,(0,te.yG)(_)))}var Je=V(8421);function ze(_){return new ue.y(v=>{(0,Je.Xf)(_()).subscribe(v)})}var Le=V(9635),Be=V(576);function rt(_,v){const f=(0,Be.m)(_)?_:()=>_,D=O=>O.error(f());return new ue.y(v?O=>v.schedule(D,0,O):D)}var We=V(515),st=V(727),L=V(4482);function kt(){return(0,L.e)((_,v)=>{let f=null;_._refCount++;const D=(0,se.x)(v,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(f=null);const O=_._connection,H=f;f=null,O&&(!H||O===H)&&O.unsubscribe(),v.unsubscribe()});_.subscribe(D),D.closed||(f=_.connect())})}class mt extends ue.y{constructor(v,f){super(),this.source=v,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,L.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new st.w0;const f=this.getSubject();v.add(this.source.subscribe((0,se.x)(f,void 0,()=>{this._teardown(),f.complete()},D=>{this._teardown(),f.error(D)},()=>this._teardown()))),v.closed&&(this._connection=null,v=st.w0.EMPTY)}return v}refCount(){return kt()(this)}}var $t=V(7579),ft=V(6895),Kt=V(4004),Hn=V(3900),Sr=V(5698),De=V(9300),Te=V(5577),Me=V(590);function we(_,v){return(0,Be.m)(v)?(0,Te.z)(_,v,1):(0,Te.z)(_,1)}var Ve=V(8505);function $e(_){return(0,L.e)((v,f)=>{let H,D=null,O=!1;D=v.subscribe((0,se.x)(f,void 0,void 0,z=>{H=(0,Je.Xf)(_(z,$e(_)(v))),D?(D.unsubscribe(),D=null,H.subscribe(f)):O=!0})),O&&(D.unsubscribe(),D=null,H.subscribe(f))})}var It=V(5026);function wt(_){return _<=0?()=>We.E:(0,L.e)((v,f)=>{let D=[];v.subscribe((0,se.x)(f,O=>{D.push(O),_<D.length&&D.shift()},()=>{for(const O of D)f.next(O);f.complete()},void 0,()=>{D=null}))})}var fn=V(8068),at=V(6590);function Qt(_,v){const f=arguments.length>=2;return D=>D.pipe(_?(0,De.h)((O,H)=>_(O,H,D)):_e.y,wt(1),f?(0,at.d)(v):(0,fn.T)(()=>new ae.K))}function Lt(_){return(0,L.e)((v,f)=>{try{v.subscribe(f)}finally{f.add(_)}})}var Ln=V(1481);const _t="primary",Fn=Symbol("RouteTitle");class jn{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f[0]:f}return null}getAll(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function gn(_){return new jn(_)}function Dt(_,v,f){const D=f.path.split("/");if(D.length>_.length||"full"===f.pathMatch&&(v.hasChildren()||D.length<_.length))return null;const O={};for(let H=0;H<D.length;H++){const z=D[H],pe=_[H];if(z.startsWith(":"))O[z.substring(1)]=pe;else if(z!==pe.path)return null}return{consumed:_.slice(0,D.length),posParams:O}}function $n(_,v){const f=_?Object.keys(_):void 0,D=v?Object.keys(v):void 0;if(!f||!D||f.length!=D.length)return!1;let O;for(let H=0;H<f.length;H++)if(O=f[H],!nr(_[O],v[O]))return!1;return!0}function nr(_,v){if(Array.isArray(_)&&Array.isArray(v)){if(_.length!==v.length)return!1;const f=[..._].sort(),D=[...v].sort();return f.every((O,H)=>D[H]===O)}return _===v}function Ir(_){return Array.prototype.concat.apply([],_)}function On(_){return _.length>0?_[_.length-1]:null}function jt(_,v){for(const f in _)_.hasOwnProperty(f)&&v(_[f],f)}function pt(_){return(0,h.CqO)(_)?_:(0,h.QGY)(_)?(0,Z.D)(Promise.resolve(_)):(0,U.of)(_)}const Ot=!1,ei={exact:function Nn(_,v,f){if(!xn(_.segments,v.segments)||!on(_.segments,v.segments,f)||_.numberOfChildren!==v.numberOfChildren)return!1;for(const D in v.children)if(!_.children[D]||!Nn(_.children[D],v.children[D],f))return!1;return!0},subset:mn},fr={exact:function pr(_,v){return $n(_,v)},subset:function ti(_,v){return Object.keys(v).length<=Object.keys(_).length&&Object.keys(v).every(f=>nr(_[f],v[f]))},ignored:()=>!0};function Qn(_,v,f){return ei[f.paths](_.root,v.root,f.matrixParams)&&fr[f.queryParams](_.queryParams,v.queryParams)&&!("exact"===f.fragment&&_.fragment!==v.fragment)}function mn(_,v,f){return bi(_,v,v.segments,f)}function bi(_,v,f,D){if(_.segments.length>f.length){const O=_.segments.slice(0,f.length);return!(!xn(O,f)||v.hasChildren()||!on(O,f,D))}if(_.segments.length===f.length){if(!xn(_.segments,f)||!on(_.segments,f,D))return!1;for(const O in v.children)if(!_.children[O]||!mn(_.children[O],v.children[O],D))return!1;return!0}{const O=f.slice(0,_.segments.length),H=f.slice(_.segments.length);return!!(xn(_.segments,O)&&on(_.segments,O,D)&&_.children[_t])&&bi(_.children[_t],v,H,D)}}function on(_,v,f){return v.every((D,O)=>fr[f](_[O].parameters,D.parameters))}class rr{constructor(v=new yt([],{}),f={},D=null){this.root=v,this.queryParams=f,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return dr.serialize(this)}}class yt{constructor(v,f){this.segments=v,this.children=f,this.parent=null,jt(f,(D,O)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return re(this)}}class ur{constructor(v,f){this.path=v,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return q(this)}}function xn(_,v){return _.length===v.length&&_.every((f,D)=>f.path===v[D].path)}let yn=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return new cr},providedIn:"root"}),_})();class cr{parse(v){const f=new Ce(v);return new rr(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(v){const f=`/${J(v.root,!0)}`,D=function Ue(_){const v=Object.keys(_).map(f=>{const D=_[f];return Array.isArray(D)?D.map(O=>`${je(f)}=${je(O)}`).join("&"):`${je(f)}=${je(D)}`}).filter(f=>!!f);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${f}${D}${"string"==typeof v.fragment?`#${function Ee(_){return encodeURI(_)}(v.fragment)}`:""}`}}const dr=new cr;function re(_){return _.segments.map(v=>q(v)).join("/")}function J(_,v){if(!_.hasChildren())return re(_);if(v){const f=_.children[_t]?J(_.children[_t],!1):"",D=[];return jt(_.children,(O,H)=>{H!==_t&&D.push(`${H}:${J(O,!1)}`)}),D.length>0?`${f}(${D.join("//")})`:f}{const f=function di(_,v){let f=[];return jt(_.children,(D,O)=>{O===_t&&(f=f.concat(v(D,O)))}),jt(_.children,(D,O)=>{O!==_t&&(f=f.concat(v(D,O)))}),f}(_,(D,O)=>O===_t?[J(_.children[_t],!1)]:[`${O}:${J(D,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[_t]?`${re(_)}/${f[0]}`:`${re(_)}/(${f.join("//")})`}}function de(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function je(_){return de(_).replace(/%3B/gi,";")}function nt(_){return de(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(_){return decodeURIComponent(_)}function ie(_){return he(_.replace(/\+/g,"%20"))}function q(_){return`${nt(_.path)}${function ye(_){return Object.keys(_).map(v=>`;${nt(v)}=${nt(_[v])}`).join("")}(_.parameters)}`}const Xe=/^[^\/()?;=#]+/;function Ft(_){const v=_.match(Xe);return v?v[0]:""}const wn=/^[^=?&#]+/,ni=/^[^&#]+/;class Ce{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(v.length>0||Object.keys(f).length>0)&&(D[_t]=new yt(v,f)),D}parseSegment(){const v=Ft(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new h.vHH(4009,Ot);return this.capture(v),new ur(he(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const f=Ft(this.remaining);if(!f)return;this.capture(f);let D="";if(this.consumeOptional("=")){const O=Ft(this.remaining);O&&(D=O,this.capture(D))}v[he(f)]=he(D)}parseQueryParam(v){const f=function Wn(_){const v=_.match(wn);return v?v[0]:""}(this.remaining);if(!f)return;this.capture(f);let D="";if(this.consumeOptional("=")){const z=function xe(_){const v=_.match(ni);return v?v[0]:""}(this.remaining);z&&(D=z,this.capture(D))}const O=ie(f),H=ie(D);if(v.hasOwnProperty(O)){let z=v[O];Array.isArray(z)||(z=[z],v[O]=z),z.push(H)}else v[O]=H}parseParens(v){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Ft(this.remaining),O=this.remaining[D.length];if("/"!==O&&")"!==O&&";"!==O)throw new h.vHH(4010,Ot);let H;D.indexOf(":")>-1?(H=D.slice(0,D.indexOf(":")),this.capture(H),this.capture(":")):v&&(H=_t);const z=this.parseChildren();f[H]=1===Object.keys(z).length?z[_t]:new yt([],z),this.consumeOptional("//")}return f}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new h.vHH(4011,Ot)}}function Qe(_){return _.segments.length>0?new yt([],{[_t]:_}):_}function bt(_){const v={};for(const D of Object.keys(_.children)){const H=bt(_.children[D]);(H.segments.length>0||H.hasChildren())&&(v[D]=H)}return function Vt(_){if(1===_.numberOfChildren&&_.children[_t]){const v=_.children[_t];return new yt(_.segments.concat(v.segments),v.children)}return _}(new yt(_.segments,v))}function Zt(_){return _ instanceof rr}const Mt=!1;function ir(_,v,f,D,O){if(0===f.length)return gr(v.root,v.root,v.root,D,O);const H=function Gt(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new ut(!0,0,_);let v=0,f=!1;const D=_.reduce((O,H,z)=>{if("object"==typeof H&&null!=H){if(H.outlets){const pe={};return jt(H.outlets,(He,ct)=>{pe[ct]="string"==typeof He?He.split("/"):He}),[...O,{outlets:pe}]}if(H.segmentPath)return[...O,H.segmentPath]}return"string"!=typeof H?[...O,H]:0===z?(H.split("/").forEach((pe,He)=>{0==He&&"."===pe||(0==He&&""===pe?f=!0:".."===pe?v++:""!=pe&&O.push(pe))}),O):[...O,H]},[]);return new ut(f,v,D)}(f);return H.toRoot()?gr(v.root,v.root,new yt([],{}),D,O):function z(He){const ct=function Cn(_,v,f,D){if(_.isAbsolute)return new En(v.root,!0,0);if(-1===D)return new En(f,f===v.root,0);return function or(_,v,f){let D=_,O=v,H=f;for(;H>O;){if(H-=O,D=D.parent,!D)throw new h.vHH(4005,Mt&&"Invalid number of '../'");O=D.segments.length}return new En(D,!1,O-H)}(f,D+(Ji(_.commands[0])?0:1),_.numberOfDoubleDots)}(H,v,_.snapshot?._urlSegment,He),Ct=ct.processChildren?ki(ct.segmentGroup,ct.index,H.commands):Gn(ct.segmentGroup,ct.index,H.commands);return gr(v.root,ct.segmentGroup,Ct,D,O)}(_.snapshot?._lastPathIndex)}function Ji(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function bo(_){return"object"==typeof _&&null!=_&&_.outlets}function gr(_,v,f,D,O){let z,H={};D&&jt(D,(He,ct)=>{H[ct]=Array.isArray(He)?He.map(Ct=>`${Ct}`):`${He}`}),z=_===v?f:ri(_,v,f);const pe=Qe(bt(z));return new rr(pe,H,O)}function ri(_,v,f){const D={};return jt(_.children,(O,H)=>{D[H]=O===v?f:ri(O,v,f)}),new yt(_.segments,D)}class ut{constructor(v,f,D){if(this.isAbsolute=v,this.numberOfDoubleDots=f,this.commands=D,v&&D.length>0&&Ji(D[0]))throw new h.vHH(4003,Mt&&"Root segment cannot have matrix parameters");const O=D.find(bo);if(O&&O!==On(D))throw new h.vHH(4004,Mt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class En{constructor(v,f,D){this.segmentGroup=v,this.processChildren=f,this.index=D}}function Gn(_,v,f){if(_||(_=new yt([],{})),0===_.segments.length&&_.hasChildren())return ki(_,v,f);const D=function Hi(_,v,f){let D=0,O=v;const H={match:!1,pathIndex:0,commandIndex:0};for(;O<_.segments.length;){if(D>=f.length)return H;const z=_.segments[O],pe=f[D];if(bo(pe))break;const He=`${pe}`,ct=D<f.length-1?f[D+1]:null;if(O>0&&void 0===He)break;if(He&&ct&&"object"==typeof ct&&void 0===ct.outlets){if(!Si(He,ct,z))return H;D+=2}else{if(!Si(He,{},z))return H;D++}O++}return{match:!0,pathIndex:O,commandIndex:D}}(_,v,f),O=f.slice(D.commandIndex);if(D.match&&D.pathIndex<_.segments.length){const H=new yt(_.segments.slice(0,D.pathIndex),{});return H.children[_t]=new yt(_.segments.slice(D.pathIndex),_.children),ki(H,0,O)}return D.match&&0===O.length?new yt(_.segments,{}):D.match&&!_.hasChildren()?qt(_,v,f):D.match?ki(_,0,O):qt(_,v,f)}function ki(_,v,f){if(0===f.length)return new yt(_.segments,{});{const D=function uo(_){return bo(_[0])?_[0].outlets:{[_t]:_}}(f),O={};if(!D[_t]&&_.children[_t]&&1===_.numberOfChildren&&0===_.children[_t].segments.length){const H=ki(_.children[_t],v,f);return new yt(_.segments,H.children)}return jt(D,(H,z)=>{"string"==typeof H&&(H=[H]),null!==H&&(O[z]=Gn(_.children[z],v,H))}),jt(_.children,(H,z)=>{void 0===D[z]&&(O[z]=H)}),new yt(_.segments,O)}}function qt(_,v,f){const D=_.segments.slice(0,v);let O=0;for(;O<f.length;){const H=f[O];if(bo(H)){const He=ji(H.outlets);return new yt(D,He)}if(0===O&&Ji(f[0])){D.push(new ur(_.segments[v].path,Ti(f[0]))),O++;continue}const z=bo(H)?H.outlets[_t]:`${H}`,pe=O<f.length-1?f[O+1]:null;z&&pe&&Ji(pe)?(D.push(new ur(z,Ti(pe))),O+=2):(D.push(new ur(z,{})),O++)}return new yt(D,{})}function ji(_){const v={};return jt(_,(f,D)=>{"string"==typeof f&&(f=[f]),null!==f&&(v[D]=qt(new yt([],{}),0,f))}),v}function Ti(_){const v={};return jt(_,(f,D)=>v[D]=`${f}`),v}function Si(_,v,f){return _==f.path&&$n(v,f.parameters)}const hi="imperative";class vn{constructor(v,f){this.id=v,this.url=f}}class Xi extends vn{constructor(v,f,D="imperative",O=null){super(v,f),this.type=0,this.navigationTrigger=D,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends vn{constructor(v,f,D){super(v,f),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ii extends vn{constructor(v,f,D,O){super(v,f),this.reason=D,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $i extends vn{constructor(v,f,D,O){super(v,f),this.reason=D,this.code=O,this.type=16}}class mr extends vn{constructor(v,f,D,O){super(v,f),this.error=D,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vn extends vn{constructor(v,f,D,O){super(v,f),this.urlAfterRedirects=D,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends vn{constructor(v,f,D,O){super(v,f),this.urlAfterRedirects=D,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To extends vn{constructor(v,f,D,O,H){super(v,f),this.urlAfterRedirects=D,this.state=O,this.shouldActivate=H,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uo extends vn{constructor(v,f,D,O){super(v,f),this.urlAfterRedirects=D,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends vn{constructor(v,f,D,O){super(v,f),this.urlAfterRedirects=D,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wt{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kn{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(v,f,D){this.routerEvent=v,this.position=f,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ht=(()=>{class _{createUrlTree(f,D,O,H,z,pe){return ir(f||D.root,O,H,z,pe)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})(),vi=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:function(v){return Ht.\u0275fac(v)},providedIn:"root"}),_})();class co{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const f=this.pathFromRoot(v);return f.length>1?f[f.length-2]:null}children(v){const f=si(v,this._root);return f?f.children.map(D=>D.value):[]}firstChild(v){const f=si(v,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(v){const f=fi(v,this._root);return f.length<2?[]:f[f.length-2].children.map(O=>O.value).filter(O=>O!==v)}pathFromRoot(v){return fi(v,this._root).map(f=>f.value)}}function si(_,v){if(_===v.value)return v;for(const f of v.children){const D=si(_,f);if(D)return D}return null}function fi(_,v){if(_===v.value)return[v];for(const f of v.children){const D=fi(_,f);if(D.length)return D.unshift(v),D}return[]}class to{constructor(v,f){this.value=v,this.children=f}toString(){return`TreeNode(${this.value})`}}function Fi(_){const v={};return _&&_.children.forEach(f=>v[f.value.outlet]=f),v}class Zs extends co{constructor(v,f){super(v),this.snapshot=f,ns(this,v)}toString(){return this.snapshot.toString()}}function Ai(_,v){const f=function Ys(_,v){const z=new no([],{},{},"",{},_t,v,null,_.root,-1,{});return new pi("",new to(z,[]))}(_,v),D=new le.X([new ur("",{})]),O=new le.X({}),H=new le.X({}),z=new le.X({}),pe=new le.X(""),He=new Br(D,O,z,pe,H,_t,v,f.root);return He.snapshot=f.root,new Zs(new to(He,[]),f)}class Br{constructor(v,f,D,O,H,z,pe,He){this.url=v,this.params=f,this.queryParams=D,this.fragment=O,this.data=H,this.outlet=z,this.component=pe,this.title=this.data?.pipe((0,Kt.U)(ct=>ct[Fn]))??(0,U.of)(void 0),this._futureSnapshot=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Kt.U)(v=>gn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Kt.U)(v=>gn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ts(_,v="emptyOnly"){const f=_.pathFromRoot;let D=0;if("always"!==v)for(D=f.length-1;D>=1;){const O=f[D],H=f[D-1];if(O.routeConfig&&""===O.routeConfig.path)D--;else{if(H.component)break;D--}}return function Ta(_){return _.reduce((v,f)=>({params:{...v.params,...f.params},data:{...v.data,...f.data},resolve:{...f.data,...v.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(D))}class no{get title(){return this.data?.[Fn]}constructor(v,f,D,O,H,z,pe,He,ct,Ct,an){this.url=v,this.params=f,this.queryParams=D,this.fragment=O,this.data=H,this.outlet=z,this.component=pe,this.routeConfig=He,this._urlSegment=ct,this._lastPathIndex=Ct,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pi extends co{constructor(v,f){super(f),this.url=v,ns(this,f)}toString(){return rs(this._root)}}function ns(_,v){v.value._routerState=_,v.children.forEach(f=>ns(_,f))}function rs(_){const v=_.children.length>0?` { ${_.children.map(rs).join(", ")} } `:"";return`${_.value}${v}`}function Dr(_){if(_.snapshot){const v=_.snapshot,f=_._futureSnapshot;_.snapshot=f,$n(v.queryParams,f.queryParams)||_.queryParams.next(f.queryParams),v.fragment!==f.fragment&&_.fragment.next(f.fragment),$n(v.params,f.params)||_.params.next(f.params),function Dn(_,v){if(_.length!==v.length)return!1;for(let f=0;f<_.length;++f)if(!$n(_[f],v[f]))return!1;return!0}(v.url,f.url)||_.url.next(f.url),$n(v.data,f.data)||_.data.next(f.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function sn(_,v){const f=$n(_.params,v.params)&&function Jn(_,v){return xn(_,v)&&_.every((f,D)=>$n(f.parameters,v[D].parameters))}(_.url,v.url);return f&&!(!_.parent!=!v.parent)&&(!_.parent||sn(_.parent,v.parent))}function Pr(_,v,f){if(f&&_.shouldReuseRoute(v.value,f.value.snapshot)){const D=f.value;D._futureSnapshot=v.value;const O=function Mi(_,v,f){return v.children.map(D=>{for(const O of f.children)if(_.shouldReuseRoute(D.value,O.value.snapshot))return Pr(_,D,O);return Pr(_,D)})}(_,v,f);return new to(D,O)}{if(_.shouldAttach(v.value)){const H=_.retrieve(v.value);if(null!==H){const z=H.route;return z.value._futureSnapshot=v.value,z.children=v.children.map(pe=>Pr(_,pe)),z}}const D=function Hr(_){return new Br(new le.X(_.url),new le.X(_.params),new le.X(_.queryParams),new le.X(_.fragment),new le.X(_.data),_.outlet,_.component,_)}(v.value),O=v.children.map(H=>Pr(_,H));return new to(D,O)}}const Li="ngNavigationCancelingError";function wr(_,v){const{redirectTo:f,navigationBehaviorOptions:D}=Zt(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,O=os(!1,0,v);return O.url=f,O.navigationBehaviorOptions=D,O}function os(_,v,f){const D=new Error("NavigationCancelingError: "+(_||""));return D[Li]=!0,D.cancellationCode=v,f&&(D.url=f),D}function yr(_){return jr(_)&&Zt(_.url)}function jr(_){return _&&_[Li]}class Is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ri,this.attachRef=null}}let Ri=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(f,D){const O=this.getOrCreateContext(f);O.outlet=D,this.contexts.set(f,O)}onChildOutletDestroyed(f){const D=this.getContext(f);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let D=this.getContext(f);return D||(D=new Is,this.contexts.set(f,D)),D}getContext(f){return this.contexts.get(f)||null}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ho=!1;let Ei=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Ri),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(f){if(f.name){const{firstChange:D,previousValue:O}=f.name;if(D)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,ho);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,ho);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,ho);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,D){this.activated=f,this._activatedRoute=D,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,D){if(this.isActivated)throw new h.vHH(4013,ho);this._activatedRoute=f;const O=this.location,z=f.snapshot.component,pe=this.parentContexts.getOrCreateContext(this.name).children,He=new $r(f,pe,O.injector);if(D&&function Or(_){return!!_.resolveComponentFactory}(D)){const ct=D.resolveComponentFactory(z);this.activated=O.createComponent(ct,O.length,He)}else this.activated=O.createComponent(z,{index:O.length,injector:He,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275dir=h.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),_})();class $r{constructor(v,f,D){this.route=v,this.childContexts=f,this.parent=D}get(v,f){return v===Br?this.route:v===Ri?this.childContexts:this.parent.get(v,f)}}let ai=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275cmp=h.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(f,D){1&f&&h._UZ(0,"router-outlet")},dependencies:[Ei],encapsulation:2}),_})();function sr(_,v){return _.providers&&!_._injector&&(_._injector=(0,h.MMx)(_.providers,v,`Route: ${_.path}`)),_._injector??v}function Ci(_){const v=_.children&&_.children.map(Ci),f=v?{..._,children:v}:{..._};return!f.component&&!f.loadComponent&&(v||f.loadChildren)&&f.outlet&&f.outlet!==_t&&(f.component=ai),f}function Er(_){return _.outlet||_t}function kr(_,v){const f=_.filter(D=>Er(D)===v);return f.push(..._.filter(D=>Er(D)!==v)),f}function Wr(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let v=_.parent;v;v=v.parent){const f=v.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Yt{constructor(v,f,D,O){this.routeReuseStrategy=v,this.futureState=f,this.currState=D,this.forwardEvent=O}activate(v){const f=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,D,v),Dr(this.futureState.root),this.activateChildRoutes(f,D,v)}deactivateChildRoutes(v,f,D){const O=Fi(f);v.children.forEach(H=>{const z=H.value.outlet;this.deactivateRoutes(H,O[z],D),delete O[z]}),jt(O,(H,z)=>{this.deactivateRouteAndItsChildren(H,D)})}deactivateRoutes(v,f,D){const O=v.value,H=f?f.value:null;if(O===H)if(O.component){const z=D.getContext(O.outlet);z&&this.deactivateChildRoutes(v,f,z.children)}else this.deactivateChildRoutes(v,f,D);else H&&this.deactivateRouteAndItsChildren(f,D)}deactivateRouteAndItsChildren(v,f){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,f):this.deactivateRouteAndOutlet(v,f)}detachAndStoreRouteSubtree(v,f){const D=f.getContext(v.value.outlet),O=D&&v.value.component?D.children:f,H=Fi(v);for(const z of Object.keys(H))this.deactivateRouteAndItsChildren(H[z],O);if(D&&D.outlet){const z=D.outlet.detach(),pe=D.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:z,route:v,contexts:pe})}}deactivateRouteAndOutlet(v,f){const D=f.getContext(v.value.outlet),O=D&&v.value.component?D.children:f,H=Fi(v);for(const z of Object.keys(H))this.deactivateRouteAndItsChildren(H[z],O);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(v,f,D){const O=Fi(f);v.children.forEach(H=>{this.activateRoutes(H,O[H.value.outlet],D),this.forwardEvent(new oi(H.value.snapshot))}),v.children.length&&this.forwardEvent(new bn(v.value.snapshot))}activateRoutes(v,f,D){const O=v.value,H=f?f.value:null;if(Dr(O),O===H)if(O.component){const z=D.getOrCreateContext(O.outlet);this.activateChildRoutes(v,f,z.children)}else this.activateChildRoutes(v,f,D);else if(O.component){const z=D.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const pe=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),z.children.onOutletReAttached(pe.contexts),z.attachRef=pe.componentRef,z.route=pe.route.value,z.outlet&&z.outlet.attach(pe.componentRef,pe.route.value),Dr(pe.route.value),this.activateChildRoutes(v,null,z.children)}else{const pe=Wr(O.snapshot),He=pe?.get(h._Vd)??null;z.attachRef=null,z.route=O,z.resolver=He,z.injector=pe,z.outlet&&z.outlet.activateWith(O,z.injector),this.activateChildRoutes(v,null,z.children)}}else this.activateChildRoutes(v,null,D)}}class zi{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class ss{constructor(v,f){this.component=v,this.route=f}}function Xn(_,v,f){const D=_._root;return Ki(D,v?v._root:null,f,[D.value])}function Ao(_,v){const f=Symbol(),D=v.get(_,f);return D===f?"function"!=typeof _||(0,h.Z0I)(_)?v.get(_):_:D}function Ki(_,v,f,D,O={canDeactivateChecks:[],canActivateChecks:[]}){const H=Fi(v);return _.children.forEach(z=>{(function da(_,v,f,D,O={canDeactivateChecks:[],canActivateChecks:[]}){const H=_.value,z=v?v.value:null,pe=f?f.getContext(_.value.outlet):null;if(z&&H.routeConfig===z.routeConfig){const He=function fo(_,v,f){if("function"==typeof f)return f(_,v);switch(f){case"pathParamsChange":return!xn(_.url,v.url);case"pathParamsOrQueryParamsChange":return!xn(_.url,v.url)||!$n(_.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sn(_,v)||!$n(_.queryParams,v.queryParams);default:return!sn(_,v)}}(z,H,H.routeConfig.runGuardsAndResolvers);He?O.canActivateChecks.push(new zi(D)):(H.data=z.data,H._resolvedData=z._resolvedData),Ki(_,v,H.component?pe?pe.children:null:f,D,O),He&&pe&&pe.outlet&&pe.outlet.isActivated&&O.canDeactivateChecks.push(new ss(pe.outlet.component,z))}else z&&b(v,pe,O),O.canActivateChecks.push(new zi(D)),Ki(_,null,H.component?pe?pe.children:null:f,D,O)})(z,H[z.value.outlet],f,D.concat([z.value]),O),delete H[z.value.outlet]}),jt(H,(z,pe)=>b(z,f.getContext(pe),O)),O}function b(_,v,f){const D=Fi(_),O=_.value;jt(D,(H,z)=>{b(H,O.component?v?v.children.getContext(z):null:v,f)}),f.canDeactivateChecks.push(new ss(O.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,O))}function M(_){return"function"==typeof _}function go(_){return _ instanceof ae.K||"EmptyError"===_?.name}const li=Symbol("INITIAL_VALUE");function Ii(){return(0,Hn.w)(_=>Ge(_.map(v=>v.pipe((0,Sr.q)(1),function Xr(..._){const v=(0,te.yG)(_);return(0,L.e)((f,D)=>{(v?Oe(_,f,v):Oe(_,f)).subscribe(D)})}(li)))).pipe((0,Kt.U)(v=>{for(const f of v)if(!0!==f){if(f===li)return li;if(!1===f||f instanceof rr)return f}return!0}),(0,De.h)(v=>v!==li),(0,Sr.q)(1)))}function ar(_){return(0,Le.z)((0,Ve.b)(v=>{if(Zt(v))throw wr(0,v)}),(0,Kt.U)(v=>!0===v))}const Ds={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ls(_,v,f,D,O){const H=Qs(_,v,f);return H.matched?function as(_,v,f,D){const O=v.canMatch;if(!O||0===O.length)return(0,U.of)(!0);const H=O.map(z=>{const pe=Ao(z,_);return pt(function Bn(_){return _&&M(_.canMatch)}(pe)?pe.canMatch(v,f):_.runInContext(()=>pe(v,f)))});return(0,U.of)(H).pipe(Ii(),ar())}(D=sr(v,D),v,f).pipe((0,Kt.U)(z=>!0===z?H:{...Ds})):(0,U.of)(H)}function Qs(_,v,f){if(""===v.path)return"full"===v.pathMatch&&(_.hasChildren()||f.length>0)?{...Ds}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const O=(v.matcher||Dt)(f,_,v);if(!O)return{...Ds};const H={};jt(O.posParams,(pe,He)=>{H[He]=pe.path});const z=O.consumed.length>0?{...H,...O.consumed[O.consumed.length-1].parameters}:H;return{matched:!0,consumedSegments:O.consumed,remainingSegments:f.slice(O.consumed.length),parameters:z,positionalParamSegments:O.posParams??{}}}function Ho(_,v,f,D){if(f.length>0&&function ws(_,v,f){return f.some(D=>$o(_,v,D)&&Er(D)!==_t)}(_,f,D)){const H=new yt(v,function ui(_,v,f,D){const O={};O[_t]=D,D._sourceSegment=_,D._segmentIndexShift=v.length;for(const H of f)if(""===H.path&&Er(H)!==_t){const z=new yt([],{});z._sourceSegment=_,z._segmentIndexShift=v.length,O[Er(H)]=z}return O}(_,v,D,new yt(f,_.children)));return H._sourceSegment=_,H._segmentIndexShift=v.length,{segmentGroup:H,slicedSegments:[]}}if(0===f.length&&function jo(_,v,f){return f.some(D=>$o(_,v,D))}(_,f,D)){const H=new yt(_.segments,function Js(_,v,f,D,O){const H={};for(const z of D)if($o(_,f,z)&&!O[Er(z)]){const pe=new yt([],{});pe._sourceSegment=_,pe._segmentIndexShift=v.length,H[Er(z)]=pe}return{...O,...H}}(_,v,f,D,_.children));return H._sourceSegment=_,H._segmentIndexShift=v.length,{segmentGroup:H,slicedSegments:f}}const O=new yt(_.segments,_.children);return O._sourceSegment=_,O._segmentIndexShift=v.length,{segmentGroup:O,slicedSegments:f}}function $o(_,v,f){return(!(_.hasChildren()||v.length>0)||"full"!==f.pathMatch)&&""===f.path}function Po(_,v,f,D){return!!(Er(_)===D||D!==_t&&$o(v,f,_))&&("**"===_.path||Qs(v,_,f).matched)}function us(_,v,f){return 0===v.length&&!_.children[f]}const Pi=!1;class tr{constructor(v){this.segmentGroup=v||null}}class Gr{constructor(v){this.urlTree=v}}function zn(_){return rt(new tr(_))}function bs(_){return rt(new Gr(_))}class Ss{constructor(v,f,D,O,H){this.injector=v,this.configLoader=f,this.urlSerializer=D,this.urlTree=O,this.config=H,this.allowRedirects=!0}apply(){const v=Ho(this.urlTree.root,[],[],this.config).segmentGroup,f=new yt(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,f,_t).pipe((0,Kt.U)(H=>this.createUrlTree(bt(H),this.urlTree.queryParams,this.urlTree.fragment))).pipe($e(H=>{if(H instanceof Gr)return this.allowRedirects=!1,this.match(H.urlTree);throw H instanceof tr?this.noMatchError(H):H}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,_t).pipe((0,Kt.U)(O=>this.createUrlTree(bt(O),v.queryParams,v.fragment))).pipe($e(O=>{throw O instanceof tr?this.noMatchError(O):O}))}noMatchError(v){return new h.vHH(4002,Pi)}createUrlTree(v,f,D){const O=Qe(v);return new rr(O,f,D)}expandSegmentGroup(v,f,D,O){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(v,f,D).pipe((0,Kt.U)(H=>new yt([],H))):this.expandSegment(v,D,f,D.segments,O,!0)}expandChildren(v,f,D){const O=[];for(const H of Object.keys(D.children))"primary"===H?O.unshift(H):O.push(H);return(0,Z.D)(O).pipe(we(H=>{const z=D.children[H],pe=kr(f,H);return this.expandSegmentGroup(v,pe,z,H).pipe((0,Kt.U)(He=>({segment:He,outlet:H})))}),(0,It.R)((H,z)=>(H[z.outlet]=z.segment,H),{}),Qt())}expandSegment(v,f,D,O,H,z){return(0,Z.D)(D).pipe(we(pe=>this.expandSegmentAgainstRoute(v,f,D,pe,O,H,z).pipe($e(ct=>{if(ct instanceof tr)return(0,U.of)(null);throw ct}))),(0,Me.P)(pe=>!!pe),$e((pe,He)=>{if(go(pe))return us(f,O,H)?(0,U.of)(new yt([],{})):zn(f);throw pe}))}expandSegmentAgainstRoute(v,f,D,O,H,z,pe){return Po(O,f,H,z)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(v,f,O,H,z):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,f,D,O,H,z):zn(f):zn(f)}expandSegmentAgainstRouteUsingRedirect(v,f,D,O,H,z){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,D,O,z):this.expandRegularSegmentAgainstRouteUsingRedirect(v,f,D,O,H,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,f,D,O){const H=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?bs(H):this.lineralizeSegments(D,H).pipe((0,Te.z)(z=>{const pe=new yt(z,{});return this.expandSegment(v,pe,f,z,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,f,D,O,H,z){const{matched:pe,consumedSegments:He,remainingSegments:ct,positionalParamSegments:Ct}=Qs(f,O,H);if(!pe)return zn(f);const an=this.applyRedirectCommands(He,O.redirectTo,Ct);return O.redirectTo.startsWith("/")?bs(an):this.lineralizeSegments(O,an).pipe((0,Te.z)(Cr=>this.expandSegment(v,f,D,Cr.concat(ct),z,!1)))}matchSegmentAgainstRoute(v,f,D,O,H){return"**"===D.path?(v=sr(D,v),D.loadChildren?(D._loadedRoutes?(0,U.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(v,D)).pipe((0,Kt.U)(pe=>(D._loadedRoutes=pe.routes,D._loadedInjector=pe.injector,new yt(O,{})))):(0,U.of)(new yt(O,{}))):ls(f,D,O,v).pipe((0,Hn.w)(({matched:z,consumedSegments:pe,remainingSegments:He})=>z?this.getChildConfig(v=D._injector??v,D,O).pipe((0,Te.z)(Ct=>{const an=Ct.injector??v,Cr=Ct.routes,{segmentGroup:so,slicedSegments:ao}=Ho(f,pe,He,Cr),Ui=new yt(so.segments,so.children);if(0===ao.length&&Ui.hasChildren())return this.expandChildren(an,Cr,Ui).pipe((0,Kt.U)(Ca=>new yt(pe,Ca)));if(0===Cr.length&&0===ao.length)return(0,U.of)(new yt(pe,{}));const Lr=Er(D)===H;return this.expandSegment(an,Ui,Cr,ao,Lr?_t:H,!0).pipe((0,Kt.U)(Ea=>new yt(pe.concat(Ea.segments),Ea.children)))})):zn(f)))}getChildConfig(v,f,D){return f.children?(0,U.of)({routes:f.children,injector:v}):f.loadChildren?void 0!==f._loadedRoutes?(0,U.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function Aa(_,v,f,D){const O=v.canLoad;if(void 0===O||0===O.length)return(0,U.of)(!0);const H=O.map(z=>{const pe=Ao(z,_);return pt(function G(_){return _&&M(_.canLoad)}(pe)?pe.canLoad(v,f):_.runInContext(()=>pe(v,f)))});return(0,U.of)(H).pipe(Ii(),ar())}(v,f,D).pipe((0,Te.z)(O=>O?this.configLoader.loadChildren(v,f).pipe((0,Ve.b)(H=>{f._loadedRoutes=H.routes,f._loadedInjector=H.injector})):function Wo(_){return rt(os(Pi,3))}())):(0,U.of)({routes:[],injector:v})}lineralizeSegments(v,f){let D=[],O=f.root;for(;;){if(D=D.concat(O.segments),0===O.numberOfChildren)return(0,U.of)(D);if(O.numberOfChildren>1||!O.children[_t])return v.redirectTo,rt(new h.vHH(4e3,Pi));O=O.children[_t]}}applyRedirectCommands(v,f,D){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),v,D)}applyRedirectCreateUrlTree(v,f,D,O){const H=this.createSegmentGroup(v,f.root,D,O);return new rr(H,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(v,f){const D={};return jt(v,(O,H)=>{if("string"==typeof O&&O.startsWith(":")){const pe=O.substring(1);D[H]=f[pe]}else D[H]=O}),D}createSegmentGroup(v,f,D,O){const H=this.createSegments(v,f.segments,D,O);let z={};return jt(f.children,(pe,He)=>{z[He]=this.createSegmentGroup(v,pe,D,O)}),new yt(H,z)}createSegments(v,f,D,O){return f.map(H=>H.path.startsWith(":")?this.findPosParam(v,H,O):this.findOrReturn(H,D))}findPosParam(v,f,D){const O=D[f.path.substring(1)];if(!O)throw new h.vHH(4001,Pi);return O}findOrReturn(v,f){let D=0;for(const O of f){if(O.path===v.path)return f.splice(D),O;D++}return v}}class ds{}class F{constructor(v,f,D,O,H,z,pe){this.injector=v,this.rootComponentType=f,this.config=D,this.urlTree=O,this.url=H,this.paramsInheritanceStrategy=z,this.urlSerializer=pe}recognize(){const v=Ho(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,_t).pipe((0,Kt.U)(f=>{if(null===f)return null;const D=new no([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new to(D,f),H=new pi(this.url,O);return this.inheritParamsAndData(H._root),H}))}inheritParamsAndData(v){const f=v.value,D=ts(f,this.paramsInheritanceStrategy);f.params=Object.freeze(D.params),f.data=Object.freeze(D.data),v.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(v,f,D,O){return 0===D.segments.length&&D.hasChildren()?this.processChildren(v,f,D):this.processSegment(v,f,D,D.segments,O)}processChildren(v,f,D){return(0,Z.D)(Object.keys(D.children)).pipe(we(O=>{const H=D.children[O],z=kr(f,O);return this.processSegmentGroup(v,z,H,O)}),(0,It.R)((O,H)=>O&&H?(O.push(...H),O):null),function In(_,v=!1){return(0,L.e)((f,D)=>{let O=0;f.subscribe((0,se.x)(D,H=>{const z=_(H,O++);(z||v)&&D.next(H),!z&&D.complete()}))})}(O=>null!==O),(0,at.d)(null),Qt(),(0,Kt.U)(O=>{if(null===O)return null;const H=Ne(O);return function S(_){_.sort((v,f)=>v.value.outlet===_t?-1:f.value.outlet===_t?1:v.value.outlet.localeCompare(f.value.outlet))}(H),H}))}processSegment(v,f,D,O,H){return(0,Z.D)(f).pipe(we(z=>this.processSegmentAgainstRoute(z._injector??v,z,D,O,H)),(0,Me.P)(z=>!!z),$e(z=>{if(go(z))return us(D,O,H)?(0,U.of)([]):(0,U.of)(null);throw z}))}processSegmentAgainstRoute(v,f,D,O,H){if(f.redirectTo||!Po(f,D,O,H))return(0,U.of)(null);let z;if("**"===f.path){const pe=O.length>0?On(O).parameters:{},He=Sn(D)+O.length,ct=new no(O,pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jt(f),Er(f),f.component??f._loadedComponent??null,f,Tt(D),He,Xt(f));z=(0,U.of)({snapshot:ct,consumedSegments:[],remainingSegments:[]})}else z=ls(D,f,O,v).pipe((0,Kt.U)(({matched:pe,consumedSegments:He,remainingSegments:ct,parameters:Ct})=>{if(!pe)return null;const an=Sn(D)+He.length;return{snapshot:new no(He,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jt(f),Er(f),f.component??f._loadedComponent??null,f,Tt(D),an,Xt(f)),consumedSegments:He,remainingSegments:ct}}));return z.pipe((0,Hn.w)(pe=>{if(null===pe)return(0,U.of)(null);const{snapshot:He,consumedSegments:ct,remainingSegments:Ct}=pe;v=f._injector??v;const an=f._loadedInjector??v,Cr=function j(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(f),{segmentGroup:so,slicedSegments:ao}=Ho(D,ct,Ct,Cr.filter(Lr=>void 0===Lr.redirectTo));if(0===ao.length&&so.hasChildren())return this.processChildren(an,Cr,so).pipe((0,Kt.U)(Lr=>null===Lr?null:[new to(He,Lr)]));if(0===Cr.length&&0===ao.length)return(0,U.of)([new to(He,[])]);const Ui=Er(f)===H;return this.processSegment(an,Cr,so,ao,Ui?_t:H).pipe((0,Kt.U)(Lr=>null===Lr?null:[new to(He,Lr)]))}))}}function X(_){const v=_.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Ne(_){const v=[],f=new Set;for(const D of _){if(!X(D)){v.push(D);continue}const O=v.find(H=>D.value.routeConfig===H.value.routeConfig);void 0!==O?(O.children.push(...D.children),f.add(O)):v.push(D)}for(const D of f){const O=Ne(D.children);v.push(new to(D.value,O))}return v.filter(D=>!f.has(D))}function Tt(_){let v=_;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Sn(_){let v=_,f=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,f+=v._segmentIndexShift??0;return f-1}function Jt(_){return _.data||{}}function Xt(_){return _.resolve||{}}function zr(_){return"string"==typeof _.title||null===_.title}function _i(_){return(0,Hn.w)(v=>{const f=_(v);return f?(0,Z.D)(f).pipe((0,Kt.U)(()=>v)):(0,U.of)(v)})}const Kr=new h.OlP("ROUTES");let As=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,U.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const D=pt(f.loadComponent()).pipe((0,Kt.U)(vl),(0,Ve.b)(H=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=H}),Lt(()=>{this.componentLoaders.delete(f)})),O=new mt(D,()=>new $t.x).pipe(kt());return this.componentLoaders.set(f,O),O}loadChildren(f,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,U.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const H=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,Kt.U)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(D);let He,ct,Ct=!1;Array.isArray(pe)?ct=pe:(He=pe.create(f).injector,ct=Ir(He.get(Kr,[],h.XFs.Self|h.XFs.Optional)));return{routes:ct.map(Ci),injector:He}}),Lt(()=>{this.childrenLoaders.delete(D)})),z=new mt(H,()=>new $t.x).pipe(kt());return this.childrenLoaders.set(D,z),z}loadModuleFactoryOrRoutes(f){return pt(f()).pipe((0,Kt.U)(vl),(0,Te.z)(D=>D instanceof h.YKP||Array.isArray(D)?(0,U.of)(D):(0,Z.D)(this.compiler.compileModuleAsync(D))))}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function vl(_){return function ha(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Ma=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $t.x,this.configLoader=(0,h.f3M)(As),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(yn),this.rootContexts=(0,h.f3M)(Ri),this.navigationId=0,this.afterPreactivation=()=>(0,U.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Wt(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new nn(O))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:D})}setupNavigations(f){return this.transitions=new le.X({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hi,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,De.h)(D=>0!==D.id),(0,Kt.U)(D=>({...D,extractedUrl:f.urlHandlingStrategy.extract(D.rawUrl)})),(0,Hn.w)(D=>{let O=!1,H=!1;return(0,U.of)(D).pipe((0,Ve.b)(z=>{this.currentNavigation={id:z.id,initialUrl:z.rawUrl,extractedUrl:z.extractedUrl,trigger:z.source,extras:z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.w)(z=>{const pe=f.browserUrlTree.toString(),He=!f.navigated||z.extractedUrl.toString()!==pe||pe!==f.currentUrlTree.toString();if(!He&&"reload"!==(z.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Ct="";return this.events.next(new $i(z.id,f.serializeUrl(D.rawUrl),Ct,0)),f.rawUrlTree=z.rawUrl,z.resolve(null),We.E}if(f.urlHandlingStrategy.shouldProcessUrl(z.rawUrl))return Rs(z.source)&&(f.browserUrlTree=z.extractedUrl),(0,U.of)(z).pipe((0,Hn.w)(Ct=>{const an=this.transitions?.getValue();return this.events.next(new Xi(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),Ct.source,Ct.restoredState)),an!==this.transitions?.getValue()?We.E:Promise.resolve(Ct)}),function Xs(_,v,f,D){return(0,Hn.w)(O=>function Ga(_,v,f,D,O){return new Ss(_,v,f,D,O).apply()}(_,v,f,O.extractedUrl,D).pipe((0,Kt.U)(H=>({...O,urlAfterRedirects:H}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,Ve.b)(Ct=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ct.urlAfterRedirects},D.urlAfterRedirects=Ct.urlAfterRedirects}),function Zn(_,v,f,D,O){return(0,Te.z)(H=>function w(_,v,f,D,O,H,z="emptyOnly"){return new F(_,v,f,D,O,z,H).recognize().pipe((0,Hn.w)(pe=>null===pe?function _o(_){return new ue.y(v=>v.error(_))}(new ds):(0,U.of)(pe)))}(_,v,f,H.urlAfterRedirects,D.serialize(H.urlAfterRedirects),D,O).pipe((0,Kt.U)(z=>({...H,targetSnapshot:z}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,Ve.b)(Ct=>{if(D.targetSnapshot=Ct.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!Ct.extras.skipLocationChange){const Cr=f.urlHandlingStrategy.merge(Ct.urlAfterRedirects,Ct.rawUrl);f.setBrowserUrl(Cr,Ct)}f.browserUrlTree=Ct.urlAfterRedirects}const an=new Vn(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(an)}));if(He&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:Ct,extractedUrl:an,source:Cr,restoredState:so,extras:ao}=z,Ui=new Xi(Ct,this.urlSerializer.serialize(an),Cr,so);this.events.next(Ui);const Lr=Ai(an,this.rootComponentType).snapshot;return D={...z,targetSnapshot:Lr,urlAfterRedirects:an,extras:{...ao,skipLocationChange:!1,replaceUrl:!1}},(0,U.of)(D)}{const Ct="";return this.events.next(new $i(z.id,f.serializeUrl(D.extractedUrl),Ct,1)),f.rawUrlTree=z.rawUrl,z.resolve(null),We.E}}),(0,Ve.b)(z=>{const pe=new Ur(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(pe)}),(0,Kt.U)(z=>D={...z,guards:Xn(z.targetSnapshot,z.currentSnapshot,this.rootContexts)}),function br(_,v){return(0,Te.z)(f=>{const{targetSnapshot:D,currentSnapshot:O,guards:{canActivateChecks:H,canDeactivateChecks:z}}=f;return 0===z.length&&0===H.length?(0,U.of)({...f,guardsResult:!0}):function gi(_,v,f,D){return(0,Z.D)(_).pipe((0,Te.z)(O=>function mo(_,v,f,D,O){const H=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,U.of)(!0);const z=H.map(pe=>{const He=Wr(v)??O,ct=Ao(pe,He);return pt(function Tn(_){return _&&M(_.canDeactivate)}(ct)?ct.canDeactivate(_,v,f,D):He.runInContext(()=>ct(_,v,f,D))).pipe((0,Me.P)())});return(0,U.of)(z).pipe(Ii())}(O.component,O.route,f,v,D)),(0,Me.P)(O=>!0!==O,!0))}(z,D,O,_).pipe((0,Te.z)(pe=>pe&&function R(_){return"boolean"==typeof _}(pe)?function Yi(_,v,f,D){return(0,Z.D)(v).pipe(we(O=>Oe(function mi(_,v){return null!==_&&v&&v(new Kn(_)),(0,U.of)(!0)}(O.route.parent,D),function Mo(_,v){return null!==_&&v&&v(new Rr(_)),(0,U.of)(!0)}(O.route,D),function Ro(_,v,f){const D=v[v.length-1],H=v.slice(0,v.length-1).reverse().map(z=>function Bo(_){const v=_.routeConfig?_.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:_,guards:v}:null}(z)).filter(z=>null!==z).map(z=>ze(()=>{const pe=z.guards.map(He=>{const ct=Wr(z.node)??f,Ct=Ao(He,ct);return pt(function At(_){return _&&M(_.canActivateChild)}(Ct)?Ct.canActivateChild(D,_):ct.runInContext(()=>Ct(D,_))).pipe((0,Me.P)())});return(0,U.of)(pe).pipe(Ii())}));return(0,U.of)(H).pipe(Ii())}(_,O.path,f),function Sa(_,v,f){const D=v.routeConfig?v.routeConfig.canActivate:null;if(!D||0===D.length)return(0,U.of)(!0);const O=D.map(H=>ze(()=>{const z=Wr(v)??f,pe=Ao(H,z);return pt(function be(_){return _&&M(_.canActivate)}(pe)?pe.canActivate(v,_):z.runInContext(()=>pe(v,_))).pipe((0,Me.P)())}));return(0,U.of)(O).pipe(Ii())}(_,O.route,f))),(0,Me.P)(O=>!0!==O,!0))}(D,H,_,v):(0,U.of)(pe)),(0,Kt.U)(pe=>({...f,guardsResult:pe})))})}(this.environmentInjector,z=>this.events.next(z)),(0,Ve.b)(z=>{if(D.guardsResult=z.guardsResult,Zt(z.guardsResult))throw wr(0,z.guardsResult);const pe=new To(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot,!!z.guardsResult);this.events.next(pe)}),(0,De.h)(z=>!!z.guardsResult||(f.restoreHistory(z),this.cancelNavigationTransition(z,"",3),!1)),_i(z=>{if(z.guards.canActivateChecks.length)return(0,U.of)(z).pipe((0,Ve.b)(pe=>{const He=new Uo(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(He)}),(0,Hn.w)(pe=>{let He=!1;return(0,U.of)(pe).pipe(function Pn(_,v){return(0,Te.z)(f=>{const{targetSnapshot:D,guards:{canActivateChecks:O}}=f;if(!O.length)return(0,U.of)(f);let H=0;return(0,Z.D)(O).pipe(we(z=>function lr(_,v,f,D){const O=_.routeConfig,H=_._resolve;return void 0!==O?.title&&!zr(O)&&(H[Fn]=O.title),function io(_,v,f,D){const O=function Oi(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===O.length)return(0,U.of)({});const H={};return(0,Z.D)(O).pipe((0,Te.z)(z=>function Go(_,v,f,D){const O=Wr(v)??D,H=Ao(_,O);return pt(H.resolve?H.resolve(v,f):O.runInContext(()=>H(v,f)))}(_[z],v,f,D).pipe((0,Me.P)(),(0,Ve.b)(pe=>{H[z]=pe}))),wt(1),function qn(_){return(0,Kt.U)(()=>_)}(H),$e(z=>go(z)?We.E:rt(z)))}(H,_,v,D).pipe((0,Kt.U)(z=>(_._resolvedData=z,_.data=ts(_,f).resolve,O&&zr(O)&&(_.data[Fn]=O.title),null)))}(z.route,D,_,v)),(0,Ve.b)(()=>H++),wt(1),(0,Te.z)(z=>H===O.length?(0,U.of)(f):We.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,Ve.b)({next:()=>He=!0,complete:()=>{He||(f.restoreHistory(pe),this.cancelNavigationTransition(pe,"",2))}}))}),(0,Ve.b)(pe=>{const He=new dn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(He)}))}),_i(z=>{const pe=He=>{const ct=[];He.routeConfig?.loadComponent&&!He.routeConfig._loadedComponent&&ct.push(this.configLoader.loadComponent(He.routeConfig).pipe((0,Ve.b)(Ct=>{He.component=Ct}),(0,Kt.U)(()=>{})));for(const Ct of He.children)ct.push(...pe(Ct));return ct};return Ge(pe(z.targetSnapshot.root)).pipe((0,at.d)(),(0,Sr.q)(1))}),_i(()=>this.afterPreactivation()),(0,Kt.U)(z=>{const pe=function is(_,v,f){const D=Pr(_,v._root,f?f._root:void 0);return new Zs(D,v)}(f.routeReuseStrategy,z.targetSnapshot,z.currentRouterState);return D={...z,targetRouterState:pe}}),(0,Ve.b)(z=>{f.currentUrlTree=z.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),f.routerState=z.targetRouterState,"deferred"===f.urlUpdateStrategy&&(z.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,z),f.browserUrlTree=z.urlAfterRedirects)}),((_,v,f)=>(0,Kt.U)(D=>(new Yt(v,D.targetRouterState,D.currentRouterState,f).activate(_),D)))(this.rootContexts,f.routeReuseStrategy,z=>this.events.next(z)),(0,Sr.q)(1),(0,Ve.b)({next:z=>{O=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new Mr(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(z.targetRouterState.snapshot),z.resolve(!0)},complete:()=>{O=!0}}),Lt(()=>{O||H||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),$e(z=>{if(H=!0,jr(z)){yr(z)||(f.navigated=!0,f.restoreHistory(D,!0));const pe=new ii(D.id,this.urlSerializer.serialize(D.extractedUrl),z.message,z.cancellationCode);if(this.events.next(pe),yr(z)){const He=f.urlHandlingStrategy.merge(z.url,f.rawUrlTree),ct={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||Rs(D.source)};f.scheduleNavigation(He,hi,null,ct,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{f.restoreHistory(D,!0);const pe=new mr(D.id,this.urlSerializer.serialize(D.extractedUrl),z,D.targetSnapshot??void 0);this.events.next(pe);try{D.resolve(f.errorHandler(z))}catch(He){D.reject(He)}}return We.E}))}))}cancelNavigationTransition(f,D,O){const H=new ii(f.id,this.urlSerializer.serialize(f.extractedUrl),D,O);this.events.next(H),f.resolve(!1)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Rs(_){return _!==hi}let Oo=(()=>{class _{buildTitle(f){let D,O=f.root;for(;void 0!==O;)D=this.getResolvedTitleForRoute(O)??D,O=O.children.find(H=>H.outlet===_t);return D}getResolvedTitleForRoute(f){return f.data[Fn]}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(Ps)},providedIn:"root"}),_})(),Ps=(()=>{class _ extends Oo{constructor(f){super(),this.title=f}updateTitle(f){const D=this.buildTitle(f);void 0!==D&&this.title.setTitle(D)}}return _.\u0275fac=function(f){return new(f||_)(h.LFG(Ln.Dx))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ea=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(ta)},providedIn:"root"}),_})();class Os{shouldDetach(v){return!1}store(v,f){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,f){return v.routeConfig===f.routeConfig}}let ta=(()=>{class _ extends Os{}return _.\u0275fac=function(){let v;return function(D){return(v||(v=h.n5z(_)))(D||_)}}(),_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Yn=new h.OlP("",{providedIn:"root",factory:()=>({})});let za=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(pa)},providedIn:"root"}),_})(),pa=(()=>{class _{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,D){return f}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ra(_){throw _}function Pa(_,v,f){return v.parse("/")}const Zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Yn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ra,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(za),this.routeReuseStrategy=(0,h.f3M)(ea),this.urlCreationStrategy=(0,h.f3M)(vi),this.titleStrategy=(0,h.f3M)(Oo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ir((0,h.f3M)(Kr,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(Ma),this.urlSerializer=(0,h.f3M)(yn),this.location=(0,h.f3M)(ft.Ye),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ai(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId??0},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hi,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const D="popstate"===f.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,D,f.state)},0)}))}navigateToSyncWithBrowser(f,D,O){const H={replaceUrl:!0},z=O?.navigationId?O:null;if(O){const He={...O};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(H.state=He)}const pe=this.parseUrl(f);this.scheduleNavigation(pe,D,z,H)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(Ci),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,D={}){const{relativeTo:O,queryParams:H,fragment:z,queryParamsHandling:pe,preserveFragment:He}=D,ct=He?this.currentUrlTree.fragment:z;let Ct=null;switch(pe){case"merge":Ct={...this.currentUrlTree.queryParams,...H};break;case"preserve":Ct=this.currentUrlTree.queryParams;break;default:Ct=H||null}return null!==Ct&&(Ct=this.removeEmptyProps(Ct)),this.urlCreationStrategy.createUrlTree(O,this.routerState,this.currentUrlTree,f,Ct,ct??null)}navigateByUrl(f,D={skipLocationChange:!1}){const O=Zt(f)?f:this.parseUrl(f),H=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(H,hi,null,D)}navigate(f,D={skipLocationChange:!1}){return function Oa(_){for(let v=0;v<_.length;v++){const f=_[v];if(null==f)throw new h.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,D),D)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let D;try{D=this.urlSerializer.parse(f)}catch(O){D=this.malformedUriErrorHandler(O,this.urlSerializer,f)}return D}isActive(f,D){let O;if(O=!0===D?{...Zr}:!1===D?{...Ns}:D,Zt(f))return Qn(this.currentUrlTree,f,O);const H=this.parseUrl(f);return Qn(this.currentUrlTree,H,O)}removeEmptyProps(f){return Object.keys(f).reduce((D,O)=>{const H=f[O];return null!=H&&(D[O]=H),D},{})}scheduleNavigation(f,D,O,H,z){if(this.disposed)return Promise.resolve(!1);let pe,He,ct,Ct;return z?(pe=z.resolve,He=z.reject,ct=z.promise):ct=new Promise((an,Cr)=>{pe=an,He=Cr}),Ct="computed"===this.canceledNavigationResolution?O&&O.\u0275routerPageId?O.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ct,source:D,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:H,resolve:pe,reject:He,promise:ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ct.catch(an=>Promise.reject(an))}setBrowserUrl(f,D){const O=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(O)||D.extras.replaceUrl){const z={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(O,"",z)}else{const H={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.go(O,"",H)}}restoreHistory(f,D=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-(this.browserPageId??this.currentPageId);0!==H?this.location.historyGo(H):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===H&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,D){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:D}:{navigationId:f}}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),xs=(()=>{class _{constructor(f,D,O,H,z,pe){this.router=f,this.route=D,this.tabIndexAttribute=O,this.renderer=H,this.el=z,this.locationStrategy=pe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $t.x;const He=z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=f.events.subscribe(ct=>{ct instanceof Mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,h.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,h.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,h.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,D,O,H,z){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||D||O||H||z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,D){const O=this.renderer,H=this.el.nativeElement;null!==D?O.setAttribute(H,f,D):O.removeAttribute(H,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(f){return new(f||_)(h.Y36(An),h.Y36(Br),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ft.S$))},_.\u0275dir=h.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,D){1&f&&h.NdJ("click",function(H){return D.onClick(H.button,H.ctrlKey,H.shiftKey,H.altKey,H.metaKey)}),2&f&&h.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),_})(),ks=(()=>{class _{get isActive(){return this._isActive}constructor(f,D,O,H,z){this.router=f,this.element=D,this.renderer=O,this.cdr=H,this.link=z,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=f.events.subscribe(pe=>{pe instanceof Mr&&this.update()})}ngAfterContentInit(){(0,U.of)(this.links.changes,(0,U.of)(null)).pipe((0,Ae.J)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const f=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,Z.D)(f).pipe((0,Ae.J)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(f){const D=Array.isArray(f)?f:f.split(" ");this.classes=D.filter(O=>!!O)}ngOnChanges(f){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const f=this.hasActiveLinks();this._isActive!==f&&(this._isActive=f,this.cdr.markForCheck(),this.classes.forEach(D=>{f?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const D=function No(_){return!!_.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&f.isActive(O.urlTree,D)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.links.some(f)}}return _.\u0275fac=function(f){return new(f||_)(h.Y36(An),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(xs,8))},_.\u0275dir=h.lG2({type:_,selectors:[["","routerLinkActive",""]],contentQueries:function(f,D,O){if(1&f&&h.Suo(O,xs,5),2&f){let H;h.iGM(H=h.CRH())&&(D.links=H)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),_})();class ma{}let Ka=(()=>{class _{constructor(f,D,O,H,z){this.router=f,this.injector=O,this.preloadingStrategy=H,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,De.h)(f=>f instanceof Mr),we(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,D){const O=[];for(const H of D){H.providers&&!H._injector&&(H._injector=(0,h.MMx)(H.providers,f,`Route: ${H.path}`));const z=H._injector??f,pe=H._loadedInjector??z;(H.loadChildren&&!H._loadedRoutes&&void 0===H.canLoad||H.loadComponent&&!H._loadedComponent)&&O.push(this.preloadConfig(z,H)),(H.children||H._loadedRoutes)&&O.push(this.processRoutes(pe,H.children??H._loadedRoutes))}return(0,Z.D)(O).pipe((0,Ae.J)())}preloadConfig(f,D){return this.preloadingStrategy.preload(D,()=>{let O;O=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(f,D):(0,U.of)(null);const H=O.pipe((0,Te.z)(z=>null===z?(0,U.of)(void 0):(D._loadedRoutes=z.routes,D._loadedInjector=z.injector,this.processRoutes(z.injector??f,z.routes))));if(D.loadComponent&&!D._loadedComponent){const z=this.loader.loadComponent(D);return(0,Z.D)([H,z]).pipe((0,Ae.J)())}return H})}}return _.\u0275fac=function(f){return new(f||_)(h.LFG(An),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(ma),h.LFG(As))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Fs=new h.OlP("");let hs=(()=>{class _{constructor(f,D,O,H,z={}){this.urlSerializer=f,this.transitions=D,this.viewportScroller=O,this.zone=H,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Mr&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Wi&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wi(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(f){h.$Z()},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})();var Yr=(()=>((Yr=Yr||{})[Yr.COMPLETE=0]="COMPLETE",Yr[Yr.FAILED=1]="FAILED",Yr[Yr.REDIRECTING=2]="REDIRECTING",Yr))();const vo=!1;function Vi(_,v){return{\u0275kind:_,\u0275providers:v}}const El=new h.OlP("",{providedIn:"root",factory:()=>!1});function Ls(){const _=(0,h.f3M)(h.zs3);return v=>{const f=_.get(h.z2F);if(v!==f.components[0])return;const D=_.get(An),O=_.get(Il);1===_.get(ya)&&D.initialNavigation(),_.get(fs,null,h.XFs.Optional)?.setUpPreloading(),_.get(Fs,null,h.XFs.Optional)?.init(),D.resetRootComponentType(f.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const Il=new h.OlP(vo?"bootstrap done indicator":"",{factory:()=>new $t.x}),ya=new h.OlP(vo?"initial navigation":"",{providedIn:"root",factory:()=>1});function hu(){let _=[];return _=vo?[{provide:h.Xts,multi:!0,useFactory:()=>{const v=(0,h.f3M)(An);return()=>v.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(function eo(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(f)),console.log(f),console.groupEnd?.()})}}]:[],Vi(1,_)}const fs=new h.OlP(vo?"router preloader":"");function fu(_){return Vi(0,[{provide:fs,useExisting:Ka},{provide:ma,useExisting:_}])}const Ko=!1,Fr=new h.OlP(Ko?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),oo=[ft.Ye,{provide:yn,useClass:cr},An,Ri,{provide:Br,useFactory:function zo(_){return _.routerState.root},deps:[An]},As,Ko?{provide:El,useValue:!0}:[]];function Ja(){return new h.PXZ("Router",An)}let Ni=(()=>{class _{constructor(f){}static forRoot(f,D){return{ngModule:_,providers:[oo,Ko&&D?.enableTracing?hu().\u0275providers:[],{provide:Kr,multi:!0,useValue:f},{provide:Fr,useFactory:Na,deps:[[An,new h.FiY,new h.tp0]]},{provide:Yn,useValue:D||{}},D?.useHash?{provide:ft.S$,useClass:ft.Do}:{provide:ft.S$,useClass:ft.b0},{provide:Fs,useFactory:()=>{const _=(0,h.f3M)(ft.EM),v=(0,h.f3M)(h.R0b),f=(0,h.f3M)(Yn),D=(0,h.f3M)(Ma),O=(0,h.f3M)(yn);return f.scrollOffset&&_.setOffset(f.scrollOffset),new hs(O,D,_,v,f)}},D?.preloadingStrategy?fu(D.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Ja},D?.initialNavigation?xa(D):[],[{provide:yi,useFactory:Ls},{provide:h.tb,multi:!0,useExisting:yi}]]}}static forChild(f){return{ngModule:_,providers:[{provide:Kr,multi:!0,useValue:f}]}}}return _.\u0275fac=function(f){return new(f||_)(h.LFG(Fr,8))},_.\u0275mod=h.oAB({type:_}),_.\u0275inj=h.cJS({imports:[ai]}),_})();function Na(_){if(Ko&&_)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xa(_){return["disabled"===_.initialNavigation?Vi(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const v=(0,h.f3M)(An);return()=>{v.setUpLocationChangeListener()}}},{provide:ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Vi(2,[{provide:ya,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:v=>{const f=v.get(ft.V_,Promise.resolve());return()=>f.then(()=>new Promise(D=>{const O=v.get(An),H=v.get(Il);(function ra(_,v){_.events.pipe((0,De.h)(f=>f instanceof Mr||f instanceof ii||f instanceof mr||f instanceof $i),(0,Kt.U)(f=>f instanceof Mr||f instanceof $i?Yr.COMPLETE:f instanceof ii&&(0===f.code||1===f.code)?Yr.REDIRECTING:Yr.FAILED),(0,De.h)(f=>f!==Yr.REDIRECTING),(0,Sr.q)(1)).subscribe(()=>{v()})})(O,()=>{D(!0)}),v.get(Ma).afterPreactivation=()=>(D(!0),H.closed?(0,U.of)(void 0):H),O.initialNavigation()}))}}]).\u0275providers:[]]}const yi=new h.OlP(Ko?"Router Initializer":"")},3942:(vt,Pe,V)=>{V.d(Pe,{Z:()=>tt});var h=V(2090),Z=V(4859),U=V(6881),le=V(1877);class ae{constructor(Ae,qe){this._delegate=Ae,this.firebase=qe,(0,U._addComponent)(Ae,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ae,qe=U._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Ae);return!Je.isInitialized()&&"EXPLICIT"===(null===(Oe=Je.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:qe})}_removeServiceInstance(Ae,qe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(qe)}_addComponent(Ae){(0,U._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,U._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function ve(){const Et=function _e(Et){const Ae={},qe={__esModule:!0,initializeApp:function ze(We,st={}){const L=U.initializeApp(We,st);if((0,h.r3)(Ae,L.name))return Ae[L.name];const kt=new Et(L,qe);return Ae[L.name]=kt,kt},app:Je,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Be(We){const st=We.name,L=st.replace("-compat","");if(U._registerComponent(We)&&"PUBLIC"===We.type){const kt=(mt=Je())=>{if("function"!=typeof mt[L])throw me.create("invalid-app-argument",{appName:st});return mt[L]()};void 0!==We.serviceProps&&(0,h.ZB)(kt,We.serviceProps),qe[L]=kt,Et.prototype[L]=function(...mt){return this._getService.bind(this,st).apply(this,We.multipleInstances?mt:[])}}return"PUBLIC"===We.type?qe[L]:null},removeApp:function Oe(We){delete Ae[We]},useAsService:function rt(We,st){return"serverAuth"===st?null:st},modularAPIs:U}};function Je(We){if(!(0,h.r3)(Ae,We=We||U._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:We});return Ae[We]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function Le(){return Object.keys(Ae).map(We=>Ae[We])}}),Je.App=Et,qe}(ae);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ae(qe){(0,h.ZB)(Et,qe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Et}(),ne=new le.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=te;!function Ge(Et){(0,U.registerVersion)("@firebase/app-compat","0.2.13",Et)}()},6881:(vt,Pe,V)=>{V.r(Pe),V.d(Pe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>Ir,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Ot,_apps:()=>un,_clearComponents:()=>pr,_components:()=>jt,_getProvider:()=>fr,_registerComponent:()=>ei,_removeServiceInstance:()=>Qn,deleteApp:()=>ur,getApp:()=>rr,getApps:()=>yt,initializeApp:()=>on,onLog:()=>di,registerVersion:()=>xn,setLogLevel:()=>yn});var h=V(5861),Z=V(4859),U=V(1877),le=V(2090);const ae=(xe,Ce)=>Ce.some(Qe=>xe instanceof Qe);let ue,me;const te=new WeakMap,ne=new WeakMap,se=new WeakMap,et=new WeakMap,Ge=new WeakMap;let Ae={get(xe,Ce,Qe){if(xe instanceof IDBTransaction){if("done"===Ce)return ne.get(xe);if("objectStoreNames"===Ce)return xe.objectStoreNames||se.get(xe);if("store"===Ce)return Qe.objectStoreNames[1]?void 0:Qe.objectStore(Qe.objectStoreNames[0])}return ze(xe[Ce])},set:(xe,Ce,Qe)=>(xe[Ce]=Qe,!0),has:(xe,Ce)=>xe instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in xe};function Je(xe){return"function"==typeof xe?function Oe(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...Ce){return xe.apply(Le(this),Ce),ze(te.get(this))}:function(...Ce){return ze(xe.apply(Le(this),Ce))}:function(Ce,...Qe){const bt=xe.call(Le(this),Ce,...Qe);return se.set(bt,Ce.sort?Ce.sort():[Ce]),ze(bt)}}(xe):(xe instanceof IDBTransaction&&function Et(xe){if(ne.has(xe))return;const Ce=new Promise((Qe,bt)=>{const Vt=()=>{xe.removeEventListener("complete",Zt),xe.removeEventListener("error",Mt),xe.removeEventListener("abort",Mt)},Zt=()=>{Qe(),Vt()},Mt=()=>{bt(xe.error||new DOMException("AbortError","AbortError")),Vt()};xe.addEventListener("complete",Zt),xe.addEventListener("error",Mt),xe.addEventListener("abort",Mt)});ne.set(xe,Ce)}(xe),ae(xe,function _e(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,Ae):xe)}function ze(xe){if(xe instanceof IDBRequest)return function tt(xe){const Ce=new Promise((Qe,bt)=>{const Vt=()=>{xe.removeEventListener("success",Zt),xe.removeEventListener("error",Mt)},Zt=()=>{Qe(ze(xe.result)),Vt()},Mt=()=>{bt(xe.error),Vt()};xe.addEventListener("success",Zt),xe.addEventListener("error",Mt)});return Ce.then(Qe=>{Qe instanceof IDBCursor&&te.set(Qe,xe)}).catch(()=>{}),Ge.set(Ce,xe),Ce}(xe);if(et.has(xe))return et.get(xe);const Ce=Je(xe);return Ce!==xe&&(et.set(xe,Ce),Ge.set(Ce,xe)),Ce}const Le=xe=>Ge.get(xe),We=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],L=new Map;function kt(xe,Ce){if(!(xe instanceof IDBDatabase)||Ce in xe||"string"!=typeof Ce)return;if(L.get(Ce))return L.get(Ce);const Qe=Ce.replace(/FromIndex$/,""),bt=Ce!==Qe,Vt=st.includes(Qe);if(!(Qe in(bt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!We.includes(Qe))return;const Zt=function(){var Mt=(0,h.Z)(function*(pn,...cn){const hr=this.transaction(pn,Vt?"readwrite":"readonly");let ir=hr.store;return bt&&(ir=ir.index(cn.shift())),(yield Promise.all([ir[Qe](...cn),Vt&&hr.done]))[0]});return function(cn){return Mt.apply(this,arguments)}}();return L.set(Ce,Zt),Zt}!function qe(xe){Ae=xe(Ae)}(xe=>({...xe,get:(Ce,Qe,bt)=>kt(Ce,Qe)||xe.get(Ce,Qe,bt),has:(Ce,Qe)=>!!kt(Ce,Qe)||xe.has(Ce,Qe)}));class mt{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function $t(xe){return"VERSION"===xe.getComponent()?.type}(Qe)){const bt=Qe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Qe=>Qe).join(" ")}}const ft="@firebase/app",Hn=new U.Yd("@firebase/app"),Ir="[DEFAULT]",On={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,jt=new Map;function pt(xe,Ce){try{xe.container.addComponent(Ce)}catch(Qe){Hn.debug(`Component ${Ce.name} failed to register with FirebaseApp ${xe.name}`,Qe)}}function Ot(xe,Ce){xe.container.addOrOverwriteComponent(Ce)}function ei(xe){const Ce=xe.name;if(jt.has(Ce))return Hn.debug(`There were multiple attempts to register component ${Ce}.`),!1;jt.set(Ce,xe);for(const Qe of un.values())pt(Qe,xe);return!0}function fr(xe,Ce){const Qe=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),xe.container.getProvider(Ce)}function Qn(xe,Ce,Qe=Ir){fr(xe,Ce).clearInstance(Qe)}function pr(){jt.clear()}const ti=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor(Ce,Qe,bt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const bi="9.23.0";function on(xe,Ce={}){let Qe=xe;"object"!=typeof Ce&&(Ce={name:Ce});const bt=Object.assign({name:Ir,automaticDataCollectionEnabled:!1},Ce),Vt=bt.name;if("string"!=typeof Vt||!Vt)throw ti.create("bad-app-name",{appName:String(Vt)});if(Qe||(Qe=(0,le.aH)()),!Qe)throw ti.create("no-options");const Zt=un.get(Vt);if(Zt){if((0,le.vZ)(Qe,Zt.options)&&(0,le.vZ)(bt,Zt.config))return Zt;throw ti.create("duplicate-app",{appName:Vt})}const Mt=new Z.H0(Vt);for(const cn of jt.values())Mt.addComponent(cn);const pn=new mn(Qe,bt,Mt);return un.set(Vt,pn),pn}function rr(xe=Ir){const Ce=un.get(xe);if(!Ce&&xe===Ir&&(0,le.aH)())return on();if(!Ce)throw ti.create("no-app",{appName:xe});return Ce}function yt(){return Array.from(un.values())}function ur(xe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(xe){const Ce=xe.name;un.has(Ce)&&(un.delete(Ce),yield Promise.all(xe.container.getProviders().map(Qe=>Qe.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function xn(xe,Ce,Qe){var bt;let Vt=null!==(bt=On[xe])&&void 0!==bt?bt:xe;Qe&&(Vt+=`-${Qe}`);const Zt=Vt.match(/\s|\//),Mt=Ce.match(/\s|\//);if(Zt||Mt){const pn=[`Unable to register library "${Vt}" with version "${Ce}":`];return Zt&&pn.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Zt&&Mt&&pn.push("and"),Mt&&pn.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void Hn.warn(pn.join(" "))}ei(new Z.wA(`${Vt}-version`,()=>({library:Vt,version:Ce}),"VERSION"))}function di(xe,Ce){if(null!==xe&&"function"!=typeof xe)throw ti.create("invalid-log-argument");(0,U.Am)(xe,Ce)}function yn(xe){(0,U.Ub)(xe)}const cr="firebase-heartbeat-database",dr=1,re="firebase-heartbeat-store";let J=null;function de(){return J||(J=function Be(xe,Ce,{blocked:Qe,upgrade:bt,blocking:Vt,terminated:Zt}={}){const Mt=indexedDB.open(xe,Ce),pn=ze(Mt);return bt&&Mt.addEventListener("upgradeneeded",cn=>{bt(ze(Mt.result),cn.oldVersion,cn.newVersion,ze(Mt.transaction),cn)}),Qe&&Mt.addEventListener("blocked",cn=>Qe(cn.oldVersion,cn.newVersion,cn)),pn.then(cn=>{Zt&&cn.addEventListener("close",()=>Zt()),Vt&&cn.addEventListener("versionchange",hr=>Vt(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),pn}(cr,dr,{upgrade:(xe,Ce)=>{0===Ce&&xe.createObjectStore(re)}}).catch(xe=>{throw ti.create("idb-open",{originalErrorMessage:xe.message})})),J}function Ee(){return(Ee=(0,h.Z)(function*(xe){try{return yield(yield de()).transaction(re).objectStore(re).get(ie(xe))}catch(Ce){if(Ce instanceof le.ZR)Hn.warn(Ce.message);else{const Qe=ti.create("idb-get",{originalErrorMessage:Ce?.message});Hn.warn(Qe.message)}}})).apply(this,arguments)}function nt(xe,Ce){return he.apply(this,arguments)}function he(){return(he=(0,h.Z)(function*(xe,Ce){try{const bt=(yield de()).transaction(re,"readwrite");yield bt.objectStore(re).put(Ce,ie(xe)),yield bt.done}catch(Qe){if(Qe instanceof le.ZR)Hn.warn(Qe.message);else{const bt=ti.create("idb-set",{originalErrorMessage:Qe?.message});Hn.warn(bt.message)}}})).apply(this,arguments)}function ie(xe){return`${xe.name}!${xe.options.appId}`}class Ue{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new wn(Qe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var Ce=this;return(0,h.Z)(function*(){const bt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Xe();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===Vt))return Ce._heartbeatsCache.heartbeats.push({date:Vt,agent:bt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const Mt=new Date(Zt.date).valueOf();return Date.now()-Mt<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,h.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Qe=Xe(),{heartbeatsToSend:bt,unsentEntries:Vt}=function Ft(xe,Ce=1024){const Qe=[];let bt=xe.slice();for(const Vt of xe){const Zt=Qe.find(Mt=>Mt.agent===Vt.agent);if(Zt){if(Zt.dates.push(Vt.date),Wn(Qe)>Ce){Zt.dates.pop();break}}else if(Qe.push({agent:Vt.agent,dates:[Vt.date]}),Wn(Qe)>Ce){Qe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:bt}}(Ce._heartbeatsCache.heartbeats),Zt=(0,le.L)(JSON.stringify({version:2,heartbeats:bt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Qe,Vt.length>0?(Ce._heartbeatsCache.heartbeats=Vt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function Xe(){return(new Date).toISOString().substring(0,10)}class wn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,h.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function je(xe){return Ee.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Qe=this;return(0,h.Z)(function*(){var bt;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return nt(Qe.app,{lastSentHeartbeatDate:null!==(bt=Ce.lastSentHeartbeatDate)&&void 0!==bt?bt:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Qe=this;return(0,h.Z)(function*(){var bt;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return nt(Qe.app,{lastSentHeartbeatDate:null!==(bt=Ce.lastSentHeartbeatDate)&&void 0!==bt?bt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Wn(xe){return(0,le.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function ni(xe){ei(new Z.wA("platform-logger",Ce=>new mt(Ce),"PRIVATE")),ei(new Z.wA("heartbeat",Ce=>new Ue(Ce),"PRIVATE")),xn(ft,"0.9.13",xe),xn(ft,"0.9.13","esm2017"),xn("fire-js","")}("")},4859:(vt,Pe,V)=>{V.d(Pe,{H0:()=>_e,wA:()=>U,zt:()=>ae});var h=V(5861),Z=V(2090);class U{constructor(te,ne,se){this.name=te,this.instanceFactory=ne,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const le="[DEFAULT]";class ae{constructor(te,ne){this.name=te,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ne=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ne)){const se=new Z.BH;if(this.instancesDeferred.set(ne,se),this.isInitialized(ne)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:ne});et&&se.resolve(et)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(te){var ne;const se=this.normalizeInstanceIdentifier(te?.identifier),et=null!==(ne=te?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ge){if(et)return null;throw Ge}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function me(ve){return"EAGER"===ve.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[ne,se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(ne);try{const Ge=this.getOrInitializeService({instanceIdentifier:et});se.resolve(Ge)}catch{}}}}clearInstance(te=le){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,h.Z)(function*(){const ne=Array.from(te.instances.values());yield Promise.all([...ne.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...ne.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=le){return this.instances.has(te)}getOptions(te=le){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ne={}}=te,se=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:se,options:ne});for(const[Ge,tt]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ge)&&tt.resolve(et);return et}onInit(te,ne){var se;const et=this.normalizeInstanceIdentifier(ne),Ge=null!==(se=this.onInitCallbacks.get(et))&&void 0!==se?se:new Set;Ge.add(te),this.onInitCallbacks.set(et,Ge);const tt=this.instances.get(et);return tt&&te(tt,et),()=>{Ge.delete(te)}}invokeOnInitCallbacks(te,ne){const se=this.onInitCallbacks.get(ne);if(se)for(const et of se)try{et(te,ne)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ne={}}){let se=this.instances.get(te);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=te,ve===le?void 0:ve),options:ne}),this.instances.set(te,se),this.instancesOptions.set(te,ne),this.invokeOnInitCallbacks(se,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,se)}catch{}var ve;return se||null}normalizeInstanceIdentifier(te=le){return this.component?this.component.multipleInstances?te:le:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ne=this.getProvider(te.name);if(ne.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ne.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ne=new ae(te,this);return this.providers.set(te,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Pe,V)=>{V.d(Pe,{Am:()=>ve,Ub:()=>_e,Yd:()=>me,in:()=>Z});const h=[];var Z=(()=>{return(te=Z||(Z={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",Z;var te})();const U={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},le=Z.INFO,ae={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ue=(te,ne,...se)=>{if(ne<te.logLevel)return;const et=(new Date).toISOString(),Ge=ae[ne];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ge](`[${et}]  ${te.name}:`,...se)};class me{constructor(ne){this.name=ne,this._logLevel=le,this._logHandler=ue,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in Z))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?U[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ne),this._logHandler(this,Z.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ne),this._logHandler(this,Z.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ne),this._logHandler(this,Z.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ne),this._logHandler(this,Z.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ne),this._logHandler(this,Z.ERROR,...ne)}}function _e(te){h.forEach(ne=>{ne.setLogLevel(te)})}function ve(te,ne){for(const se of h){let et=null;ne&&ne.level&&(et=U[ne.level]),se.userLogHandler=null===te?null:(Ge,tt,...Et)=>{const Ae=Et.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch{return null}}).filter(qe=>qe).join(" ");tt>=(et??Ge.logLevel)&&te({level:Z[tt].toLowerCase(),message:Ae,args:Et,type:Ge.name})}}}},259:(vt,Pe,V)=>{V.d(Pe,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=V(6881);(0,h.registerVersion)("firebase","9.23.0","app")},9260:(vt,Pe,V)=>{V.d(Pe,{Z:()=>h.Z});var h=V(3942);h.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(vt,Pe,V)=>{V.r(Pe);var h=V(5861),Z=V(3942),U=V(2090),le=V(6881),ae=V(7582),ue=V(1877),me=V(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se_EMAIL_SIGNIN="EMAIL_SIGNIN",se_PASSWORD_RESET="PASSWORD_RESET",se_RECOVER_EMAIL="RECOVER_EMAIL",se_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",se_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",se_VERIFY_EMAIL="VERIFY_EMAIL";const tt=function et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Et=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ue.Yd("@firebase/auth");function ze(g,...l){Oe.logLevel<=ue.in.ERROR&&Oe.error(`Auth (${le.SDK_VERSION}): ${g}`,...l)}function Le(g,...l){throw st(g,...l)}function Be(g,...l){return st(g,...l)}function rt(g,l,c){const y=Object.assign(Object.assign({},Et()),{[l]:c});return new U.LL("auth","Firebase",y).create(l,{appName:g.name})}function We(g,l,c){if(!(l instanceof c))throw c.name!==l.constructor.name&&Le(g,"argument-error"),rt(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(g,...l){if("string"!=typeof g){const c=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=g.name),g._errorFactory.create(c,...y)}return Ae.create(g,...l)}function L(g,l,...c){if(!g)throw st(l,...c)}function kt(g){const l="INTERNAL ASSERTION FAILED: "+g;throw ze(l),new Error(l)}function mt(g,l){g||kt(l)}function $t(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function ft(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Xr{constructor(l,c){this.shortDelay=l,this.longDelay=c,mt(c>l,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(g,l){mt(g.emulator,"Emulator should always be set here");const{url:c}=g.emulator;return l?`${c}${l.startsWith("/")?l.slice(1):l}`:c}class Te{static initialize(l,c,y){this.fetchImpl=l,c&&(this.headersImpl=c),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new Xr(3e4,6e4);function Ve(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function $e(g,l,c,y){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(g,l,c,y,N={}){return wt(g,N,(0,h.Z)(function*(){let $={},oe={};y&&("GET"===l?oe=y:$={body:JSON.stringify(y)});const Ie=(0,U.xO)(Object.assign({key:g.config.apiKey},oe)).slice(1),it=yield g._getAdditionalHeaders();return it["Content-Type"]="application/json",g.languageCode&&(it["X-Firebase-Locale"]=g.languageCode),Te.fetch()(In(g,g.config.apiHost,c,Ie),Object.assign({method:l,headers:it,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function wt(g,l,c){return fn.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(g,l,c){g._canInitEmulator=!1;const y=Object.assign(Object.assign({},Me),l);try{const N=new qn(g),$=yield Promise.race([c(),N.promise]);N.clearNetworkTimeout();const oe=yield $.json();if("needConfirmation"in oe)throw Lt(g,"account-exists-with-different-credential",oe);if($.ok&&!("errorMessage"in oe))return oe;{const Ie=$.ok?oe.errorMessage:oe.error.message,[it,ht]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw Lt(g,"credential-already-in-use",oe);if("EMAIL_EXISTS"===it)throw Lt(g,"email-already-in-use",oe);if("USER_DISABLED"===it)throw Lt(g,"user-disabled",oe);const Rt=y[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw rt(g,Rt,ht);Le(g,Rt)}}catch(N){if(N instanceof U.ZR)throw N;Le(g,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function at(g,l,c,y){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(g,l,c,y,N={}){const $=yield $e(g,l,c,y,N);return"mfaPendingCredential"in $&&Le(g,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function In(g,l,c,y){const N=`${l}${c}?${y}`;return g.config.emulator?De(g.config,N):`${g.config.apiScheme}://${N}`}class qn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((c,y)=>{this.timer=setTimeout(()=>y(Be(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lt(g,l,c){const y={appName:g.name};c.email&&(y.email=c.email),c.phoneNumber&&(y.phoneNumber=c.phoneNumber);const N=Be(g,l,y);return N.customData._tokenResponse=c,N}function _t(){return(_t=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Dn(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Ir(){return(Ir=(0,h.Z)(function*(g,l=!1){const c=(0,U.m9)(g),y=yield c.getIdToken(l),N=un(y);L(N&&N.exp&&N.auth_time&&N.iat,c.auth,"internal-error");const $="object"==typeof N.firebase?N.firebase:void 0,oe=$?.sign_in_provider;return{claims:N,token:y,authTime:Dn(On(N.auth_time)),issuedAtTime:Dn(On(N.iat)),expirationTime:Dn(On(N.exp)),signInProvider:oe||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function On(g){return 1e3*Number(g)}function un(g){const[l,c,y]=g.split(".");if(void 0===l||void 0===c||void 0===y)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,U.tV)(c);return N?JSON.parse(N):(ze("Failed to decode base64 JWT payload"),null)}catch(N){return ze("Caught error parsing JWT payload as JSON",N?.toString()),null}}function pt(g,l){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(g,l,c=!1){if(c)return l;try{return yield l}catch(y){throw y instanceof U.ZR&&function ei({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(y)&&g.auth.currentUser===g&&(yield g.auth.signOut()),y}})).apply(this,arguments)}class fr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var c;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const N=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(l=!1){var c=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,h.Z)(function*(){yield c.iteration()}),y)}iteration(){var l=this;return(0,h.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&l.schedule(!0))}l.schedule()})()}}class Qn{constructor(l,c){this.createdAt=l,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(g){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,h.Z)(function*(g){var l;const c=g.auth,y=yield g.getIdToken(),N=yield pt(g,function gn(g,l){return Dt.apply(this,arguments)}(c,{idToken:y}));L(N?.users.length,c,"internal-error");const $=N.users[0];g._notifyReloadListener($);const oe=null!==(l=$.providerUserInfo)&&void 0!==l&&l.length?function on(g){return g.map(l=>{var{providerId:c}=l,y=(0,ae._T)(l,["providerId"]);return{providerId:c,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}($.providerUserInfo):[],Ie=function bi(g,l){return[...g.filter(y=>!l.some(N=>N.providerId===y.providerId)),...l]}(g.providerData,oe),Rt=!!g.isAnonymous&&!(g.email&&$.passwordHash||Ie?.length),xt={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Ie,metadata:new Qn($.createdAt,$.lastLoginAt),isAnonymous:Rt};Object.assign(g,xt)}),Nn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(g){const l=(0,U.m9)(g);yield pr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(g,l){const c=yield wt(g,{},(0,h.Z)(function*(){const y=(0,U.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:N,apiKey:$}=g.config,oe=In(g,N,"/v1/token",`key=${$}`),Ie=yield g._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(oe,{method:"POST",headers:Ie,body:y})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}class ur{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){L(l.idToken,"internal-error"),L(typeof l.idToken<"u","internal-error"),L(typeof l.refreshToken<"u","internal-error");const c="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function jt(g){const l=un(g);return L(l,"internal-error"),L(typeof l.exp<"u","internal-error"),L(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,c)}getToken(l,c=!1){var y=this;return(0,h.Z)(function*(){return L(!y.accessToken||y.refreshToken,l,"user-token-expired"),c||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,c){var y=this;return(0,h.Z)(function*(){const{accessToken:N,refreshToken:$,expiresIn:oe}=yield function rr(g,l){return yt.apply(this,arguments)}(l,c);y.updateTokensAndExpiration(N,$,Number(oe))})()}updateTokensAndExpiration(l,c,y){this.refreshToken=c||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,c){const{refreshToken:y,accessToken:N,expirationTime:$}=c,oe=new ur;return y&&(L("string"==typeof y,"internal-error",{appName:l}),oe.refreshToken=y),N&&(L("string"==typeof N,"internal-error",{appName:l}),oe.accessToken=N),$&&(L("number"==typeof $,"internal-error",{appName:l}),oe.expirationTime=$),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new ur,this.toJSON())}_performRefresh(){return kt("not implemented")}}function Jn(g,l){L("string"==typeof g||typeof g>"u","internal-error",{appName:l})}class xn{constructor(l){var{uid:c,auth:y,stsTokenManager:N}=l,$=(0,ae._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=y,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new Qn($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(l){var c=this;return(0,h.Z)(function*(){const y=yield pt(c,c.stsTokenManager.getToken(c.auth,l));return L(y,c.auth,"internal-error"),c.accessToken!==y&&(c.accessToken=y,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),y})()}getIdTokenResult(l){return function nr(g){return Ir.apply(this,arguments)}(this,l)}reload(){return function ti(g){return mn.apply(this,arguments)}(this)}_assign(l){this!==l&&(L(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(c=>Object.assign({},c)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const c=new xn(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(l){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,c=!1){var y=this;return(0,h.Z)(function*(){let N=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),N=!0),c&&(yield pr(y)),yield y.auth._persistUserIfCurrent(y),N&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,h.Z)(function*(){const c=yield l.getIdToken();return yield pt(l,function Ln(g,l){return _t.apply(this,arguments)}(l.auth,{idToken:c})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,c){var y,N,$,oe,Ie,it,ht,Rt;const xt=null!==(y=c.displayName)&&void 0!==y?y:void 0,Tr=null!==(N=c.email)&&void 0!==N?N:void 0,Ws=null!==($=c.phoneNumber)&&void 0!==$?$:void 0,kl=null!==(oe=c.photoURL)&&void 0!==oe?oe:void 0,Bc=null!==(Ie=c.tenantId)&&void 0!==Ie?Ie:void 0,Qr=null!==(it=c._redirectEventId)&&void 0!==it?it:void 0,Hc=null!==(ht=c.createdAt)&&void 0!==ht?ht:void 0,jc=null!==(Rt=c.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:ou,emailVerified:rc,isAnonymous:wa,providerData:xi,stsTokenManager:Lo}=c;L(ou&&Lo,l,"internal-error");const su=ur.fromJSON(this.name,Lo);L("string"==typeof ou,l,"internal-error"),Jn(xt,l.name),Jn(Tr,l.name),L("boolean"==typeof rc,l,"internal-error"),L("boolean"==typeof wa,l,"internal-error"),Jn(Ws,l.name),Jn(kl,l.name),Jn(Bc,l.name),Jn(Qr,l.name),Jn(Hc,l.name),Jn(jc,l.name);const Pu=new xn({uid:ou,auth:l,email:Tr,emailVerified:rc,displayName:xt,isAnonymous:wa,photoURL:kl,phoneNumber:Ws,tenantId:Bc,stsTokenManager:su,createdAt:Hc,lastLoginAt:jc});return xi&&Array.isArray(xi)&&(Pu.providerData=xi.map(Rh=>Object.assign({},Rh))),Qr&&(Pu._redirectEventId=Qr),Pu}static _fromIdTokenResponse(l,c,y=!1){return(0,h.Z)(function*(){const N=new ur;N.updateFromServerResponse(c);const $=new xn({uid:c.localId,auth:l,stsTokenManager:N,isAnonymous:y});return yield pr($),$})()}}const di=new Map;function yn(g){mt(g instanceof Function,"Expected a class definition");let l=di.get(g);return l?(mt(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,di.set(g,l),l)}const dr=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(c,y){var N=this;return(0,h.Z)(function*(){N.storage[c]=y})()}_get(c){var y=this;return(0,h.Z)(function*(){const N=y.storage[c];return void 0===N?null:N})()}_remove(c){var y=this;return(0,h.Z)(function*(){delete y.storage[c]})()}_addListener(c,y){}_removeListener(c,y){}}return g.type="NONE",g})();function re(g,l,c){return`firebase:${g}:${l}:${c}`}class J{constructor(l,c,y){this.persistence=l,this.auth=c,this.userKey=y;const{config:N,name:$}=this.auth;this.fullUserKey=re(this.userKey,N.apiKey,$),this.fullPersistenceKey=re("persistence",N.apiKey,$),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,h.Z)(function*(){const c=yield l.persistence._get(l.fullUserKey);return c?xn._fromJSON(l.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var c=this;return(0,h.Z)(function*(){if(c.persistence===l)return;const y=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=l,y?c.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,c,y="authUser"){return(0,h.Z)(function*(){if(!c.length)return new J(yn(dr),l,y);const N=(yield Promise.all(c.map(function(){var ht=(0,h.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let $=N[0]||yn(dr);const oe=re(y,l.config.apiKey,l.name);let Ie=null;for(const ht of c)try{const Rt=yield ht._get(oe);if(Rt){const xt=xn._fromJSON(l,Rt);ht!==$&&(Ie=xt),$=ht;break}}catch{}const it=N.filter(ht=>ht._shouldAllowMigration);return $._shouldAllowMigration&&it.length?($=it[0],Ie&&(yield $._set(oe,Ie.toJSON())),yield Promise.all(c.map(function(){var ht=(0,h.Z)(function*(Rt){if(Rt!==$)try{yield Rt._remove(oe)}catch{}});return function(Rt){return ht.apply(this,arguments)}}())),new J($,l,y)):new J($,l,y)})()}}function de(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(he(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(je(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(q(l))return"Blackberry";if(ye(l))return"Webos";if(Ee(l))return"Safari";if((l.includes("chrome/")||nt(l))&&!l.includes("edge/"))return"Chrome";if(ie(l))return"Android";{const y=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function je(g=(0,U.z$)()){return/firefox\//i.test(g)}function Ee(g=(0,U.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function nt(g=(0,U.z$)()){return/crios\//i.test(g)}function he(g=(0,U.z$)()){return/iemobile/i.test(g)}function ie(g=(0,U.z$)()){return/android/i.test(g)}function q(g=(0,U.z$)()){return/blackberry/i.test(g)}function ye(g=(0,U.z$)()){return/webos/i.test(g)}function Ue(g=(0,U.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function Wn(g=(0,U.z$)()){return Ue(g)||ie(g)||ye(g)||q(g)||/windows phone/i.test(g)||he(g)}function xe(g,l=[]){let c;switch(g){case"Browser":c=de((0,U.z$)());break;case"Worker":c=`${de((0,U.z$)())}-${g}`;break;default:c=g}const y=l.length?l.join(","):"FirebaseCore-web";return`${c}/JsCore/${le.SDK_VERSION}/${y}`}function Qe(){return(Qe=(0,h.Z)(function*(g){return(yield $e(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bt(g,l){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(g,l){return $e(g,"GET","/v2/recaptchaConfig",Ve(g,l))})).apply(this,arguments)}function Zt(g){return void 0!==g&&void 0!==g.getResponse}function Mt(g){return void 0!==g&&void 0!==g.enterprise}class pn{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(c=>"EMAIL_PASSWORD_PROVIDER"===c.provider&&"OFF"!==c.enforcementState)}}function hr(g){return new Promise((l,c)=>{const y=document.createElement("script");y.setAttribute("src",g),y.onload=l,y.onerror=N=>{const $=Be("internal-error");$.customData=N,c($)},y.type="text/javascript",y.charset="UTF-8",function cn(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(y)})}function ir(g){return`__${g}${Math.floor(1e6*Math.random())}`}const gr="NO_RECAPTCHA";class ri{constructor(l){this.type="recaptcha-enterprise",this.auth=Cn(l)}verify(l="verify",c=!1){var y=this;return(0,h.Z)(function*(){function $(){return $=(0,h.Z)(function*(Ie){if(!c){if(null==Ie.tenantId&&null!=Ie._agentRecaptchaConfig)return Ie._agentRecaptchaConfig.siteKey;if(null!=Ie.tenantId&&void 0!==Ie._tenantRecaptchaConfigs[Ie.tenantId])return Ie._tenantRecaptchaConfigs[Ie.tenantId].siteKey}return new Promise(function(){var it=(0,h.Z)(function*(ht,Rt){bt(Ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xt=>{if(void 0!==xt.recaptchaKey){const Tr=new pn(xt);return null==Ie.tenantId?Ie._agentRecaptchaConfig=Tr:Ie._tenantRecaptchaConfigs[Ie.tenantId]=Tr,ht(Tr.siteKey)}Rt(new Error("recaptcha Enterprise site key undefined"))}).catch(xt=>{Rt(xt)})});return function(ht,Rt){return it.apply(this,arguments)}}())}),$.apply(this,arguments)}function oe(Ie,it,ht){const Rt=window.grecaptcha;Mt(Rt)?Rt.enterprise.ready(()=>{Rt.enterprise.execute(Ie,{action:l}).then(xt=>{it(xt)}).catch(()=>{it(gr)})}):ht(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ie,it)=>{(function N(Ie){return $.apply(this,arguments)})(y.auth).then(ht=>{if(!c&&Mt(window.grecaptcha))oe(ht,Ie,it);else{if(typeof window>"u")return void it(new Error("RecaptchaVerifier is only supported in browser"));hr("https://www.google.com/recaptcha/enterprise.js?render="+ht).then(()=>{oe(ht,Ie,it)}).catch(Rt=>{it(Rt)})}}).catch(ht=>{it(ht)})})})()}}function ut(g,l,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,h.Z)(function*(g,l,c,y=!1){const N=new ri(g);let $;try{$=yield N.verify(c)}catch{$=yield N.verify(c,!0)}const oe=Object.assign({},l);return Object.assign(oe,y?{captchaResp:$}:{captchaResponse:$}),Object.assign(oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),oe})).apply(this,arguments)}class En{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,c){const y=$=>new Promise((oe,Ie)=>{try{oe(l($))}catch(it){Ie(it)}});y.onAbort=c,this.queue.push(y);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(l){var c=this;return(0,h.Z)(function*(){if(c.auth.currentUser===l)return;const y=[];try{for(const N of c.queue)yield N(l),N.onAbort&&y.push(N.onAbort)}catch(N){y.reverse();for(const $ of y)try{$()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class Ar{constructor(l,c,y,N){this.app=l,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=y,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new or(this),this.idTokenSubscription=new or(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(l,c){var y=this;return c&&(this._popupRedirectResolver=yn(c)),this._initializationPromise=this.queue((0,h.Z)(function*(){var N,$;if(!y._deleted&&(y.persistenceManager=yield J.create(y,l),!y._deleted)){if(null!==(N=y._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(c),y.lastNotifiedUid=(null===($=y.currentUser)||void 0===$?void 0:$.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,h.Z)(function*(){if(l._deleted)return;const c=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||c){if(l.currentUser&&c&&l.currentUser.uid===c.uid)return l._currentUser._assign(c),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(c,!0)}})()}initializeCurrentUser(l){var c=this;return(0,h.Z)(function*(){var y;const N=yield c.assertedPersistence.getCurrentUser();let $=N,oe=!1;if(l&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const Ie=null===(y=c.redirectUser)||void 0===y?void 0:y._redirectEventId,it=$?._redirectEventId,ht=yield c.tryRedirectSignIn(l);(!Ie||Ie===it)&&ht?.user&&($=ht.user,oe=!0)}if(!$)return c.directlySetCurrentUser(null);if(!$._redirectEventId){if(oe)try{yield c.beforeStateQueue.runMiddleware($)}catch(Ie){$=N,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(Ie))}return $?c.reloadAndSetCurrentUserOrClear($):c.directlySetCurrentUser(null)}return L(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===$._redirectEventId?c.directlySetCurrentUser($):c.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(l){var c=this;return(0,h.Z)(function*(){let y=null;try{y=yield c._popupRedirectResolver._completeRedirectFn(c,l,!0)}catch{yield c._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var c=this;return(0,h.Z)(function*(){try{yield pr(l)}catch(y){if("auth/network-request-failed"!==y?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Sr(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,h.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var c=this;return(0,h.Z)(function*(){const y=l?(0,U.m9)(l):null;return y&&L(y.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(y&&y._clone(c))})()}_updateCurrentUser(l,c=!1){var y=this;return(0,h.Z)(function*(){if(!y._deleted)return l&&L(y.tenantId===l.tenantId,y,"tenant-id-mismatch"),c||(yield y.beforeStateQueue.runMiddleware(l)),y.queue((0,h.Z)(function*(){yield y.directlySetCurrentUser(l),y.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,h.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var c=this;return this.queue((0,h.Z)(function*(){yield c.assertedPersistence.setPersistence(yn(l))}))}initializeRecaptchaConfig(){var l=this;return(0,h.Z)(function*(){const c=yield bt(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new pn(c);null==l.tenantId?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,y.emailPasswordEnabled&&new ri(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new U.LL("auth","Firebase",l())}onAuthStateChanged(l,c,y){return this.registerStateListener(this.authStateSubscription,l,c,y)}beforeAuthStateChanged(l,c){return this.beforeStateQueue.pushCallback(l,c)}onIdTokenChanged(l,c,y){return this.registerStateListener(this.idTokenSubscription,l,c,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,c){var y=this;return(0,h.Z)(function*(){const N=yield y.getOrInitRedirectPersistenceManager(c);return null===l?N.removeCurrentUser():N.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var c=this;return(0,h.Z)(function*(){if(!c.redirectPersistenceManager){const y=l&&yn(l)||c._popupRedirectResolver;L(y,c,"argument-error"),c.redirectPersistenceManager=yield J.create(c,[yn(y._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(l){var c=this;return(0,h.Z)(function*(){var y,N;return c._isInitialized&&(yield c.queue((0,h.Z)(function*(){}))),(null===(y=c._currentUser)||void 0===y?void 0:y._redirectEventId)===l?c._currentUser:(null===(N=c.redirectUser)||void 0===N?void 0:N._redirectEventId)===l?c.redirectUser:null})()}_persistUserIfCurrent(l){var c=this;return(0,h.Z)(function*(){if(l===c.currentUser)return c.queue((0,h.Z)(function*(){return c.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(c=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,c,y,N){if(this._deleted)return()=>{};const $="function"==typeof c?c:c.next.bind(c),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return L(oe,this,"internal-error"),oe.then(()=>$(this.currentUser)),"function"==typeof c?l.addObserver(c,y,N):l.addObserver(c)}directlySetCurrentUser(l){var c=this;return(0,h.Z)(function*(){c.currentUser&&c.currentUser!==l&&c._currentUser._stopProactiveRefresh(),l&&c.isProactiveRefreshEnabled&&l._startProactiveRefresh(),c.currentUser=l,l?yield c.assertedPersistence.setCurrentUser(l):yield c.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,h.Z)(function*(){var c;const y={"X-Client-Version":l.clientVersion};l.app.options.appId&&(y["X-Firebase-gmpid"]=l.app.options.appId);const N=yield null===(c=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();N&&(y["X-Firebase-Client"]=N);const $=yield l._getAppCheckToken();return $&&(y["X-Firebase-AppCheck"]=$),y})()}_getAppCheckToken(){var l=this;return(0,h.Z)(function*(){var c;const y=yield null===(c=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return y?.error&&function Je(g,...l){Oe.logLevel<=ue.in.WARN&&Oe.warn(`Auth (${le.SDK_VERSION}): ${g}`,...l)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function Cn(g){return(0,U.m9)(g)}class or{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,U.ne)(c=>this.observer=c)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hi(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function ji(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class Si{constructor(l,c){this.providerId=l,this.signInMethod=c}toJSON(){return kt("not implemented")}_getIdTokenResponse(l){return kt("not implemented")}_linkToIdToken(l,c){return kt("not implemented")}_getReauthenticationResolver(l){return kt("not implemented")}}function hi(g,l){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:resetPassword",Ve(g,l))})).apply(this,arguments)}function Xi(g,l){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:update",Ve(g,l))})).apply(this,arguments)}function mr(g,l){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithPassword",Ve(g,l))})).apply(this,arguments)}function Ur(g,l){return To.apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:sendOobCode",Ve(g,l))})).apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(g,l){return Ur(g,l)})).apply(this,arguments)}function nn(g,l){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(g,l){return Ur(g,l)})).apply(this,arguments)}function Kn(g,l){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(g,l){return Ur(g,l)})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(g,l){return Ur(g,l)})).apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithEmailLink",Ve(g,l))})).apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithEmailLink",Ve(g,l))})).apply(this,arguments)}class _r extends Si{constructor(l,c,y,N=null){super("password",y),this._email=l,this._password=c,this._tenantId=N}static _fromEmailAndPassword(l,c){return new _r(l,c,"password")}static _fromEmailAndCode(l,c,y=null){return new _r(l,c,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(l){var c=this;return(0,h.Z)(function*(){var y;switch(c.signInMethod){case"password":const N={returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=l._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const $=yield ut(l,N,"signInWithPassword");return mr(l,$)}return mr(l,N).catch(function(){var $=(0,h.Z)(function*(oe){if("auth/missing-recaptcha-token"===oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ie=yield ut(l,N,"signInWithPassword");return mr(l,Ie)}return Promise.reject(oe)});return function(oe){return $.apply(this,arguments)}}());case"emailLink":return function Wi(g,l){return eo.apply(this,arguments)}(l,{email:c._email,oobCode:c._password});default:Le(l,"internal-error")}})()}_linkToIdToken(l,c){var y=this;return(0,h.Z)(function*(){switch(y.signInMethod){case"password":return Xi(l,{idToken:c,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Un(g,l){return Ht.apply(this,arguments)}(l,{idToken:c,email:y._email,oobCode:y._password});default:Le(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function vi(g,l){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithIdp",Ve(g,l))})).apply(this,arguments)}class fi extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const c=new fi(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(c.idToken=l.idToken),l.accessToken&&(c.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(c.nonce=l.nonce),l.pendingToken&&(c.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(c.accessToken=l.oauthToken,c.secret=l.oauthTokenSecret):Le("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:N}=c,$=(0,ae._T)(c,["providerId","signInMethod"]);if(!y||!N)return null;const oe=new fi(y,N);return oe.idToken=$.idToken||void 0,oe.accessToken=$.accessToken||void 0,oe.secret=$.secret,oe.nonce=$.nonce,oe.pendingToken=$.pendingToken||null,oe}_getIdTokenResponse(l){return vi(l,this.buildRequest())}_linkToIdToken(l,c){const y=this.buildRequest();return y.idToken=c,vi(l,y)}_getReauthenticationResolver(l){const c=this.buildRequest();return c.autoCreate=!1,vi(l,c)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),l.postBody=(0,U.xO)(c)}return l}}function Fi(){return(Fi=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:sendVerificationCode",Ve(g,l))})).apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithPhoneNumber",Ve(g,l))})).apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(g,l){const c=yield at(g,"POST","/v1/accounts:signInWithPhoneNumber",Ve(g,l));if(c.temporaryProof)throw Lt(g,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function no(){return(no=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithPhoneNumber",Ve(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class pi extends Si{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,c){return new pi({verificationId:l,verificationCode:c})}static _fromTokenResponse(l,c){return new pi({phoneNumber:l,temporaryProof:c})}_getIdTokenResponse(l){return function Zs(g,l){return Ai.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,c){return function Ys(g,l){return Br.apply(this,arguments)}(l,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Ta(g,l){return no.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:c,verificationId:y,verificationCode:N}=this.params;return l&&c?{temporaryProof:l,phoneNumber:c}:{sessionInfo:y,code:N}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:c,verificationCode:y,phoneNumber:N,temporaryProof:$}=l;return y||c||N||$?new pi({verificationId:c,verificationCode:y,phoneNumber:N,temporaryProof:$}):null}}class Dr{constructor(l){var c,y,N,$,oe,Ie;const it=(0,U.zd)((0,U.pd)(l)),ht=null!==(c=it.apiKey)&&void 0!==c?c:null,Rt=null!==(y=it.oobCode)&&void 0!==y?y:null,xt=function ns(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=it.mode)&&void 0!==N?N:null);L(ht&&Rt&&xt,"argument-error"),this.apiKey=ht,this.operation=xt,this.code=Rt,this.continueUrl=null!==($=it.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(oe=it.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Ie=it.tenantId)&&void 0!==Ie?Ie:null}static parseLink(l){const c=function rs(g){const l=(0,U.zd)((0,U.pd)(g)).link,c=l?(0,U.zd)((0,U.pd)(l)).deep_link_id:null,y=(0,U.zd)((0,U.pd)(g)).deep_link_id;return(y?(0,U.zd)((0,U.pd)(y)).link:null)||y||c||l||g}(l);try{return new Dr(c)}catch{return null}}}let is=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(c,y){return _r._fromEmailAndPassword(c,y)}static credentialWithLink(c,y){const N=Dr.parseLink(y);return L(N,"argument-error"),_r._fromEmailAndCode(c,N.code,N.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Pr{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Mi extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Hr extends Mi{static credentialFromJSON(l){const c="string"==typeof l?JSON.parse(l):l;return L("providerId"in c&&"signInMethod"in c,"argument-error"),fi._fromParams(c)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return L(l.idToken||l.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Hr.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Hr.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:c,oauthAccessToken:y,oauthTokenSecret:N,pendingToken:$,nonce:oe,providerId:Ie}=l;if(!y&&!N&&!c&&!$||!Ie)return null;try{return new Hr(Ie)._credential({idToken:c,accessToken:y,nonce:oe,pendingToken:$})}catch{return null}}}let Li=(()=>{class g extends Mi{constructor(){super("facebook.com")}static credential(c){return fi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return g.credentialFromTaggedObject(c)}static credentialFromError(c){return g.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return g.credential(c.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),wr=(()=>{class g extends Mi{constructor(){super("google.com"),this.addScope("profile")}static credential(c,y){return fi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:y})}static credentialFromResult(c){return g.credentialFromTaggedObject(c)}static credentialFromError(c){return g.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:y,oauthAccessToken:N}=c;if(!y&&!N)return null;try{return g.credential(y,N)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),os=(()=>{class g extends Mi{constructor(){super("github.com")}static credential(c){return fi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return g.credentialFromTaggedObject(c)}static credentialFromError(c){return g.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return g.credential(c.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class jr extends Si{constructor(l,c){super(l,l),this.pendingToken=c}_getIdTokenResponse(l){return vi(l,this.buildRequest())}_linkToIdToken(l,c){const y=this.buildRequest();return y.idToken=c,vi(l,y)}_getReauthenticationResolver(l){const c=this.buildRequest();return c.autoCreate=!1,vi(l,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:N,pendingToken:$}=c;return y&&N&&$&&y===N?new jr(y,$):null}static _create(l,c){return new jr(l,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ri extends Pr{constructor(l){L(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Ri.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Ri.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const c=jr.fromJSON(l);return L(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:c,providerId:y}=l;if(!c||!y)return null;try{return jr._create(y,c)}catch{return null}}}let ho=(()=>{class g extends Mi{constructor(){super("twitter.com")}static credential(c,y){return fi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:y})}static credentialFromResult(c){return g.credentialFromTaggedObject(c)}static credentialFromError(c){return g.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:y,oauthTokenSecret:N}=c;if(!y||!N)return null;try{return g.credential(y,N)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Ei(g,l){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signUp",Ve(g,l))})).apply(this,arguments)}class Or{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,c,y,N=!1){return(0,h.Z)(function*(){const $=yield xn._fromIdTokenResponse(l,y,N),oe=ai(y);return new Or({user:$,providerId:oe,_tokenResponse:y,operationType:c})})()}static _forOperation(l,c,y){return(0,h.Z)(function*(){yield l._updateTokensIfNecessary(y,!0);const N=ai(y);return new Or({user:l,providerId:N,_tokenResponse:y,operationType:c})})()}}function ai(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function So(){return(So=(0,h.Z)(function*(g){var l;const c=Cn(g);if(yield c._initializationPromise,null!==(l=c.currentUser)&&void 0!==l&&l.isAnonymous)return new Or({user:c.currentUser,providerId:null,operationType:"signIn"});const y=yield Ei(c,{returnSecureToken:!0}),N=yield Or._fromIdTokenResponse(c,"signIn",y,!0);return yield c._updateCurrentUser(N.user),N})).apply(this,arguments)}class Gi extends U.ZR{constructor(l,c,y,N){var $;super(c.code,c.message),this.operationType=y,this.user=N,Object.setPrototypeOf(this,Gi.prototype),this.customData={appName:l.name,tenantId:null!==($=l.tenantId)&&void 0!==$?$:void 0,_serverResponse:c.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(l,c,y,N){return new Gi(l,c,y,N)}}function Nr(g,l,c,y){return("reauthenticate"===l?c._getReauthenticationResolver(g):c._getIdTokenResponse(g)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?Gi._fromErrorAndOperation(g,$,l,y):$})}function qs(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function xr(){return xr=(0,h.Z)(function*(g,l){const c=(0,U.m9)(g);yield Ci(!0,c,l);const{providerUserInfo:y}=yield function Fn(g,l){return jn.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[l]}),N=qs(y||[]);return c.providerData=c.providerData.filter($=>N.has($.providerId)),N.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),xr.apply(this,arguments)}function vr(g,l){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(g,l,c=!1){const y=yield pt(g,l._linkToIdToken(g.auth,yield g.getIdToken()),c);return Or._forOperation(g,"link",y)})).apply(this,arguments)}function Ci(g,l,c){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(g,l,c){yield pr(l);const N=!1===g?"provider-already-linked":"no-such-provider";L(qs(l.providerData).has(c)===g,l.auth,N)})).apply(this,arguments)}function kr(g,l){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(g,l,c=!1){const{auth:y}=g,N="reauthenticate";try{const $=yield pt(g,Nr(y,N,l,g),c);L($.idToken,y,"internal-error");const oe=un($.idToken);L(oe,y,"internal-error");const{sub:Ie}=oe;return L(g.uid===Ie,y,"user-mismatch"),Or._forOperation(g,N,$)}catch($){throw"auth/user-not-found"===$?.code&&Le(y,"user-mismatch"),$}})).apply(this,arguments)}function zt(g,l){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,h.Z)(function*(g,l,c=!1){const y="signIn",N=yield Nr(g,y,l),$=yield Or._fromIdTokenResponse(g,y,N);return c||(yield g._updateCurrentUser($.user)),$})).apply(this,arguments)}function zi(g,l){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(g,l){return zt(Cn(g),l)})).apply(this,arguments)}function Xn(g,l){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(g,l){const c=(0,U.m9)(g);return yield Ci(!1,c,l.providerId),vr(c,l)})).apply(this,arguments)}function Ao(g,l){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(g,l){return kr((0,U.m9)(g),l)})).apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(g,l){return at(g,"POST","/v1/accounts:signInWithCustomToken",Ve(g,l))})).apply(this,arguments)}function M(){return M=(0,h.Z)(function*(g,l){const c=Cn(g),y=yield function da(g,l){return fo.apply(this,arguments)}(c,{token:l,returnSecureToken:!0}),N=yield Or._fromIdTokenResponse(c,"signIn",y);return yield c._updateCurrentUser(N.user),N}),M.apply(this,arguments)}class R{constructor(l,c){this.factorId=l,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(l,c){return"phoneInfo"in c?G._fromServerResponse(l,c):"totpInfo"in c?be._fromServerResponse(l,c):Le(l,"internal-error")}}class G extends R{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,c){return new G(c)}}class be extends R{constructor(l){super("totp",l)}static _fromServerResponse(l,c){return new be(c)}}function At(g,l,c){var y;L((null===(y=c.url)||void 0===y?void 0:y.length)>0,g,"invalid-continue-uri"),L(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=c.url,l.dynamicLinkDomain=c.dynamicLinkDomain,l.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(L(c.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=c.iOS.bundleId),c.android&&(L(c.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=c.android.installApp,l.androidMinimumVersionCode=c.android.minimumVersion,l.androidPackageName=c.android.packageName)}function Bn(){return Bn=(0,h.Z)(function*(g,l,c){var y;const N=Cn(g),$={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=N._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const oe=yield ut(N,$,"getOobCode",!0);c&&At(N,oe,c),yield nn(N,oe)}else c&&At(N,$,c),yield nn(N,$).catch(function(){var oe=(0,h.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const it=yield ut(N,$,"getOobCode",!0);c&&At(N,it,c),yield nn(N,it)}});return function(Ie){return oe.apply(this,arguments)}}())}),Bn.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(g,l,c){yield hi((0,U.m9)(g),{oobCode:l,newPassword:c})})).apply(this,arguments)}function li(){return li=(0,h.Z)(function*(g,l){yield function ii(g,l){return $i.apply(this,arguments)}((0,U.m9)(g),{oobCode:l})}),li.apply(this,arguments)}function Ii(g,l){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(g,l){const c=(0,U.m9)(g),y=yield hi(c,{oobCode:l}),N=y.requestType;switch(L(N,c,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(y.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(y.mfaInfo,c,"internal-error");default:L(y.email,c,"internal-error")}let $=null;return y.mfaInfo&&($=R._fromServerResponse(Cn(c),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:$},operation:N}})).apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(g,l){const{data:c}=yield Ii((0,U.m9)(g),l);return c.email})).apply(this,arguments)}function mi(){return mi=(0,h.Z)(function*(g,l,c){var y;const N=Cn(g),$={returnSecureToken:!0,email:l,password:c,clientType:"CLIENT_TYPE_WEB"};let oe;if(null!==(y=N._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const ht=yield ut(N,$,"signUpPassword");oe=Ei(N,ht)}else oe=Ei(N,$).catch(function(){var ht=(0,h.Z)(function*(Rt){if("auth/missing-recaptcha-token"===Rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const xt=yield ut(N,$,"signUpPassword");return Ei(N,xt)}return Promise.reject(Rt)});return function(Rt){return ht.apply(this,arguments)}}());const Ie=yield oe.catch(ht=>Promise.reject(ht)),it=yield Or._fromIdTokenResponse(N,"signIn",Ie);return yield N._updateCurrentUser(it.user),it}),mi.apply(this,arguments)}function mo(){return mo=(0,h.Z)(function*(g,l,c){var y;const N=Cn(g),$={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function oe(Ie,it){L(it.handleCodeInApp,N,"argument-error"),it&&At(N,Ie,it)}if(null!==(y=N._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Ie=yield ut(N,$,"getOobCode",!0);oe(Ie,c),yield Kn(N,Ie)}else oe($,c),yield Kn(N,$).catch(function(){var Ie=(0,h.Z)(function*(it){if("auth/missing-recaptcha-token"!==it.code)return Promise.reject(it);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ht=yield ut(N,$,"getOobCode",!0);oe(ht,c),yield Kn(N,ht)}});return function(it){return Ie.apply(this,arguments)}}())}),mo.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g),N=is.credentialWithLink(l,c||$t());return L(N._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),zi(y,N)})).apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:createAuthUri",Ve(g,l))})).apply(this,arguments)}function Ho(){return Ho=(0,h.Z)(function*(g,l){const y={identifier:l,continueUri:ft()?$t():"http://localhost"},{signinMethods:N}=yield function Ds(g,l){return ls.apply(this,arguments)}((0,U.m9)(g),y);return N||[]}),Ho.apply(this,arguments)}function ui(){return ui=(0,h.Z)(function*(g,l){const c=(0,U.m9)(g),N={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&At(c.auth,N,l);const{email:$}=yield function Uo(g,l){return dn.apply(this,arguments)}(c.auth,N);$!==g.email&&(yield g.reload())}),ui.apply(this,arguments)}function jo(){return jo=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};c&&At(y.auth,$,c);const{email:oe}=yield function Rr(g,l){return oi.apply(this,arguments)}(y.auth,$);oe!==g.email&&(yield g.reload())}),jo.apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(g,l){return $e(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Pi(){return Pi=(0,h.Z)(function*(g,{displayName:l,photoURL:c}){if(void 0===l&&void 0===c)return;const y=(0,U.m9)(g),$={idToken:yield y.getIdToken(),displayName:l,photoUrl:c,returnSecureToken:!0},oe=yield pt(y,function $o(g,l){return Po.apply(this,arguments)}(y.auth,$));y.displayName=oe.displayName||null,y.photoURL=oe.photoUrl||null;const Ie=y.providerData.find(({providerId:it})=>"password"===it);Ie&&(Ie.displayName=y.displayName,Ie.photoURL=y.photoURL),yield y._updateTokensIfNecessary(oe)}),Pi.apply(this,arguments)}function zn(g,l,c){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(g,l,c){const{auth:y}=g,$={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&($.email=l),c&&($.password=c);const oe=yield pt(g,Xi(y,$));yield g._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class Wo{constructor(l,c,y={}){this.isNewUser=l,this.providerId=c,this.profile=y}}class Ga extends Wo{constructor(l,c,y,N){super(l,c,y),this.username=N}}class Ss extends Wo{constructor(l,c){super(l,"facebook.com",c)}}class Xs extends Ga{constructor(l,c){super(l,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class cs extends Wo{constructor(l,c){super(l,"google.com",c)}}class ds extends Ga{constructor(l,c,y){super(l,"twitter.com",c,y)}}function _o(g){const{user:l,_tokenResponse:c}=g;return l.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function Ts(g){var l,c;if(!g)return null;const{providerId:y}=g,N=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},$=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!y&&g?.idToken){const oe=null===(c=null===(l=un(g.idToken))||void 0===l?void 0:l.firebase)||void 0===c?void 0:c.sign_in_provider;if(oe)return new Wo($,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!y)return null;switch(y){case"facebook.com":return new Ss($,N);case"github.com":return new Xs($,N);case"google.com":return new cs($,N);case"twitter.com":return new ds($,N,g.screenName||null);case"custom":case"anonymous":return new Wo($,null);default:return new Wo($,y,N)}}(c)}class Jt{constructor(l,c,y){this.type=l,this.credential=c,this.auth=y}static _fromIdtoken(l,c){return new Jt("enroll",l,c)}static _fromMfaPendingCredential(l){return new Jt("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var c,y;if(l?.multiFactorSession){if(null!==(c=l.multiFactorSession)&&void 0!==c&&c.pendingCredential)return Jt._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(y=l.multiFactorSession)&&void 0!==y&&y.idToken)return Jt._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Xt{constructor(l,c,y){this.session=l,this.hints=c,this.signInResolver=y}static _fromError(l,c){const y=Cn(l),N=c.customData._serverResponse,$=(N.mfaInfo||[]).map(Ie=>R._fromServerResponse(y,Ie));L(N.mfaPendingCredential,y,"internal-error");const oe=Jt._fromMfaPendingCredential(N.mfaPendingCredential);return new Xt(oe,$,function(){var Ie=(0,h.Z)(function*(it){const ht=yield it._process(y,oe);delete N.mfaInfo,delete N.mfaPendingCredential;const Rt=Object.assign(Object.assign({},N),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(c.operationType){case"signIn":const xt=yield Or._fromIdTokenResponse(y,c.operationType,Rt);return yield y._updateCurrentUser(xt.user),xt;case"reauthenticate":return L(c.user,y,"internal-error"),Or._forOperation(c.user,c.operationType,Rt);default:Le(y,"internal-error")}});return function(it){return Ie.apply(this,arguments)}}())}resolveSignIn(l){var c=this;return(0,h.Z)(function*(){return c.signInResolver(l)})()}}class zr{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(y=>R._fromServerResponse(l.auth,y)))})}static _fromUser(l){return new zr(l)}getSession(){var l=this;return(0,h.Z)(function*(){return Jt._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,c){var y=this;return(0,h.Z)(function*(){const N=l,$=yield y.getSession(),oe=yield pt(y.user,N._process(y.user.auth,$,c));return yield y.user._updateTokensIfNecessary(oe),y.user.reload()})()}unenroll(l){var c=this;return(0,h.Z)(function*(){const y="string"==typeof l?l:l.uid,N=yield c.user.getIdToken();try{const $=yield pt(c.user,function Go(g,l){return $e(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Ve(g,l))}(c.user.auth,{idToken:N,mfaEnrollmentId:y}));c.enrolledFactors=c.enrolledFactors.filter(({uid:oe})=>oe!==y),yield c.user._updateTokensIfNecessary($),yield c.user.reload()}catch($){throw $}})()}}const _i=new WeakMap,Kr="__sak";class As{constructor(l,c){this.storageRetriever=l,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(Kr,"1"),this.storage.removeItem(Kr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,c){return this.storage.setItem(l,JSON.stringify(c)),Promise.resolve()}_get(l){const c=this.storage.getItem(l);return Promise.resolve(c?JSON.parse(c):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rs=(()=>{class g extends As{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,y)=>this.onStorageEvent(c,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ha(){const g=(0,U.z$)();return Ee(g)||Ue(g)}()&&function ni(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const y of Object.keys(this.listeners)){const N=this.storage.getItem(y),$=this.localCache[y];N!==$&&c(y,$,N)}}onStorageEvent(c,y=!1){if(!c.key)return void this.forAllChangedKeys((Ie,it,ht)=>{this.notifyListeners(Ie,ht)});const N=c.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(N);if(c.newValue!==Ie)null!==c.newValue?this.storage.setItem(N,c.newValue):this.storage.removeItem(N);else if(this.localCache[N]===c.newValue&&!y)return}const $=()=>{const Ie=this.storage.getItem(N);!y&&this.localCache[N]===Ie||this.notifyListeners(N,Ie)},oe=this.storage.getItem(N);!function wn(){return(0,U.w1)()&&10===document.documentMode}()||oe===c.newValue||c.newValue===c.oldValue?$():setTimeout($,10)}notifyListeners(c,y){this.localCache[c]=y;const N=this.listeners[c];if(N)for(const $ of Array.from(N))$(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,y,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:y,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(y)}_removeListener(c,y){this.listeners[c]&&(this.listeners[c].delete(y),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,y){var N=()=>super._set,$=this;return(0,h.Z)(function*(){yield N().call($,c,y),$.localCache[c]=JSON.stringify(y)})()}_get(c){var y=()=>super._get,N=this;return(0,h.Z)(function*(){const $=yield y().call(N,c);return N.localCache[c]=JSON.stringify($),$})()}_remove(c){var y=()=>super._remove,N=this;return(0,h.Z)(function*(){yield y().call(N,c),delete N.localCache[c]})()}}return g.type="LOCAL",g})(),Ps=(()=>{class g extends As{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,y){}_removeListener(c,y){}}return g.type="SESSION",g})();let Os=(()=>{class g{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const y=this.receivers.find($=>$.isListeningto(c));if(y)return y;const N=new g(c);return this.receivers.push(N),N}isListeningto(c){return this.eventTarget===c}handleEvent(c){var y=this;return(0,h.Z)(function*(){const N=c,{eventId:$,eventType:oe,data:Ie}=N.data,it=y.handlersMap[oe];if(!it?.size)return;N.ports[0].postMessage({status:"ack",eventId:$,eventType:oe});const ht=Array.from(it).map(function(){var xt=(0,h.Z)(function*(Tr){return Tr(N.origin,Ie)});return function(Tr){return xt.apply(this,arguments)}}()),Rt=yield function ea(g){return Promise.all(g.map(function(){var l=(0,h.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(y){return{fulfilled:!1,reason:y}}});return function(c){return l.apply(this,arguments)}}()))}(ht);N.ports[0].postMessage({status:"done",eventId:$,eventType:oe,response:Rt})})()}_subscribe(c,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(y)}_unsubscribe(c,y){this.handlersMap[c]&&y&&this.handlersMap[c].delete(y),(!y||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ta(g="",l=10){let c="";for(let y=0;y<l;y++)c+=Math.floor(10*Math.random());return g+c}class fa{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,c,y=50){var N=this;return(0,h.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let oe,Ie;return new Promise((it,ht)=>{const Rt=ta("",20);$.port1.start();const xt=setTimeout(()=>{ht(new Error("unsupported_event"))},y);Ie={messageChannel:$,onMessage(Tr){const Ws=Tr;if(Ws.data.eventId===Rt)switch(Ws.data.status){case"ack":clearTimeout(xt),oe=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),it(Ws.data.response);break;default:clearTimeout(xt),clearTimeout(oe),ht(new Error("invalid_response"))}}},N.handlers.add(Ie),$.port1.addEventListener("message",Ie.onMessage),N.target.postMessage({eventType:l,eventId:Rt,data:c},[$.port2])}).finally(()=>{Ie&&N.removeMessageHandler(Ie)})})()}}function Yn(){return window}function pa(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Ra(){return(Ra=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ns="firebaseLocalStorageDb",An=1,Oa="firebaseLocalStorage",xs="fbase_key";class ks{constructor(l){this.request=l}toPromise(){return new Promise((l,c)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function No(g,l){return g.transaction([Oa],l?"readwrite":"readonly").objectStore(Oa)}function _a(){const g=indexedDB.open(Ns,An);return new Promise((l,c)=>{g.addEventListener("error",()=>{c(g.error)}),g.addEventListener("upgradeneeded",()=>{const y=g.result;try{y.createObjectStore(Oa,{keyPath:xs})}catch(N){c(N)}}),g.addEventListener("success",(0,h.Z)(function*(){const y=g.result;y.objectStoreNames.contains(Oa)?l(y):(y.close(),yield function ma(){const g=indexedDB.deleteDatabase(Ns);return new ks(g).toPromise()}(),l(yield _a()))}))})}function na(g,l,c){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(g,l,c){const y=No(g,!0).put({[xs]:l,value:c});return new ks(y).toPromise()})).apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(g,l){const c=No(g,!1).get(l),y=yield new ks(c).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Yr(g,l){const c=No(g,!0).delete(l);return new ks(c).toPromise()}const zo=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,h.Z)(function*(){return c.db||(c.db=yield _a()),c.db})()}_withRetries(c){var y=this;return(0,h.Z)(function*(){let N=0;for(;;)try{const $=yield y._openDb();return yield c($)}catch($){if(N++>3)throw $;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,h.Z)(function*(){return pa()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,h.Z)(function*(){c.receiver=Os._getInstance(function Zr(){return pa()?self:null}()),c.receiver._subscribe("keyChanged",function(){var y=(0,h.Z)(function*(N,$){return{keyProcessed:(yield c._poll()).includes($.key)}});return function(N,$){return y.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var y=(0,h.Z)(function*(N,$){return["keyChanged"]});return function(N,$){return y.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,h.Z)(function*(){var y,N;if(c.activeServiceWorker=yield function ga(){return Ra.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new fa(c.activeServiceWorker);const $=yield c.sender._send("ping",{},800);$&&null!==(y=$[0])&&void 0!==y&&y.fulfilled&&null!==(N=$[0])&&void 0!==N&&N.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var y=this;return(0,h.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Pa(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:c},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const c=yield _a();return yield na(c,Kr,"1"),yield Yr(c,Kr),!0}catch{}return!1})()}_withPendingWrite(c){var y=this;return(0,h.Z)(function*(){y.pendingWrites++;try{yield c()}finally{y.pendingWrites--}})()}_set(c,y){var N=this;return(0,h.Z)(function*(){return N._withPendingWrite((0,h.Z)(function*(){return yield N._withRetries($=>na($,c,y)),N.localCache[c]=y,N.notifyServiceWorker(c)}))})()}_get(c){var y=this;return(0,h.Z)(function*(){const N=yield y._withRetries($=>function Fs(g,l){return hs.apply(this,arguments)}($,c));return y.localCache[c]=N,N})()}_remove(c){var y=this;return(0,h.Z)(function*(){return y._withPendingWrite((0,h.Z)(function*(){return yield y._withRetries(N=>Yr(N,c)),delete y.localCache[c],y.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,h.Z)(function*(){const y=yield c._withRetries(oe=>{const Ie=No(oe,!1).getAll();return new ks(Ie).toPromise()});if(!y)return[];if(0!==c.pendingWrites)return[];const N=[],$=new Set;for(const{fbase_key:oe,value:Ie}of y)$.add(oe),JSON.stringify(c.localCache[oe])!==JSON.stringify(Ie)&&(c.notifyListeners(oe,Ie),N.push(oe));for(const oe of Object.keys(c.localCache))c.localCache[oe]&&!$.has(oe)&&(c.notifyListeners(oe,null),N.push(oe));return N})()}notifyListeners(c,y){this.localCache[c]=y;const N=this.listeners[c];if(N)for(const $ of Array.from(N))$(y)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(y)}_removeListener(c,y){this.listeners[c]&&(this.listeners[c].delete(y),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Ls=1e12;class Il{constructor(l){this.auth=l,this.counter=Ls,this._widgets=new Map}render(l,c){const y=this.counter;return this._widgets.set(y,new ya(l,this.auth.name,c||{})),this.counter++,y}reset(l){var c;const y=l||Ls;null===(c=this._widgets.get(y))||void 0===c||c.delete(),this._widgets.delete(y)}getResponse(l){var c;return(null===(c=this._widgets.get(l||Ls))||void 0===c?void 0:c.getResponse())||""}execute(l){var c=this;return(0,h.Z)(function*(){var y;return null===(y=c._widgets.get(l||Ls))||void 0===y||y.execute(),""})()}}class ya{constructor(l,c,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof l?document.getElementById(l):l;L(N,"argument-error",{appName:c}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Za(g){const l=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<g;y++)l.push(c.charAt(Math.floor(Math.random()*c.length)));return l.join("")}(50);const{callback:l,"expired-callback":c}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ya=ir("rcb"),hu=new Xr(3e4,6e4);class fu{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Yn().grecaptcha)||void 0===l||!l.render)}load(l,c=""){return L(function qa(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(c),l,"argument-error"),this.shouldResolveImmediately(c)&&Zt(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((y,N)=>{const $=Yn().setTimeout(()=>{N(Be(l,"network-request-failed"))},hu.get());Yn()[Ya]=()=>{Yn().clearTimeout($),delete Yn()[Ya];const Ie=Yn().grecaptcha;if(!Ie||!Zt(Ie))return void N(Be(l,"internal-error"));const it=Ie.render;Ie.render=(ht,Rt)=>{const xt=it(ht,Rt);return this.counter++,xt},this.hostLanguage=c,y(Ie)},hr(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Ya,render:"explicit",hl:c})}`).catch(()=>{clearTimeout($),N(Be(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var c;return!(null===(c=Yn().grecaptcha)||void 0===c||!c.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qr{load(l){return(0,h.Z)(function*(){return new Il(l)})()}clearedOneInstance(){}}const va="recaptcha",Ko={theme:"light",type:"image"};class Qa{constructor(l,c=Object.assign({},Ko),y){this.parameters=c,this.type=va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(y),this.isInvisible="invisible"===this.parameters.size,L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof l?document.getElementById(l):l;L(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qr:new fu,this.validateStartingState()}verify(){var l=this;return(0,h.Z)(function*(){l.assertNotDestroyed();const c=yield l.render(),y=l.getAssertedRecaptcha();return y.getResponse(c)||new Promise($=>{const oe=Ie=>{Ie&&(l.tokenChangeListeners.delete(oe),$(Ie))};l.tokenChangeListeners.add(oe),l.isInvisible&&y.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return c=>{if(this.tokenChangeListeners.forEach(y=>y(c)),"function"==typeof l)l(c);else if("string"==typeof l){const y=Yn()[l];"function"==typeof y&&y(c)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,h.Z)(function*(){if(yield l.init(),!l.widgetId){let c=l.container;if(!l.isInvisible){const y=document.createElement("div");c.appendChild(y),c=y}l.widgetId=l.getAssertedRecaptcha().render(c,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,h.Z)(function*(){L(ft()&&!pa(),l.auth,"internal-error"),yield function Fr(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const c=yield function Ce(g){return Qe.apply(this,arguments)}(l.auth);L(c,l.auth,"internal-error"),l.parameters.sitekey=c})()}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(l,c){this.verificationId=l,this.onConfirmation=c}confirm(l){const c=pi._fromVerification(this.verificationId,l);return this.onConfirmation(c)}}function Ni(){return(Ni=(0,h.Z)(function*(g,l,c){const y=Cn(g),N=yield xa(y,l,(0,U.m9)(c));return new oo(N,$=>zi(y,$))})).apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g);yield Ci(!1,y,"phone");const N=yield xa(y.auth,l,(0,U.m9)(c));return new oo(N,$=>Xn(y,$))})).apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g),N=yield xa(y.auth,l,(0,U.m9)(c));return new oo(N,$=>Ao(y,$))})).apply(this,arguments)}function xa(g,l,c){return yi.apply(this,arguments)}function yi(){return yi=(0,h.Z)(function*(g,l,c){var y;const N=yield c.verify();try{let $;if(L("string"==typeof N,g,"argument-error"),L(c.type===va,g,"argument-error"),$="string"==typeof l?{phoneNumber:l}:l,"session"in $){const oe=$.session;if("phoneNumber"in $)return L("enroll"===oe.type,g,"internal-error"),(yield function Pn(g,l){return $e(g,"POST","/v2/accounts/mfaEnrollment:start",Ve(g,l))}(g,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{L("signin"===oe.type,g,"internal-error");const Ie=(null===(y=$.multiFactorHint)||void 0===y?void 0:y.uid)||$.multiFactorUid;return L(Ie,g,"missing-multi-factor-info"),(yield function Vi(g,l){return $e(g,"POST","/v2/accounts/mfaSignIn:start",Ve(g,l))}(g,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield function to(g,l){return Fi.apply(this,arguments)}(g,{phoneNumber:$.phoneNumber,recaptchaToken:N});return oe}}finally{c._reset()}}),yi.apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(g,l){yield vr((0,U.m9)(g),l)})).apply(this,arguments)}let _=(()=>{class g{constructor(c){this.providerId=g.PROVIDER_ID,this.auth=Cn(c)}verifyPhoneNumber(c,y){return xa(this.auth,c,(0,U.m9)(y))}static credential(c,y){return pi._fromVerification(c,y)}static credentialFromResult(c){return g.credentialFromTaggedObject(c)}static credentialFromError(c){return g.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:y,temporaryProof:N}=c;return y&&N?pi._fromTokenResponse(y,N):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function v(g,l){return l?yn(l):(L(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class f extends Si{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return vi(l,this._buildIdpRequest())}_linkToIdToken(l,c){return vi(l,this._buildIdpRequest(c))}_getReauthenticationResolver(l){return vi(l,this._buildIdpRequest())}_buildIdpRequest(l){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(c.idToken=l),c}}function D(g){return zt(g.auth,new f(g),g.bypassAuthState)}function O(g){const{auth:l,user:c}=g;return L(c,l,"internal-error"),kr(c,new f(g),g.bypassAuthState)}function H(g){return z.apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(g){const{auth:l,user:c}=g;return L(c,l,"internal-error"),vr(c,new f(g),g.bypassAuthState)})).apply(this,arguments)}class pe{constructor(l,c,y,N,$=!1){this.auth=l,this.resolver=y,this.user=N,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var l=this;return new Promise(function(){var c=(0,h.Z)(function*(y,N){l.pendingPromise={resolve:y,reject:N};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch($){l.reject($)}});return function(y,N){return c.apply(this,arguments)}}())}onAuthEvent(l){var c=this;return(0,h.Z)(function*(){const{urlResponse:y,sessionId:N,postBody:$,tenantId:oe,error:Ie,type:it}=l;if(Ie)return void c.reject(Ie);const ht={auth:c.auth,requestUri:y,sessionId:N,tenantId:oe||void 0,postBody:$||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(it)(ht))}catch(Rt){c.reject(Rt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return D;case"linkViaPopup":case"linkViaRedirect":return H;case"reauthViaPopup":case"reauthViaRedirect":return O;default:Le(this.auth,"internal-error")}}resolve(l){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const He=new Xr(2e3,1e4);function Ct(){return(Ct=(0,h.Z)(function*(g,l,c){const y=Cn(g);We(g,l,Pr);const N=v(y,c);return new Ui(y,"signInViaPopup",l,N).executeNotNull()})).apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g);We(y.auth,l,Pr);const N=v(y.auth,c);return new Ui(y.auth,"reauthViaPopup",l,N,y).executeNotNull()})).apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g);We(y.auth,l,Pr);const N=v(y.auth,c);return new Ui(y.auth,"linkViaPopup",l,N,y).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class g extends pe{constructor(c,y,N,$,oe){super(c,y,$,oe),this.provider=N,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var c=this;return(0,h.Z)(function*(){const y=yield c.execute();return L(y,c.auth,"internal-error"),y})()}onExecution(){var c=this;return(0,h.Z)(function*(){mt(1===c.filter.length,"Popup operations only handle one event");const y=ta();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],y),c.authWindow.associatedEvent=y,c.resolver._originValidation(c.auth).catch(N=>{c.reject(N)}),c.resolver._isIframeWebStorageSupported(c.auth,N=>{N||c.reject(Be(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const c=()=>{var y,N;this.pollId=null!==(N=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,He.get())};c()}}return g.currentPopupAction=null,g})();const Lr="pendingRedirect",ms=new Map;class Ea extends pe{constructor(l,c,y=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,y),this.eventId=null}execute(){var l=()=>super.execute,c=this;return(0,h.Z)(function*(){let y=ms.get(c.auth._key());if(!y){try{const $=(yield function Ca(g,l){return pu.apply(this,arguments)}(c.resolver,c.auth))?yield l().call(c):null;y=()=>Promise.resolve($)}catch(N){y=()=>Promise.reject(N)}ms.set(c.auth._key(),y)}return c.bypassAuthState||ms.set(c.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(l){var c=()=>super.onAuthEvent,y=this;return(0,h.Z)(function*(){if("signInViaRedirect"===l.type)return c().call(y,l);if("unknown"!==l.type){if(l.eventId){const N=yield y.auth._redirectUserForId(l.eventId);if(N)return y.user=N,c().call(y,l);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function pu(){return(pu=(0,h.Z)(function*(g,l){const c=Xa(l),y=wl(g);if(!(yield y._isAvailable()))return!1;const N="true"===(yield y._get(c));return yield y._remove(c),N})).apply(this,arguments)}function Zo(g,l){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(g,l){return wl(g)._set(Xa(l),"true")})).apply(this,arguments)}function gu(g,l){ms.set(g._key(),l)}function wl(g){return yn(g._redirectPersistence)}function Xa(g){return re(Lr,g.config.apiKey,g.name)}function Uu(g,l,c){return function mu(g,l,c){return Bl.apply(this,arguments)}(g,l,c)}function Bl(){return(Bl=(0,h.Z)(function*(g,l,c){const y=Cn(g);We(g,l,Pr),yield y._initializationPromise;const N=v(y,c);return yield Zo(N,y),N._openRedirect(y,l,"signInViaRedirect")})).apply(this,arguments)}function Bu(g,l,c){return function el(g,l,c){return Fa.apply(this,arguments)}(g,l,c)}function Fa(){return(Fa=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g);We(y.auth,l,Pr),yield y.auth._initializationPromise;const N=v(y.auth,c);yield Zo(N,y.auth);const $=yield Bs(y);return N._openRedirect(y.auth,l,"reauthViaRedirect",$)})).apply(this,arguments)}function Hl(g,l,c){return function jl(g,l,c){return tl.apply(this,arguments)}(g,l,c)}function tl(){return(tl=(0,h.Z)(function*(g,l,c){const y=(0,U.m9)(g);We(y.auth,l,Pr),yield y.auth._initializationPromise;const N=v(y.auth,c);yield Ci(!1,y,l.providerId),yield Zo(N,y.auth);const $=yield Bs(y);return N._openRedirect(y.auth,l,"linkViaRedirect",$)})).apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(g,l){return yield Cn(g)._initializationPromise,nl(g,l,!1)})).apply(this,arguments)}function nl(g,l){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(g,l,c=!1){const y=Cn(g),N=v(y,l),oe=yield new Ea(y,N,c).execute();return oe&&!c&&(delete oe.user._redirectEventId,yield y._persistUserIfCurrent(oe.user),yield y._setRedirectUser(null,l)),oe})).apply(this,arguments)}function Bs(g){return rl.apply(this,arguments)}function rl(){return(rl=(0,h.Z)(function*(g){const l=ta(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class _s{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let c=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(l,y)&&(c=!0,this.sendToConsumer(l,y),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function yu(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wl(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=l,c=!0)),c}sendToConsumer(l,c){var y;if(l.error&&!Wl(l)){const N=(null===(y=l.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";c.onError(Be(this.auth,N))}else c.onAuthEvent(l)}isEventForConsumer(l,c){const y=null===c.eventId||!!l.eventId&&l.eventId===c.eventId;return c.filter.includes(l.type)&&y}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(l))}saveEventToCache(l){this.cachedEventUids.add(il(l)),this.lastProcessedEventTime=Date.now()}}function il(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function Wl({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===l?.code}function Sc(g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(g,l={}){return $e(g,"GET","/v1/projects",l)})).apply(this,arguments)}const zl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kl=/^https?/;function Eo(){return(Eo=(0,h.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield Sc(g);for(const c of l)try{if(xo(c))return}catch{}Le(g,"unauthorized-domain")})).apply(this,arguments)}function xo(g){const l=$t(),{protocol:c,hostname:y}=new URL(l);if(g.startsWith("chrome-extension://")){const oe=new URL(g);return""===oe.hostname&&""===y?"chrome-extension:"===c&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===c&&oe.hostname===y}if(!Kl.test(c))return!1;if(zl.test(g))return y===g;const N=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(y)}const La=new Xr(3e4,6e4);function Yo(){const g=Yn().___jsl;if(g?.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let c=0;c<g.CP.length;c++)g.CP[c]=null}let Va=null;const ol=new Xr(5e3,15e3),vu="__/auth/iframe",Co="emulator/auth/iframe",Eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tl(g){const l=g.config;L(l.authDomain,g,"auth-domain-config-required");const c=l.emulator?De(l,Co):`https://${g.config.authDomain}/${vu}`,y={apiKey:l.apiKey,appName:g.name,v:le.SDK_VERSION},N=Hu.get(g.config.apiHost);N&&(y.eid=N);const $=g._getFrameworks();return $.length&&(y.fw=$.join(",")),`${c}?${(0,U.xO)(y).slice(1)}`}function T(){return T=(0,h.Z)(function*(g){const l=yield function qo(g){return Va=Va||function oa(g){return new Promise((l,c)=>{var y,N,$;function oe(){Yo(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Yo(),c(Be(g,"network-request-failed"))},timeout:La.get()})}if(null!==(N=null===(y=Yn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==N&&N.Iframe)l(gapi.iframes.getContext());else{if(null===($=Yn().gapi)||void 0===$||!$.load){const Ie=ir("iframefcb");return Yn()[Ie]=()=>{gapi.load?oe():c(Be(g,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(it=>c(it))}oe()}}).catch(l=>{throw Va=null,l})}(g),Va}(g),c=Yn().gapi;return L(c,g,"internal-error"),l.open({where:document.body,url:Tl(g),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eu,dontclear:!0},y=>new Promise(function(){var N=(0,h.Z)(function*($,oe){yield y.restyle({setHideOnLeave:!1});const Ie=Be(g,"network-request-failed"),it=Yn().setTimeout(()=>{oe(Ie)},ol.get());function ht(){Yn().clearTimeout(it),$(y)}y.ping(ht).then(ht,()=>{oe(Ie)})});return function($,oe){return N.apply(this,arguments)}}()))}),T.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y=500,ce=600,ge="_blank",Re="http://localhost";class gt{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const en="__/auth/handler",tn="emulator/auth/handler",ko=encodeURIComponent("fac");function Vr(g,l,c,y,N,$){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(g,l,c,y,N,$){L(g.config.authDomain,g,"auth-domain-config-required"),L(g.config.apiKey,g,"invalid-api-key");const oe={apiKey:g.config.apiKey,appName:g.name,authType:c,redirectUrl:y,v:le.SDK_VERSION,eventId:N};if(l instanceof Pr){l.setDefaultLanguage(g.languageCode),oe.providerId=l.providerId||"",(0,U.xb)(l.getCustomParameters())||(oe.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Rt,xt]of Object.entries($||{}))oe[Rt]=xt}if(l instanceof Mi){const Rt=l.getScopes().filter(xt=>""!==xt);Rt.length>0&&(oe.scopes=Rt.join(","))}g.tenantId&&(oe.tid=g.tenantId);const Ie=oe;for(const Rt of Object.keys(Ie))void 0===Ie[Rt]&&delete Ie[Rt];const it=yield g._getAppCheckToken(),ht=it?`#${ko}=${encodeURIComponent(it)}`:"";return`${function Sl({config:g}){return g.emulator?De(g,tn):`https://${g.authDomain}/${en}`}(g)}?${(0,U.xO)(Ie).slice(1)}${ht}`})).apply(this,arguments)}const js="webStorageSupport",Jo=class Qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=nl,this._overrideRedirectResult=gu}_openPopup(l,c,y,N){var $=this;return(0,h.Z)(function*(){var oe;mt(null===(oe=$.eventManagers[l._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Ie=yield Vr(l,c,y,$t(),N);return function dt(g,l,c,y=Y,N=ce){const $=Math.max((window.screen.availHeight-N)/2,0).toString(),oe=Math.max((window.screen.availWidth-y)/2,0).toString();let Ie="";const it=Object.assign(Object.assign({},x),{width:y.toString(),height:N.toString(),top:$,left:oe}),ht=(0,U.z$)().toLowerCase();c&&(Ie=nt(ht)?ge:c),je(ht)&&(l=l||Re,it.scrollbars="yes");const Rt=Object.entries(it).reduce((Tr,[Ws,kl])=>`${Tr}${Ws}=${kl},`,"");if(function Ft(g=(0,U.z$)()){var l;return Ue(g)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(ht)&&"_self"!==Ie)return function Nt(g,l){const c=document.createElement("a");c.href=g,c.target=l;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(y)}(l||"",Ie),new gt(null);const xt=window.open(l||"",Ie,Rt);L(xt,g,"popup-blocked");try{xt.focus()}catch{}return new gt(xt)}(l,Ie,ta())})()}_openRedirect(l,c,y,N){var $=this;return(0,h.Z)(function*(){return yield $._originValidation(l),function za(g){Yn().location.href=g}(yield Vr(l,c,y,$t(),N)),new Promise(()=>{})})()}_initialize(l){const c=l._key();if(this.eventManagers[c]){const{manager:N,promise:$}=this.eventManagers[c];return N?Promise.resolve(N):(mt($,"If manager is not set, promise should be"),$)}const y=this.initAndGetManager(l);return this.eventManagers[c]={promise:y},y.catch(()=>{delete this.eventManagers[c]}),y}initAndGetManager(l){var c=this;return(0,h.Z)(function*(){const y=yield function E(g){return T.apply(this,arguments)}(l),N=new _s(l);return y.register("authEvent",$=>(L($?.authEvent,l,"invalid-auth-event"),{status:N.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[l._key()]={manager:N},c.iframes[l._key()]=y,N})()}_isIframeWebStorageSupported(l,c){this.iframes[l._key()].send(js,{type:js},N=>{var $;const oe=null===($=N?.[0])||void 0===$?void 0:$[js];void 0!==oe&&c(!!oe),Le(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const c=l._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function Zl(g){return Eo.apply(this,arguments)}(l)),this.originValidationPromises[c]}get _shouldInitProactively(){return Wn()||Ee()||Ue()}};class Al{constructor(l){this.factorId=l}_process(l,c,y){switch(c.type){case"enroll":return this._finalizeEnroll(l,c.credential,y);case"signin":return this._finalizeSignIn(l,c.credential);default:return kt("unexpected MultiFactorSessionType")}}}class Cu extends Al{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Cu(l)}_finalizeEnroll(l,c,y){return function lr(g,l){return $e(g,"POST","/v2/accounts/mfaEnrollment:finalize",Ve(g,l))}(l,{idToken:c,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,c){return function El(g,l){return $e(g,"POST","/v2/accounts/mfaSignIn:finalize",Ve(g,l))}(l,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yl=(()=>{class g{constructor(){}static assertion(c){return Cu._fromCredential(c)}}return g.FACTOR_ID="phone",g})();var $u="@firebase/auth";class sa{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var c=this;return(0,h.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const c=this.auth.onIdTokenChanged(y=>{l(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,c),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const c=this.internalListeners.get(l);c&&(this.internalListeners.delete(l),c(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ua(){return window}(0,U.Pz)("authIdTokenMaxAge"),function Wu(g){(0,le._registerComponent)(new me.wA("auth",(l,{options:c})=>{const y=l.getProvider("app").getImmediate(),N=l.getProvider("heartbeat"),$=l.getProvider("app-check-internal"),{apiKey:oe,authDomain:Ie}=y.options;L(oe&&!oe.includes(":"),"invalid-api-key",{appName:y.name});const it={apiKey:oe,authDomain:Ie,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(g)},ht=new Ar(y,N,$,it);return function Gn(g,l){const c=l?.persistence||[],y=(Array.isArray(c)?c:[c]).map(yn);l?.errorMap&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(y,l?.popupRedirectResolver)}(ht,c),ht},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,c,y)=>{l.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new me.wA("auth-internal",l=>{const c=Cn(l.getProvider("auth").getImmediate());return new sa(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)($u,"0.23.2",function Ac(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,le.registerVersion)($u,"0.23.2","esm2017")}("Browser");const Mc=2e3;function ll(){return ll=(0,h.Z)(function*(g,l,c){var y;const{BuildInfo:N}=Ua();mt(l.sessionId,"AuthEvent did not contain a session ID");const $=yield function ul(g){return Jl.apply(this,arguments)}(l.sessionId),oe={};return Ue()?oe.ibi=N.packageName:ie()?oe.apn=N.packageName:Le(g,"operation-not-supported-in-this-environment"),N.displayName&&(oe.appDisplayName=N.displayName),oe.sessionId=$,Vr(g,c,l.type,void 0,null!==(y=l.eventId)&&void 0!==y?y:void 0,oe)}),ll.apply(this,arguments)}function Ql(){return(Ql=(0,h.Z)(function*(g){const{BuildInfo:l}=Ua(),c={};Ue()?c.iosBundleId=l.packageName:ie()?c.androidPackageName=l.packageName:Le(g,"operation-not-supported-in-this-environment"),yield Sc(g,c)})).apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(g,l,c){const{cordova:y}=Ua();let N=()=>{};try{yield new Promise(($,oe)=>{let Ie=null;function it(){var xt;$();const Tr=null===(xt=y.plugins.browsertab)||void 0===xt?void 0:xt.close;"function"==typeof Tr&&Tr(),"function"==typeof c?.close&&c.close()}function ht(){Ie||(Ie=window.setTimeout(()=>{oe(Be(g,"redirect-cancelled-by-user"))},Mc))}function Rt(){"visible"===document?.visibilityState&&ht()}l.addPassiveListener(it),document.addEventListener("resume",ht,!1),ie()&&document.addEventListener("visibilitychange",Rt,!1),N=()=>{l.removePassiveListener(it),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",Rt,!1),Ie&&window.clearTimeout(Ie)}})}finally{N()}})).apply(this,arguments)}function Jl(){return(Jl=(0,h.Z)(function*(g){const l=function Ku(g){if(mt(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),c=new Uint8Array(l);for(let y=0;y<g.length;y++)c[y]=g.charCodeAt(y);return c}(g),c=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(c)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Zu=20;class Dd extends _s{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(l)),super.onEvent(l)}initialized(){var l=this;return(0,h.Z)(function*(){yield l.initPromise})()}}function aa(g){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(g){const l=yield Xl()._get(dl(g));return l&&(yield Xl()._remove(dl(g))),l})).apply(this,arguments)}function Ia(){const g=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<Zu;c++){const y=Math.floor(Math.random()*l.length);g.push(l.charAt(y))}return g.join("")}function Xl(){return yn(Rs)}function dl(g){return re("authEvent",g.config.apiKey,g.name)}function Pl(g){if(!g?.includes("?"))return{};const[l,...c]=g.split("?");return(0,U.zd)(c.join("?"))}const tu=class eu{constructor(){this._redirectPersistence=Ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=nl,this._overrideRedirectResult=gu}_initialize(l){var c=this;return(0,h.Z)(function*(){const y=l._key();let N=c.eventManagers.get(y);return N||(N=new Dd(l),c.eventManagers.set(y,N),c.attachCallbackListeners(l,N)),N})()}_openPopup(l){Le(l,"operation-not-supported-in-this-environment")}_openRedirect(l,c,y,N){var $=this;return(0,h.Z)(function*(){!function zu(g){var l,c,y,N,$,oe,Ie,it,ht,Rt;const xt=Ua();L("function"==typeof(null===(l=xt?.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),L(typeof(null===(c=xt?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),L("function"==typeof(null===($=null===(N=null===(y=xt?.cordova)||void 0===y?void 0:y.plugins)||void 0===N?void 0:N.browsertab)||void 0===$?void 0:$.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(it=null===(Ie=null===(oe=xt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===it?void 0:it.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(Rt=null===(ht=xt?.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===Rt?void 0:Rt.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const oe=yield $._initialize(l);yield oe.initialized(),oe.resetRedirect(),function Tc(){ms.clear()}(),yield $._originValidation(l);const Ie=function qi(g,l,c=null){return{type:l,eventId:c,urlResponse:null,sessionId:Ia(),postBody:null,tenantId:g.tenantId,error:Be(g,"no-auth-event")}}(l,y,N);yield function wu(g,l){return Xl()._set(dl(g),l)}(l,Ie);const it=yield function ql(g,l,c){return ll.apply(this,arguments)}(l,Ie,c),ht=yield function Id(g){const{cordova:l}=Ua();return new Promise(c=>{l.plugins.browsertab.isAvailable(y=>{let N=null;y?l.plugins.browsertab.openUrl(g):N=l.InAppBrowser.open(g,function Xe(g=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),c(N)})})}(it);return function Gu(g,l,c){return Du.apply(this,arguments)}(l,oe,ht)})()}_isIframeWebStorageSupported(l,c){throw new Error("Method not implemented.")}_originValidation(l){const c=l._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function Iu(g){return Ql.apply(this,arguments)}(l)),this.originValidationPromises[c]}attachCallbackListeners(l,c){const{universalLinks:y,handleOpenURL:N,BuildInfo:$}=Ua(),oe=setTimeout((0,h.Z)(function*(){yield aa(l),c.onEvent(Rc())}),500),Ie=function(){var Rt=(0,h.Z)(function*(xt){clearTimeout(oe);const Tr=yield aa(l);let Ws=null;Tr&&xt?.url&&(Ws=function Xo(g,l){var c,y;const N=function wd(g){const l=Pl(g),c=l.link?decodeURIComponent(l.link):void 0,y=Pl(c).link,N=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Pl(N).link||N||y||c||g}(l);if(N.includes("/__/auth/callback")){const $=Pl(N),oe=$.firebaseError?function la(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent($.firebaseError)):null,Ie=null===(y=null===(c=oe?.code)||void 0===c?void 0:c.split("auth/"))||void 0===y?void 0:y[1],it=Ie?Be(Ie):null;return it?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:N,postBody:null}}return null}(Tr,xt.url)),c.onEvent(Ws||Rc())});return function(Tr){return Rt.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,Ie);const it=N,ht=`${$.packageName.toLowerCase()}://`;Ua().handleOpenURL=function(){var Rt=(0,h.Z)(function*(xt){if(xt.toLowerCase().startsWith(ht)&&Ie({url:xt}),"function"==typeof it)try{it(xt)}catch(Tr){console.error(Tr)}});return function(xt){return Rt.apply(this,arguments)}}()}};function Rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}const bu=1e3;function ua(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Ol(g=(0,U.z$)()){return!("file:"!==ua()&&"ionic:"!==ua()&&"capacitor:"!==ua()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function $s(){try{const g=self.localStorage,l=ta();if(g)return g.setItem(l,"1"),g.removeItem(l),!function Nc(g=(0,U.z$)()){return function hl(){return(0,U.w1)()&&11===document?.documentMode}()||function Oc(g=(0,U.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,U.hl)()}catch{return Au()&&(0,U.hl)()}return!1}function Au(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ru(){return(function Tu(){return"http:"===ua()||"https:"===ua()}()||(0,U.ru)()||Ol())&&!function Su(){return(0,U.b$)()||(0,U.UG)()}()&&$s()&&!Au()}function xc(){return Ol()&&typeof document<"u"}function fl(){return(fl=(0,h.Z)(function*(){return!!xc()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},bu);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const Fo={LOCAL:"local",NONE:"none",SESSION:"session"},Nl=L,Qu="persistence";function Ju(g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(g){yield g._initializationPromise;const l=Lc(),c=re(Qu,g.config.apiKey,g.name);l&&l.setItem(c,g._getPersistence())})).apply(this,arguments)}function Lc(){var g;try{return(null===(g=function qu(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const Sd=L;class Io{constructor(){this.browserResolver=yn(Jo),this.cordovaResolver=yn(tu),this.underlyingResolver=null,this._redirectPersistence=Ps,this._completeRedirectFn=nl,this._overrideRedirectResult=gu}_initialize(l){var c=this;return(0,h.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,c,y,N){var $=this;return(0,h.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(l,c,y,N)})()}_openRedirect(l,c,y,N){var $=this;return(0,h.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(l,c,y,N)})()}_isIframeWebStorageSupported(l,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,c)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return xc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,h.Z)(function*(){if(l.underlyingResolver)return;const c=yield function kc(){return fl.apply(this,arguments)}();l.underlyingResolver=c?l.cordovaResolver:l.browserResolver})()}}function xl(g){return g.unwrap()}function Sh(g){return Md(g)}function Md(g){const{_tokenResponse:l}=g instanceof U.ZR?g.customData:g;if(!l)return null;if(!(g instanceof U.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return _.credentialFromResult(g);const c=l.providerId;if(!c||c===ve.PASSWORD)return null;let y;switch(c){case ve.GOOGLE:y=wr;break;case ve.FACEBOOK:y=Li;break;case ve.GITHUB:y=os;break;case ve.TWITTER:y=ho;break;default:const{oauthIdToken:N,oauthAccessToken:$,oauthTokenSecret:oe,pendingToken:Ie,nonce:it}=l;return $||oe||N||Ie?Ie?c.startsWith("saml.")?jr._create(c,Ie):fi._fromParams({providerId:c,signInMethod:c,pendingToken:Ie,idToken:N,accessToken:$}):new Hr(c).credential({idToken:N,accessToken:$,rawNonce:it}):null}return g instanceof U.ZR?y.credentialFromError(g):y.credentialFromResult(g)}function es(g,l){return l.catch(c=>{throw c instanceof U.ZR&&function Ah(g,l){var c;const y=null===(c=l.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new ec(g,function Zn(g,l){var c;const y=(0,U.m9)(g),N=l;return L(l.customData.operationType,y,"argument-error"),L(null===(c=N.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,y,"argument-error"),Xt._fromError(y,N)}(g,l));else if(y){const N=Md(l),$=l;N&&($.credential=N,$.tenantId=y.tenantId||void 0,$.email=y.email||void 0,$.phoneNumber=y.phoneNumber||void 0)}}(g,c),c}).then(c=>{const N=c.user;return{operationType:c.operationType,credential:Sh(c),additionalUserInfo:_o(c),user:ca.getOrCreate(N)}})}function vs(g,l){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(g,l){const c=yield l;return{verificationId:c.verificationId,confirm:y=>es(g,c.confirm(y))}})).apply(this,arguments)}class ec{constructor(l,c){this.resolver=c,this.auth=function Ad(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return es(xl(this.auth),this.resolver.resolveSignIn(l))}}class ca{constructor(l){this._delegate=l,this.multiFactor=function yo(g){const l=(0,U.m9)(g);return _i.has(l)||_i.set(l,zr._fromUser(l)),_i.get(l)}(l)}static getOrCreate(l){return ca.USER_MAP.has(l)||ca.USER_MAP.set(l,new ca(l)),ca.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var c=this;return(0,h.Z)(function*(){return es(c.auth,Xn(c._delegate,l))})()}linkWithPhoneNumber(l,c){var y=this;return(0,h.Z)(function*(){return vs(y.auth,function ps(g,l,c){return gs.apply(this,arguments)}(y._delegate,l,c))})()}linkWithPopup(l){var c=this;return(0,h.Z)(function*(){return es(c.auth,function so(g,l,c){return ao.apply(this,arguments)}(c._delegate,l,Io))})()}linkWithRedirect(l){var c=this;return(0,h.Z)(function*(){return yield Ju(Cn(c.auth)),Hl(c._delegate,l,Io)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var c=this;return(0,h.Z)(function*(){return es(c.auth,Ao(c._delegate,l))})()}reauthenticateWithPhoneNumber(l,c){return vs(this.auth,function Dl(g,l,c){return Na.apply(this,arguments)}(this._delegate,l,c))}reauthenticateWithPopup(l){return es(this.auth,function an(g,l,c){return Cr.apply(this,arguments)}(this._delegate,l,Io))}reauthenticateWithRedirect(l){var c=this;return(0,h.Z)(function*(){return yield Ju(Cn(c.auth)),Bu(c._delegate,l,Io)})()}sendEmailVerification(l){return function Js(g,l){return ui.apply(this,arguments)}(this._delegate,l)}unlink(l){var c=this;return(0,h.Z)(function*(){return yield function Mn(g,l){return xr.apply(this,arguments)}(c._delegate,l),c})()}updateEmail(l){return function tr(g,l){return zn((0,U.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function Gr(g,l){return zn((0,U.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Vs(g,l){return Us.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function us(g,l){return Pi.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,c){return function ws(g,l,c){return jo.apply(this,arguments)}(this._delegate,l,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ca.USER_MAP=new WeakMap;const iu=L;let tc=(()=>{class g{constructor(c,y){if(this.app=c,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=c.options;iu(N,"invalid-api-key",{appName:c.name}),iu(N,"invalid-api-key",{appName:c.name});const $=typeof window<"u"?Io:void 0;this._delegate=y.initialize({options:{persistence:Da(N,c.name),popupRedirectResolver:$}}),this._delegate._updateErrorMap(tt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,y){!function ki(g,l,c){const y=Cn(g);L(y._canInitEmulator,y,"emulator-config-failed"),L(/^https?:\/\//.test(l),y,"invalid-emulator-scheme");const N=!!c?.disableWarnings,$=Hi(l),{host:oe,port:Ie}=function qt(g){const l=Hi(g),c=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!c)return{host:"",port:null};const y=c[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(y);if(N){const $=N[1];return{host:$,port:ji(y.substr($.length+1))}}{const[$,oe]=y.split(":");return{host:$,port:ji(oe)}}}(l);y.config.emulator={url:`${$}//${oe}${null===Ie?"":`:${Ie}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:oe,port:Ie,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Ti(){function g(){const l=document.createElement("p"),c=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,c,y)}applyActionCode(c){return function go(g,l){return li.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return Ii(this._delegate,c)}confirmPasswordReset(c,y){return function po(g,l,c){return Zi.apply(this,arguments)}(this._delegate,c,y)}createUserWithEmailAndPassword(c,y){var N=this;return(0,h.Z)(function*(){return es(N._delegate,function Mo(g,l,c){return mi.apply(this,arguments)}(N._delegate,c,y))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function Qs(g,l){return Ho.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function Aa(g,l){return"EMAIL_SIGNIN"===Dr.parseLink(l)?.operation}(0,c)}getRedirectResult(){var c=this;return(0,h.Z)(function*(){iu(ru(),c._delegate,"operation-not-supported-in-this-environment");const y=yield function ia(g,l){return bl.apply(this,arguments)}(c._delegate,Io);return y?es(c._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function Pc(g,l){Cn(g)._logFramework(l)}(this._delegate,c)}onAuthStateChanged(c,y,N){const{next:$,error:oe,complete:Ie}=Ru(c,y,N);return this._delegate.onAuthStateChanged($,oe,Ie)}onIdTokenChanged(c,y,N){const{next:$,error:oe,complete:Ie}=Ru(c,y,N);return this._delegate.onIdTokenChanged($,oe,Ie)}sendSignInLinkToEmail(c,y){return function Ro(g,l,c){return mo.apply(this,arguments)}(this._delegate,c,y)}sendPasswordResetEmail(c,y){return function Tn(g,l,c){return Bn.apply(this,arguments)}(this._delegate,c,y||void 0)}setPersistence(c){var y=this;return(0,h.Z)(function*(){let N;switch(function Fc(g,l){Nl(Object.values(Fo).includes(l),g,"invalid-persistence-type"),(0,U.b$)()?Nl(l!==Fo.SESSION,g,"unsupported-persistence-type"):(0,U.UG)()?Nl(l===Fo.NONE,g,"unsupported-persistence-type"):Au()?Nl(l===Fo.NONE||l===Fo.LOCAL&&(0,U.hl)(),g,"unsupported-persistence-type"):Nl(l===Fo.NONE||$s(),g,"unsupported-persistence-type")}(y._delegate,c),c){case Fo.SESSION:N=Ps;break;case Fo.LOCAL:N=(yield yn(zo)._isAvailable())?zo:Rs;break;case Fo.NONE:N=dr;break;default:return Le("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return es(this._delegate,function sr(g){return So.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return es(this._delegate,zi(this._delegate,c))}signInWithCustomToken(c){return es(this._delegate,function b(g,l){return M.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,y){return es(this._delegate,function Sa(g,l,c){return zi((0,U.m9)(g),is.credential(l,c))}(this._delegate,c,y))}signInWithEmailLink(c,y){return es(this._delegate,function ar(g,l,c){return as.apply(this,arguments)}(this._delegate,c,y))}signInWithPhoneNumber(c,y){return vs(this._delegate,function Ja(g,l,c){return Ni.apply(this,arguments)}(this._delegate,c,y))}signInWithPopup(c){var y=this;return(0,h.Z)(function*(){return iu(ru(),y._delegate,"operation-not-supported-in-this-environment"),es(y._delegate,function ct(g,l,c){return Ct.apply(this,arguments)}(y._delegate,c,Io))})()}signInWithRedirect(c){var y=this;return(0,h.Z)(function*(){return iu(ru(),y._delegate,"operation-not-supported-in-this-environment"),yield Ju(y._delegate),Uu(y._delegate,c,Io)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function gi(g,l){return Yi.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Fo,g})();function Ru(g,l,c){let y=g;"function"!=typeof g&&({next:y,error:l,complete:c}=g);const N=y;return{next:oe=>N(oe&&ca.getOrCreate(oe)),error:l,complete:c}}function Da(g,l){const c=function Td(g,l){const c=Lc();if(!c)return[];const y=re(Qu,g,l);switch(c.getItem(y)){case Fo.NONE:return[dr];case Fo.LOCAL:return[zo,Ps];case Fo.SESSION:return[Ps];default:return[]}}(g,l);if(typeof self<"u"&&!c.includes(zo)&&c.push(zo),typeof window<"u")for(const y of[Rs,Ps])c.includes(y)||c.push(y);return c.includes(dr)||c.push(dr),c}class pl{constructor(){this.providerId="phone",this._delegate=new _(xl(Z.Z.auth()))}static credential(l,c){return _.credential(l,c)}verifyPhoneNumber(l,c){return this._delegate.verifyPhoneNumber(l,c)}unwrap(){return this._delegate}}pl.PHONE_SIGN_IN_METHOD=_.PHONE_SIGN_IN_METHOD,pl.PROVIDER_ID=_.PROVIDER_ID;const Vc=L;class nc{constructor(l,c,y=Z.Z.app()){var N;Vc(null===(N=y.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Qa(l,c,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mh(g){g.INTERNAL.registerComponent(new me.wA("auth-compat",l=>{const c=l.getProvider("app-compat").getImmediate(),y=l.getProvider("auth");return new tc(c,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se_EMAIL_SIGNIN,PASSWORD_RESET:se_PASSWORD_RESET,RECOVER_EMAIL:se_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se_VERIFY_EMAIL}},EmailAuthProvider:is,FacebookAuthProvider:Li,GithubAuthProvider:os,GoogleAuthProvider:wr,OAuthProvider:Hr,SAMLAuthProvider:Ri,PhoneAuthProvider:pl,PhoneMultiFactorGenerator:Yl,RecaptchaVerifier:nc,TwitterAuthProvider:ho,Auth:tc,AuthCredential:Si,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},5861:(vt,Pe,V)=>{function h(U,le,ae,ue,me,_e,ve){try{var te=U[_e](ve),ne=te.value}catch(se){return void ae(se)}te.done?le(ne):Promise.resolve(ne).then(ue,me)}function Z(U){return function(){var le=this,ae=arguments;return new Promise(function(ue,me){var _e=U.apply(le,ae);function ve(ne){h(_e,ue,me,ve,te,"next",ne)}function te(ne){h(_e,ue,me,ve,te,"throw",ne)}ve(void 0)})}}V.d(Pe,{Z:()=>Z})},7582:(vt,Pe,V)=>{function le(De,Te){var Me={};for(var we in De)Object.prototype.hasOwnProperty.call(De,we)&&Te.indexOf(we)<0&&(Me[we]=De[we]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(we=Object.getOwnPropertySymbols(De);Ve<we.length;Ve++)Te.indexOf(we[Ve])<0&&Object.prototype.propertyIsEnumerable.call(De,we[Ve])&&(Me[we[Ve]]=De[we[Ve]])}return Me}function se(De,Te,Me,we){return new(Me||(Me=Promise))(function($e,It){function wt(Qt){try{at(we.next(Qt))}catch(In){It(In)}}function fn(Qt){try{at(we.throw(Qt))}catch(In){It(In)}}function at(Qt){Qt.done?$e(Qt.value):function Ve($e){return $e instanceof Me?$e:new Me(function(It){It($e)})}(Qt.value).then(wt,fn)}at((we=we.apply(De,Te||[])).next())})}function ze(De){return this instanceof ze?(this.v=De,this):new ze(De)}function Le(De,Te,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,we=Me.apply(De,Te||[]),$e=[];return Ve={},wt("next"),wt("throw"),wt("return",function It(Lt){return function(Ln){return Promise.resolve(Ln).then(Lt,In)}}),Ve[Symbol.asyncIterator]=function(){return this},Ve;function wt(Lt,Ln){we[Lt]&&(Ve[Lt]=function(_t){return new Promise(function(Fn,jn){$e.push([Lt,_t,Fn,jn])>1||fn(Lt,_t)})},Ln&&(Ve[Lt]=Ln(Ve[Lt])))}function fn(Lt,Ln){try{!function at(Lt){Lt.value instanceof ze?Promise.resolve(Lt.value.v).then(Qt,In):qn($e[0][2],Lt)}(we[Lt](Ln))}catch(_t){qn($e[0][3],_t)}}function Qt(Lt){fn("next",Lt)}function In(Lt){fn("throw",Lt)}function qn(Lt,Ln){Lt(Ln),$e.shift(),$e.length&&fn($e[0][0],$e[0][1])}}function rt(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Te=De[Symbol.asyncIterator];return Te?Te.call(De):(De=function Et(De){var Te="function"==typeof Symbol&&Symbol.iterator,Me=Te&&De[Te],we=0;if(Me)return Me.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&we>=De.length&&(De=void 0),{value:De&&De[we++],done:!De}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),Me={},we("next"),we("throw"),we("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function we($e){Me[$e]=De[$e]&&function(It){return new Promise(function(wt,fn){!function Ve($e,It,wt,fn){Promise.resolve(fn).then(function(at){$e({value:at,done:wt})},It)}(wt,fn,(It=De[$e](It)).done,It.value)})}}}V.d(Pe,{FC:()=>Le,KL:()=>rt,_T:()=>le,mG:()=>se,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=3983)}]);