"use strict";(self.webpackChunkhospital_portal=self.webpackChunkhospital_portal||[]).push([[179],{6217:(vt,Ne,x)=>{x.d(Ne,{nm:()=>ii});var d=x(4976);x(4650),x(259);var ze=x(5861),Ye=x(6881),Qe=x(4859),ot=x(2090),Ze=x(1877);const Re=new Map,W={activated:!1,tokenObservers:[]},kt={initialized:!1,enabled:!1};function ct(De){return Re.get(De)||Object.assign({},W)}function ft(){return kt}const Yt="https://content-firebaseappcheck.googleapis.com/v1",Rn="exchangeDebugToken",_e={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Se{constructor(ue,Ce,Oe,nt,At){if(this.operation=ue,this.retryPolicy=Ce,this.getWaitDuration=Oe,this.lowerBound=nt,this.upperBound=At,this.pending=null,this.nextErrorWaitInterval=nt,nt>At)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ue){var Ce=this;return(0,ze.Z)(function*(){Ce.stop();try{Ce.pending=new ot.BH,yield function Ee(De){return new Promise(ue=>{setTimeout(ue,De)})}(Ce.getNextRun(ue)),Ce.pending.resolve(),yield Ce.pending.promise,Ce.pending=new ot.BH,yield Ce.operation(),Ce.pending.resolve(),yield Ce.pending.promise,Ce.process(!0).catch(()=>{})}catch(Oe){Ce.retryPolicy(Oe)?Ce.process(!1).catch(()=>{}):Ce.stop()}})()}getNextRun(ue){if(ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ce=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ce}}}const je=new ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bt(De){if(!ct(De).activated)throw je.create("use-before-activation",{appName:De.name})}function Xt(De,ue){return bn.apply(this,arguments)}function bn(){return(bn=(0,ze.Z)(function*({url:De,body:ue},Ce){const Oe={"Content-Type":"application/json"},nt=Ce.getImmediate({optional:!0});if(nt){const Ut=yield nt.getHeartbeatsHeader();Ut&&(Oe["X-Firebase-Client"]=Ut)}const At={method:"POST",body:JSON.stringify(ue),headers:Oe};let nn,fn;try{nn=yield fetch(De,At)}catch(Ut){throw je.create("fetch-network-error",{originalErrorMessage:Ut?.message})}if(200!==nn.status)throw je.create("fetch-status-error",{httpStatus:nn.status});try{fn=yield nn.json()}catch(Ut){throw je.create("fetch-parse-error",{originalErrorMessage:Ut?.message})}const Dn=fn.ttl.match(/^([\d.]+)(s)$/);if(!Dn||!Dn[2]||isNaN(Number(Dn[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fn.ttl}`});const hi=1e3*Number(Dn[1]),zn=Date.now();return{token:fn.token,expireTimeMillis:zn+hi,issuedAtTimeMillis:zn}})).apply(this,arguments)}function vn(De,ue){const{projectId:Ce,appId:Oe,apiKey:nt}=De.options;return{url:`${Yt}/projects/${Ce}/apps/${Oe}:${Rn}?key=${nt}`,body:{debug_token:ue}}}const Ct="firebase-app-check-database",Tn=1,en="firebase-app-check-store";let gt=null;function En(De,ue){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,ze.Z)(function*(De,ue){const Oe=(yield function hn(){return gt||(gt=new Promise((De,ue)=>{try{const Ce=indexedDB.open(Ct,Tn);Ce.onsuccess=Oe=>{De(Oe.target.result)},Ce.onerror=Oe=>{var nt;ue(je.create("storage-open",{originalErrorMessage:null===(nt=Oe.target.error)||void 0===nt?void 0:nt.message}))},Ce.onupgradeneeded=Oe=>{0===Oe.oldVersion&&Oe.target.result.createObjectStore(en,{keyPath:"compositeKey"})}}catch(Ce){ue(je.create("storage-open",{originalErrorMessage:Ce?.message}))}}),gt)}()).transaction(en,"readwrite"),At=Oe.objectStore(en).put({compositeKey:De,value:ue});return new Promise((nn,fn)=>{At.onsuccess=Dn=>{nn()},Oe.onerror=Dn=>{var hi;fn(je.create("storage-set",{originalErrorMessage:null===(hi=Dn.target.error)||void 0===hi?void 0:hi.message}))}})})).apply(this,arguments)}const er=new Ze.Yd("@firebase/app-check");function Hn(De,ue){return(0,ot.hl)()?function Xn(De,ue){return En(function or(De){return`${De.options.appId}-${De.name}`}(De),ue)}(De,ue).catch(Ce=>{er.warn(`Failed to write token to IndexedDB. Error: ${Ce}`)}):Promise.resolve()}function Or(){return ft().enabled}function ln(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ze.Z)(function*(){const De=ft();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yn={error:"UNKNOWN_ERROR"};function rr(De){return ot.US.encodeString(JSON.stringify(De),!1)}function Gn(De){return ir.apply(this,arguments)}function ir(){return(ir=(0,ze.Z)(function*(De,ue=!1){const Ce=De.app;bt(Ce);const Oe=ct(Ce);let At,nt=Oe.token;if(nt&&!j(nt)&&(Oe.token=void 0,nt=void 0),!nt){const Dn=yield Oe.cachedTokenPromise;Dn&&(j(Dn)?nt=Dn:yield Hn(Ce,void 0))}if(!ue&&nt&&j(nt))return{token:nt.token};let fn,nn=!1;if(Or()){Oe.exchangeTokenPromise||(Oe.exchangeTokenPromise=Xt(vn(Ce,yield ln()),De.heartbeatServiceProvider).finally(()=>{Oe.exchangeTokenPromise=void 0}),nn=!0);const Dn=yield Oe.exchangeTokenPromise;return yield Hn(Ce,Dn),Oe.token=Dn,{token:Dn.token}}try{Oe.exchangeTokenPromise||(Oe.exchangeTokenPromise=Oe.provider.getToken().finally(()=>{Oe.exchangeTokenPromise=void 0}),nn=!0),nt=yield ct(Ce).exchangeTokenPromise}catch(Dn){"appCheck/throttled"===Dn.code?er.warn(Dn.message):er.error(Dn),At=Dn}return nt?At?fn=j(nt)?{token:nt.token,internalError:At}:pe(At):(fn={token:nt.token},Oe.token=nt,yield Hn(Ce,nt)):fn=pe(At),nn&&function q(De,ue){const Ce=ct(De).tokenObservers;for(const Oe of Ce)try{"EXTERNAL"===Oe.type&&null!=ue.error?Oe.error(ue.error):Oe.next(ue)}catch{}}(Ce,fn),fn})).apply(this,arguments)}function sr(De){return tr.apply(this,arguments)}function tr(){return(tr=(0,ze.Z)(function*(De){const ue=De.app;bt(ue);const{provider:Ce}=ct(ue);if(Or()){const Oe=yield ln(),{token:nt}=yield Xt(vn(ue,Oe),De.heartbeatServiceProvider);return{token:nt}}{const{token:Oe}=yield Ce.getToken();return{token:Oe}}})).apply(this,arguments)}function le(De,ue){const Ce=ct(De),Oe=Ce.tokenObservers.filter(nt=>nt.next!==ue);0===Oe.length&&Ce.tokenRefresher&&Ce.tokenRefresher.isRunning()&&Ce.tokenRefresher.stop(),Ce.tokenObservers=Oe}function re(De){const{app:ue}=De,Ce=ct(ue);let Oe=Ce.tokenRefresher;Oe||(Oe=function K(De){const{app:ue}=De;return new Se((0,ze.Z)(function*(){let Oe;if(Oe=ct(ue).token?yield Gn(De,!0):yield Gn(De),Oe.error)throw Oe.error;if(Oe.internalError)throw Oe.internalError}),()=>!0,()=>{const Ce=ct(ue);if(Ce.token){let Oe=Ce.token.issuedAtTimeMillis+.5*(Ce.token.expireTimeMillis-Ce.token.issuedAtTimeMillis)+3e5;return Oe=Math.min(Oe,Ce.token.expireTimeMillis-3e5),Math.max(0,Oe-Date.now())}return 0},_e.RETRIAL_MIN_WAIT,_e.RETRIAL_MAX_WAIT)}(De),Ce.tokenRefresher=Oe),!Oe.isRunning()&&Ce.isTokenAutoRefreshEnabled&&Oe.start()}function j(De){return De.expireTimeMillis-Date.now()>0}function pe(De){return{token:rr(Yn),error:De}}class ee{constructor(ue,Ce){this.app=ue,this.heartbeatServiceProvider=Ce}_delete(){const{tokenObservers:ue}=ct(this.app);for(const Ce of ue)le(this.app,Ce.next);return Promise.resolve()}}const ti="app-check-internal";!function Ar(){(0,Ye._registerComponent)(new Qe.wA("app-check",De=>function ne(De,ue){return new ee(De,ue)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,ue,Ce)=>{De.getProvider(ti).initialize()})),(0,Ye._registerComponent)(new Qe.wA(ti,De=>function Q(De){return{getToken:ue=>Gn(De,ue),getLimitedUseToken:()=>sr(De),addTokenListener:ue=>function lr(De,ue,Ce,Oe){const{app:nt}=De,At=ct(nt);if(At.tokenObservers=[...At.tokenObservers,{next:Ce,error:Oe,type:ue}],At.token&&j(At.token)){const fn=At.token;Promise.resolve().then(()=>{Ce({token:fn.token}),re(De)}).catch(()=>{})}At.cachedTokenPromise.then(()=>re(De))}(De,"INTERNAL",ue),removeTokenListener:ue=>le(De.app,ue)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ye.registerVersion)("@firebase/app-check","0.8.0")}();class ii{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1041:(vt,Ne,x)=>{x.d(Ne,{zQ:()=>ft,rT:()=>W,f7:()=>ct,L6:()=>Ze,_Q:()=>Re,lh:()=>kt,Qv:()=>ot,nw:()=>zt});var d=x(4650),B=x(7579),P=x(9646),ce=x(9751),ae=x(8996),he=x(6451),Ie=x(5363),ve=x(3900),Ae=x(4004),se=x(4707),oe=x(3099);function fe(Kt,dt,Rn){let _e,ye=!1;return Kt&&"object"==typeof Kt?({bufferSize:_e=1/0,windowTime:dt=1/0,refCount:ye=!1,scheduler:Rn}=Kt):_e=Kt??1/0,(0,oe.B)({connector:()=>new se.t(_e,dt,Rn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ye})}var st=x(590),We=x(576);function lt(Kt,dt){return(0,We.m)(dt)?(0,ve.w)(()=>Kt,dt):(0,ve.w)(()=>Kt)}var Et=x(9468),He=x(9300),Xe=x(4976),et=x(2011),ut=x(6895),ze=x(6217);x(9260);const ot=new d.OlP("angularfire2.auth.use-emulator"),Ze=new d.OlP("angularfire2.auth.settings"),Re=new d.OlP("angularfire2.auth.tenant-id"),W=new d.OlP("angularfire2.auth.langugage-code"),kt=new d.OlP("angularfire2.auth.use-device-language"),ct=new d.OlP("angularfire.auth.persistence"),zt=(Kt,dt,Rn,_e,ye,Se,Ee,Be)=>(0,et.cc)(`${Kt.name}.auth`,"AngularFireAuth",Kt.name,()=>{const je=dt.runOutsideAngular(()=>Kt.auth());if(Rn&&je.useEmulator(...Rn),_e&&(je.tenantId=_e),je.languageCode=ye,Se&&je.useDeviceLanguage(),Ee)for(const[_t,bt]of Object.entries(Ee))je.settings[_t]=bt;return Be&&je.setPersistence(Be),je},[Rn,_e,ye,Se,Ee,Be]);let ft=(()=>{class Kt{constructor(Rn,_e,ye,Se,Ee,Be,je,_t,bt,rn,mt,Xt){const bn=new B.x,An=(0,P.of)(void 0).pipe((0,Ie.Q)(Ee.outsideAngular),(0,ve.w)(()=>Se.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9568)))),(0,Ae.U)(()=>(0,et.on)(Rn,Se,_e)),(0,Ae.U)($t=>zt($t,Se,Be,_t,bt,rn,je,mt)),fe({bufferSize:1,refCount:!1}));if((0,ut.PM)(ye))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,P.of)(null);else{An.pipe((0,st.P)()).subscribe();const vn=An.pipe((0,ve.w)(en=>en.getRedirectResult().then(Jt=>Jt,()=>null)),Xe.iC,fe({bufferSize:1,refCount:!1})),Ct=An.pipe((0,ve.w)(en=>new ce.y(Jt=>({unsubscribe:Se.runOutsideAngular(()=>en.onAuthStateChanged(gt=>Jt.next(gt),gt=>Jt.error(gt),()=>Jt.complete()))})))),Tn=An.pipe((0,ve.w)(en=>new ce.y(Jt=>({unsubscribe:Se.runOutsideAngular(()=>en.onIdTokenChanged(gt=>Jt.next(gt),gt=>Jt.error(gt),()=>Jt.complete()))}))));this.authState=vn.pipe(lt(Ct),(0,Et.R)(Ee.outsideAngular),(0,Ie.Q)(Ee.insideAngular)),this.user=vn.pipe(lt(Tn),(0,Et.R)(Ee.outsideAngular),(0,Ie.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(en=>en?(0,ae.D)(en.getIdToken()):(0,P.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(en=>en?(0,ae.D)(en.getIdTokenResult()):(0,P.of)(null))),this.credential=(0,he.T)(vn,bn,this.authState.pipe((0,He.h)(en=>!en))).pipe((0,Ae.U)(en=>en?.user?en:null),(0,Et.R)(Ee.outsideAngular),(0,Ie.Q)(Ee.insideAngular))}return(0,et.pX)(this,An,Se,{spy:{apply:($t,vn,Ct)=>{($t.startsWith("signIn")||$t.startsWith("createUser"))&&Ct.then(Tn=>bn.next(Tn))}}})}}return Kt.\u0275fac=function(Rn){return new(Rn||Kt)(d.LFG(et.Dh),d.LFG(et.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xe.HU),d.LFG(ot,8),d.LFG(Ze,8),d.LFG(Re,8),d.LFG(W,8),d.LFG(kt,8),d.LFG(ct,8),d.LFG(ze.nm,8))},Kt.\u0275prov=d.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"any"}),Kt})()},9532:(vt,Ne,x)=>{x.d(Ne,{KQ:()=>Ec,JS:()=>Kl});var d=x(4650),B=x(4986),P=x(9751),ce=x(9646),ae=x(6451),he=x(4004),Ie=x(3099),ve=x(3900),Ae=x(5026),se=x(4671),oe=x(4482),fe=x(5403);function We(s,i){return s===i}var lt=x(8421),Et=x(5032),He=x(3269),ut=x(4976),ze=x(2011),Qe=(x(9568),x(3942)),ot=x(4859),Ze=x(5861),Re=x(6881),W=x(2090),kt=x(1877);const ct="@firebase/database";let ft="";function Yt(s){ft=s}class Kt{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,W.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,W.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class dt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,W.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Rn=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const i=window[s];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Kt(i)}}catch{}return new dt},_e=Rn("localStorage"),ye=Rn("sessionStorage"),Se=new kt.Yd("@firebase/database"),Ee=function(){let s=1;return function(){return s++}}(),Be=function(s){const i=(0,W.dS)(s),o=new W.gQ;o.update(i);const u=o.digest();return W.US.encodeByteArray(u)},je=function(...s){let i="";for(let o=0;o<s.length;o++){const u=s[o];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=je.apply(null,u):i+="object"==typeof u?(0,W.Wl)(u):u,i+=" "}return i};let _t=null,bt=!0;const rn=function(s,i){(0,W.hu)(!i||!0===s||!1===s,"Can't turn on custom loggers persistently."),!0===s?(Se.logLevel=kt.in.VERBOSE,_t=Se.log.bind(Se),i&&ye.set("logging_enabled",!0)):"function"==typeof s?_t=s:(_t=null,ye.remove("logging_enabled"))},mt=function(...s){if(!0===bt&&(bt=!1,null===_t&&!0===ye.get("logging_enabled")&&rn(!0)),_t){const i=je.apply(null,s);_t(i)}},Xt=function(s){return function(...i){mt(s,...i)}},bn=function(...s){const i="FIREBASE INTERNAL ERROR: "+je(...s);Se.error(i)},An=function(...s){const i=`FIREBASE FATAL ERROR: ${je(...s)}`;throw Se.error(i),new Error(i)},$t=function(...s){const i="FIREBASE WARNING: "+je(...s);Se.warn(i)},Ct=function(s){return"number"==typeof s&&(s!=s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},en="[MIN_NAME]",Jt="[MAX_NAME]",gt=function(s,i){if(s===i)return 0;if(s===en||i===Jt)return-1;if(i===en||s===Jt)return 1;{const o=yr(s),u=yr(i);return null!==o?null!==u?o-u==0?s.length-i.length:o-u:-1:null!==u?1:s<i?-1:1}},hn=function(s,i){return s===i?0:s<i?-1:1},kn=function(s,i){if(i&&s in i)return i[s];throw new Error("Missing required key ("+s+") in object: "+(0,W.Wl)(i))},Xn=function(s){if("object"!=typeof s||null===s)return(0,W.Wl)(s);const i=[];for(const u in s)i.push(u);i.sort();let o="{";for(let u=0;u<i.length;u++)0!==u&&(o+=","),o+=(0,W.Wl)(i[u]),o+=":",o+=Xn(s[i[u]]);return o+="}",o},wr=function(s,i){const o=s.length;if(o<=i)return[s];const u=[];for(let m=0;m<o;m+=i)u.push(s.substring(m,m+i>o?o:m+i));return u};function On(s,i){for(const o in s)s.hasOwnProperty(o)&&i(o,s[o])}const En=function(s){(0,W.hu)(!Ct(s),"Invalid JSON number");const u=1023;let m,b,N,$,X;0===s?(b=0,N=0,m=1/s==-1/0?1:0):(m=s<0,(s=Math.abs(s))>=Math.pow(2,1-u)?($=Math.min(Math.floor(Math.log(s)/Math.LN2),u),b=$+u,N=Math.round(s*Math.pow(2,52-$)-Math.pow(2,52))):(b=0,N=Math.round(s/Math.pow(2,-1074))));const de=[];for(X=52;X;X-=1)de.push(N%2?1:0),N=Math.floor(N/2);for(X=11;X;X-=1)de.push(b%2?1:0),b=Math.floor(b/2);de.push(m?1:0),de.reverse();const Ge=de.join("");let qe="";for(X=0;X<64;X+=8){let rt=parseInt(Ge.substr(X,8),2).toString(16);1===rt.length&&(rt="0"+rt),qe+=rt}return qe.toLowerCase()},or=new RegExp("^-?(0*)\\d{1,10}$"),yr=function(s){if(or.test(s)){const i=Number(s);if(i>=-2147483648&&i<=2147483647)return i}return null},Hn=function(s){try{s()}catch(i){setTimeout(()=>{throw $t("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},br=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tn=function(s,i){const o=setTimeout(s,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Or{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,u):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ln{constructor(i,o,u){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(m=>this.auth_=m)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,u):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(i)}}let Qn=(()=>{class s{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return s.OWNER="owner",s})();const sr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,re="websocket",K="long_polling";class q{constructor(i,o,u,m,b=!1,N="",$=!1,X=!1){this.secure=o,this.namespace=u,this.webSocketOnly=m,this.nodeAdmin=b,this.persistenceKey=N,this.includeNamespaceInQueryParams=$,this.isUsingEmulator=X,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_e.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&_e.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pe(s,i,o){let u;if((0,W.hu)("string"==typeof i,"typeof type must == string"),(0,W.hu)("object"==typeof o,"typeof params must == object"),i===re)u=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else{if(i!==K)throw new Error("Unknown connection type: "+i);u=(s.secure?"https://":"http://")+s.internalHost+"/.lp?"}(function j(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams})(s)&&(o.ns=s.namespace);const m=[];return On(o,(b,N)=>{m.push(b+"="+N)}),u+m.join("&")}class ee{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,W.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,W.p$)(this.counters_)}}const ne={},Q={};function me(s){const i=s.toString();return ne[i]||(ne[i]=new ee),ne[i]}class tt{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<u.length;++m)u[m]&&Hn(()=>{this.onMessage_(u[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mr{constructor(i,o,u,m,b,N,$){this.connId=i,this.repoInfo=o,this.applicationId=u,this.appCheckToken=m,this.authToken=b,this.transportSessionId=N,this.lastSessionId=$,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xt(i),this.stats_=me(o),this.urlFn=X=>(this.appCheckToken&&(X.ac=this.appCheckToken),pe(o,K,X))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new tt(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(s){if((0,W.Yr)()||"complete"===document.readyState)s();else{let i=!1;const o=function(){document.body?i||(i=!0,s()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sr((...b)=>{const[N,$,X,de,Ge]=b;if(this.incrementIncomingBytes_(b),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===N)this.id=$,this.password=X;else{if("close"!==N)throw new Error("Unrecognized command received: "+N);$?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter($,()=>{this.onClosed_()})):this.onClosed_()}},(...b)=>{const[N,$]=b;this.incrementIncomingBytes_(b),this.myPacketOrderer.handleResponse(N,$)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&sr.test(location.hostname)&&(u.r="f");const m=this.urlFn(u);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!Mr.forceAllow_&&(Mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,W.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=(0,W.h$)(o),m=wr(u,1840);for(let b=0;b<m.length;b++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[b]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=o,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,W.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Sr{constructor(i,o,u,m){if(this.onDisconnect=u,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Ee(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Sr.createIFrame_();let b="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(b='<script>document.domain="'+document.domain+'";<\/script>');const N="<html><body>"+b+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(N),this.myIFrame.doc.close()}catch($){mt("frame writing exception"),$.stack&&mt($.stack),mt($)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||mt("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),u="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const N=this.pendingSegs.shift();u=u+"&seg"+m+"="+N.seg+"&ts"+m+"="+N.ts+"&d"+m+"="+N.d,m++}return o+=u,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,u){this.pendingSegs.push({seg:i,ts:o,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const u=()=>{this.outstandingRequests.delete(o),this.newRequest_()},m=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(m),u()})}addTag(i,o){(0,W.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const m=u.readyState;(!m||"loaded"===m||"complete"===m)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),o())},u.onerror=()=>{mt("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let jn=null;typeof MozWebSocket<"u"?jn=MozWebSocket:typeof WebSocket<"u"&&(jn=WebSocket);let Mn=(()=>{class s{constructor(o,u,m,b,N,$,X){this.connId=o,this.applicationId=m,this.appCheckToken=b,this.authToken=N,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xt(this.connId),this.stats_=me(u),this.connURL=s.connectionURL_(u,$,X,b,m),this.nodeAdmin=u.nodeAdmin}static connectionURL_(o,u,m,b,N){const $={v:"5"};return!(0,W.Yr)()&&typeof location<"u"&&location.hostname&&sr.test(location.hostname)&&($.r="f"),u&&($.s=u),m&&($.ls=m),b&&($.ac=b),N&&($.p=N),pe(o,re,$)}open(o,u){this.onDisconnect=u,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_e.set("previous_websocket_failure",!0);try{let m;if((0,W.Yr)()){m={headers:{"User-Agent":`Firebase/5/${ft}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(m.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(m.headers["X-Firebase-AppCheck"]=this.appCheckToken);const N=process.env,$=0===this.connURL.indexOf("wss://")?N.HTTPS_PROXY||N.https_proxy:N.HTTP_PROXY||N.http_proxy;$&&(m.proxy={origin:$})}this.mySock=new jn(this.connURL,[],m)}catch(m){this.log_("Error instantiating WebSocket.");const b=m.message||m.data;return b&&this.log_(b),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const b=m.message||m.data;b&&this.log_(b),this.onClosed_()}}start(){}static forceDisallow(){s.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(o=!0)}return!o&&null!==jn&&!s.forceDisallow_}static previouslyFailed(){return _e.isInMemoryStorage||!0===_e.get("previous_websocket_failure")}markConnectionHealthy(){_e.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const m=(0,W.cI)(u);this.onMessage(m)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const u=Number(o);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const u=o.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const m=this.extractFrameCount_(u);null!==m&&this.appendFrame_(m)}}send(o){this.resetKeepAlive();const u=(0,W.Wl)(o);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const m=wr(u,16384);m.length>1&&this.sendString_(String(m.length));for(let b=0;b<m.length;b++)this.sendString_(m[b])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return s.responsesRequiredToBeHealthy=2,s.healthyTimeout=3e4,s})(),ti=(()=>{class s{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Mr,Mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const u=Mn&&Mn.isAvailable();let m=u&&!Mn.previouslyFailed();if(o.webSocketOnly&&(u||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[Mn];else{const b=this.transports_=[];for(const N of s.ALL_TRANSPORTS)N&&N.isAvailable()&&b.push(N);s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return s.globalTransportInitialized_=!1,s})();class Ti{constructor(i,o,u,m,b,N,$,X,de,Ge){this.id=i,this.repoInfo_=o,this.applicationId_=u,this.appCheckToken_=m,this.authToken_=b,this.onMessage_=N,this.onReady_=$,this.onDisconnect_=X,this.onKill_=de,this.lastSessionId=Ge,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xt("c:"+this.id+":"),this.transportManager_=new ti(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,u)},Math.floor(0));const m=i.healthyTimeout||0;m>0&&(this.healthyTimeout_=tn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=kn("t",i),u=kn("d",i);if("c"===o)this.onSecondaryControl_(u);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=kn("t",i),u=kn("d",i);"c"===o?this.onControl_(u):"d"===o&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=kn("t",i);if("d"in i){const u=i.d;if("h"===o){const m=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(m.h=this.repoInfo_.host),this.onHandshake_(m)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(u):"r"===o?this.onReset_(u):"e"===o?bn("Server Error: "+u):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bn("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,u=i.v,m=i.h;this.sessionId=i.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==u&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,u),tn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_e.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Nr{put(i,o,u,m){}merge(i,o,u,m){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,u){}onDisconnectMerge(i,o,u){}onDisconnectCancel(i,o){}reportStats(i){}}class nr{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,W.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let m=0;m<u.length;m++)u[m].callback.apply(u[m].context,o)}}on(i,o,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:u});const m=this.getInitialEvent(i);m&&o.apply(u,m)}off(i,o,u){this.validateEventType_(i);const m=this.listeners_[i]||[];for(let b=0;b<m.length;b++)if(m[b].callback===o&&(!u||u===m[b].context))return void m.splice(b,1)}validateEventType_(i){(0,W.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class Qr extends nr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qr}getInitialEvent(i){return(0,W.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}const Fo=32,De=768;class ue{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let u=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[u]=this.pieces_[m],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function Ce(){return new ue("")}function Oe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function nt(s){return s.pieces_.length-s.pieceNum_}function At(s){let i=s.pieceNum_;return i<s.pieces_.length&&i++,new ue(s.pieces_,i)}function nn(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function Dn(s,i=0){return s.pieces_.slice(s.pieceNum_+i)}function hi(s){if(s.pieceNum_>=s.pieces_.length)return null;const i=[];for(let o=s.pieceNum_;o<s.pieces_.length-1;o++)i.push(s.pieces_[o]);return new ue(i,0)}function zn(s,i){const o=[];for(let u=s.pieceNum_;u<s.pieces_.length;u++)o.push(s.pieces_[u]);if(i instanceof ue)for(let u=i.pieceNum_;u<i.pieces_.length;u++)o.push(i.pieces_[u]);else{const u=i.split("/");for(let m=0;m<u.length;m++)u[m].length>0&&o.push(u[m])}return new ue(o,0)}function Ut(s){return s.pieceNum_>=s.pieces_.length}function Er(s,i){const o=Oe(s),u=Oe(i);if(null===o)return i;if(o===u)return Er(At(s),At(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+s+")")}function wo(s,i){const o=Dn(s,0),u=Dn(i,0);for(let m=0;m<o.length&&m<u.length;m++){const b=gt(o[m],u[m]);if(0!==b)return b}return o.length===u.length?0:o.length<u.length?-1:1}function Lo(s,i){if(nt(s)!==nt(i))return!1;for(let o=s.pieceNum_,u=i.pieceNum_;o<=s.pieces_.length;o++,u++)if(s.pieces_[o]!==i.pieces_[u])return!1;return!0}function gr(s,i){let o=s.pieceNum_,u=i.pieceNum_;if(nt(s)>nt(i))return!1;for(;o<s.pieces_.length;){if(s.pieces_[o]!==i.pieces_[u])return!1;++o,++u}return!0}class qo{constructor(i,o){this.errorPrefix_=o,this.parts_=Dn(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,W.ug)(this.parts_[u]);Qo(this)}}function Qo(s){if(s.byteLength_>De)throw new Error(s.errorPrefix_+"has a key path longer than "+De+" bytes ("+s.byteLength_+").");if(s.parts_.length>Fo)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fo+") or object contains a cycle "+Bi(s))}function Bi(s){return 0===s.parts_.length?"":"in property '"+s.parts_.join(".")+"'"}class Jo extends nr{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Jo}getInitialEvent(i){return(0,W.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const oi=1e3;let ai,fi=(()=>{class s extends Nr{constructor(o,u,m,b,N,$,X,de){if(super(),this.repoInfo_=o,this.applicationId_=u,this.onDataUpdate_=m,this.onConnectStatus_=b,this.onServerInfoUpdate_=N,this.authTokenProvider_=$,this.appCheckTokenProvider_=X,this.authOverride_=de,this.id=s.nextPersistentConnectionId_++,this.log_=Xt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,de&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jo.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Qr.getInstance().on("online",this.onOnline_,this)}sendRequest(o,u,m){const b=++this.requestNumber_,N={r:b,a:o,b:u};this.log_((0,W.Wl)(N)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(N),m&&(this.requestCBHash_[b]=m)}get(o){this.initConnection_();const u=new W.BH,b={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:$=>{const X=$.d;"ok"===$.s?u.resolve(X):u.reject(X)}};return this.outstandingGets_.push(b),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(o,u,m,b){this.initConnection_();const N=o._queryIdentifier,$=o._path.toString();this.log_("Listen called for "+$+" "+N),this.listens.has($)||this.listens.set($,new Map),(0,W.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get($).has(N),"listen() called twice for same path/queryId.");const X={onComplete:b,hashFn:u,query:o,tag:m};this.listens.get($).set(N,X),this.connected_&&this.sendListen_(X)}sendGet_(o){const u=this.outstandingGets_[o];this.sendRequest("g",u.request,m=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(m)})}sendListen_(o){const u=o.query,m=u._path.toString(),b=u._queryIdentifier;this.log_("Listen on "+m+" for "+b);const N={p:m};o.tag&&(N.q=u._queryObject,N.t=o.tag),N.h=o.hashFn(),this.sendRequest("q",N,X=>{const de=X.d,Ge=X.s;s.warnOnListenWarnings_(de,u),(this.listens.get(m)&&this.listens.get(m).get(b))===o&&(this.log_("listen response",X),"ok"!==Ge&&this.removeListen_(m,b),o.onComplete&&o.onComplete(Ge,de))})}static warnOnListenWarnings_(o,u){if(o&&"object"==typeof o&&(0,W.r3)(o,"w")){const m=(0,W.DV)(o,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const b='".indexOn": "'+u._queryParams.getIndex().toString()+'"',N=u._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${b} at ${N} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,W.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,u=(0,W.w9)(o)?"auth":"gauth",m={cred:o};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(u,m,b=>{const N=b.s,$=b.d||"error";this.authToken_===o&&("ok"===N?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(N,$))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const u=o.s,m=o.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,m)})}unlisten(o,u){const m=o._path.toString(),b=o._queryIdentifier;this.log_("Unlisten called for "+m+" "+b),(0,W.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,b)&&this.connected_&&this.sendUnlisten_(m,b,o._queryObject,u)}sendUnlisten_(o,u,m,b){this.log_("Unlisten on "+o+" for "+u);const N={p:o};b&&(N.q=m,N.t=b),this.sendRequest("n",N)}onDisconnectPut(o,u,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,u,m):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:u,onComplete:m})}onDisconnectMerge(o,u,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,u,m):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:u,onComplete:m})}onDisconnectCancel(o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,u):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(o,u,m,b){const N={p:u,d:m};this.log_("onDisconnect "+o,N),this.sendRequest(o,N,$=>{b&&setTimeout(()=>{b($.s,$.d)},Math.floor(0))})}put(o,u,m,b){this.putInternal("p",o,u,m,b)}merge(o,u,m,b){this.putInternal("m",o,u,m,b)}putInternal(o,u,m,b,N){this.initConnection_();const $={p:u,d:m};void 0!==N&&($.h=N),this.outstandingPuts_.push({action:o,request:$,onComplete:b}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(o){const u=this.outstandingPuts_[o].action,m=this.outstandingPuts_[o].request,b=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(u,m,N=>{this.log_(u+" response",N),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),b&&b(N.s,N.d)})}reportStats(o){if(this.connected_){const u={c:o};this.log_("reportStats",u),this.sendRequest("s",u,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,W.Wl)(o));const u=o.r,m=this.requestCBHash_[u];m&&(delete this.requestCBHash_[u],m(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,u){this.log_("handleServerMessage",o,u),"d"===o?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===o?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===o?this.onListenRevoked_(u.p,u.q):"ac"===o?this.onAuthRevoked_(u.s,u.d):"apc"===o?this.onAppCheckRevoked_(u.s,u.d):"sd"===o?this.onSecurityDebugPacket_(u):bn("Unrecognized action received from server: "+(0,W.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Ze.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const u=o.onDataMessage_.bind(o),m=o.onReady_.bind(o),b=o.onRealtimeDisconnect_.bind(o),N=o.id+":"+s.nextConnectionId_++,$=o.lastSessionId;let X=!1,de=null;const Ge=function(){de?de.close():(X=!0,b())};o.realtime_={close:Ge,sendRequest:function(xt){(0,W.hu)(de,"sendRequest call when we're not connected not allowed."),de.sendRequest(xt)}};const rt=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[xt,un]=yield Promise.all([o.authTokenProvider_.getToken(rt),o.appCheckTokenProvider_.getToken(rt)]);X?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),o.authToken_=xt&&xt.accessToken,o.appCheckToken_=un&&un.token,de=new Ti(N,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,u,m,b,fr=>{$t(fr+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},$))}catch(xt){o.log_("Failed to get token: "+xt),X||(o.repoInfo_.nodeAdmin&&$t(xt),Ge())}}})()}interrupt(o){mt("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){mt("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const u=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const u=this.outstandingPuts_[o];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,u){let m;m=u?u.map(N=>Xn(N)).join("$"):"default";const b=this.removeListen_(o,m);b&&b.onComplete&&b.onComplete("permission_denied")}removeListen_(o,u){const m=new ue(o).toString();let b;if(this.listens.has(m)){const N=this.listens.get(m);b=N.get(u),N.delete(u),0===N.size&&this.listens.delete(m)}else b=void 0;return b}onAuthRevoked_(o,u){mt("Auth token revoked: "+o+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,u){mt("App check token revoked: "+o+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const u of o.values())this.sendListen_(u);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let u="js";(0,W.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+u+"."+ft.replace(/\./g,"-")]=1,(0,W.uI)()?o["framework.cordova"]=1:(0,W.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Qr.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&o}}return s.nextPersistentConnectionId_=0,s.nextConnectionId_=0,s})();class pn{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new pn(i,o)}}class Ai{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const u=new pn(en,i),m=new pn(en,o);return 0!==this.compare(u,m)}minPost(){return pn.MIN}}class Mi extends Ai{static get __EMPTY_NODE(){return ai}static set __EMPTY_NODE(i){ai=i}compare(i,o){return gt(i.name,o.name)}isDefinedOn(i){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return pn.MIN}maxPost(){return new pn(Jt,ai)}makePost(i,o){return(0,W.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new pn(i,ai)}toString(){return".key"}}const Ri=new Mi;class Hi{constructor(i,o,u,m,b=null){this.isReverse_=m,this.resultGenerator_=b,this.nodeStack_=[];let N=1;for(;!i.isEmpty();)if(N=o?u(i.key,o):1,m&&(N*=-1),N<0)i=this.isReverse_?i.left:i.right;else{if(0===N){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let eo,jr=(()=>{class s{constructor(o,u,m,b,N){this.key=o,this.value=u,this.color=m??s.RED,this.left=b??mr.EMPTY_NODE,this.right=N??mr.EMPTY_NODE}copy(o,u,m,b,N){return new s(o??this.key,u??this.value,m??this.color,b??this.left,N??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,u,m){let b=this;const N=m(o,b.key);return b=N<0?b.copy(null,null,null,b.left.insert(o,u,m),null):0===N?b.copy(null,u,null,null,null):b.copy(null,null,null,null,b.right.insert(o,u,m)),b.fixUp_()}removeMin_(){if(this.left.isEmpty())return mr.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,u){let m,b;if(m=this,u(o,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(o,u),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===u(o,m.key)){if(m.right.isEmpty())return mr.EMPTY_NODE;b=m.right.min_(),m=m.copy(b.key,b.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(o,u))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,u)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return s.RED=!0,s.BLACK=!1,s})();class mr{constructor(i,o=mr.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new mr(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,jr.BLACK,null,null))}remove(i){return new mr(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,jr.BLACK,null,null))}get(i){let o,u=this.root_;for(;!u.isEmpty();){if(o=this.comparator_(i,u.key),0===o)return u.value;o<0?u=u.left:o>0&&(u=u.right)}return null}getPredecessorKey(i){let o,u=this.root_,m=null;for(;!u.isEmpty();){if(o=this.comparator_(i,u.key),0===o){if(u.left.isEmpty())return m?m.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}o<0?u=u.left:o>0&&(m=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Hi(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new Hi(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new Hi(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new Hi(this.root_,null,this.comparator_,!0,i)}}function Pi(s,i){return gt(s.name,i.name)}function bo(s,i){return gt(s,i)}mr.EMPTY_NODE=new class ps{copy(i,o,u,m,b){return this}insert(i,o,u){return new jr(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const mi=function(s){return"number"==typeof s?"number:"+En(s):"string:"+s},ur=function(s){if(s.isLeafNode()){const i=s.val();(0,W.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,W.r3)(i,".sv"),"Priority must be a string or number.")}else(0,W.hu)(s===eo||s.isEmpty(),"priority of unexpected type.");(0,W.hu)(s===eo||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let To,Cr,ho,li=(()=>{class s{constructor(o,u=s.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=u,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ur(this.priorityNode_)}static set __childrenNodeConstructor(o){To=o}static get __childrenNodeConstructor(){return To}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new s(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Ut(o)?this:".priority"===Oe(o)?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,u){return null}updateImmediateChild(o,u){return".priority"===o?this.updatePriority(u):u.isEmpty()&&".priority"!==o?this:s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,u).updatePriority(this.priorityNode_)}updateChild(o,u){const m=Oe(o);return null===m?u:u.isEmpty()&&".priority"!==m?this:((0,W.hu)(".priority"!==m||1===nt(o),".priority must be the last token in a path"),this.updateImmediateChild(m,s.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(o),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,u){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+mi(this.priorityNode_.val())+":");const u=typeof this.value_;o+=u+":",o+="number"===u?En(this.value_):this.value_,this.lazyHash_=Be(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===s.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof s.__childrenNodeConstructor?-1:((0,W.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const u=typeof o.value_,m=typeof this.value_,b=s.VALUE_TYPE_ORDER.indexOf(u),N=s.VALUE_TYPE_ORDER.indexOf(m);return(0,W.hu)(b>=0,"Unknown leaf type: "+u),(0,W.hu)(N>=0,"Unknown leaf type: "+m),b===N?"object"===m?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:N-b}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return s.VALUE_TYPE_ORDER=["object","boolean","number","string"],s})();const Kn=new class zs extends Ai{compare(i,o){const u=i.node.getPriority(),m=o.node.getPriority(),b=u.compareTo(m);return 0===b?gt(i.name,o.name):b}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return pn.MIN}maxPost(){return new pn(Jt,new li("[PRIORITY-POST]",ho))}makePost(i,o){const u=Cr(i);return new pn(o,new li("[PRIORITY-POST]",u))}toString(){return".priority"}},Wr=Math.log(2);class Lr{constructor(i){this.count=parseInt(Math.log(i+1)/Wr,10),this.current_=this.count-1;const m=(b=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&m}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const $i=function(s,i,o,u){s.sort(i);const m=function(X,de){const Ge=de-X;let qe,rt;if(0===Ge)return null;if(1===Ge)return qe=s[X],rt=o?o(qe):qe,new jr(rt,qe.node,jr.BLACK,null,null);{const xt=parseInt(Ge/2,10)+X,un=m(X,xt),fr=m(xt+1,de);return qe=s[xt],rt=o?o(qe):qe,new jr(rt,qe.node,jr.BLACK,un,fr)}},$=function(X){let de=null,Ge=null,qe=s.length;const rt=function(un,fr){const uo=qe-un,Da=qe;qe-=un;const Va=m(uo+1,Da),Nl=s[uo],ad=o?o(Nl):Nl;xt(new jr(ad,Nl.node,fr,null,Va))},xt=function(un){de?(de.left=un,de=un):(Ge=un,de=un)};for(let un=0;un<X.count;++un){const fr=X.nextBitIsOne(),uo=Math.pow(2,X.count-(un+1));fr?rt(uo,jr.BLACK):(rt(uo,jr.BLACK),rt(uo,jr.RED))}return Ge}(new Lr(s.length));return new mr(u||i,$)};let _i;const Ur={};class Br{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,W.hu)(Ur&&Kn,"ChildrenNode.ts has not been loaded"),_i=_i||new Br({".priority":Ur},{".priority":Kn}),_i}get(i){const o=(0,W.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof mr?o:null}hasIndex(i){return(0,W.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,W.hu)(i!==Ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let m=!1;const b=o.getIterator(pn.Wrap);let $,N=b.getNext();for(;N;)m=m||i.isDefinedOn(N.node),u.push(N),N=b.getNext();$=m?$i(u,i.getCompare()):Ur;const X=i.toString(),de=Object.assign({},this.indexSet_);de[X]=i;const Ge=Object.assign({},this.indexes_);return Ge[X]=$,new Br(Ge,de)}addToIndexes(i,o){const u=(0,W.UI)(this.indexes_,(m,b)=>{const N=(0,W.DV)(this.indexSet_,b);if((0,W.hu)(N,"Missing index implementation for "+b),m===Ur){if(N.isDefinedOn(i.node)){const $=[],X=o.getIterator(pn.Wrap);let de=X.getNext();for(;de;)de.name!==i.name&&$.push(de),de=X.getNext();return $.push(i),$i($,N.getCompare())}return Ur}{const $=o.get(i.name);let X=m;return $&&(X=X.remove(new pn(i.name,$))),X.insert(i,i.node)}});return new Br(u,this.indexSet_)}removeFromIndexes(i,o){const u=(0,W.UI)(this.indexes_,m=>{if(m===Ur)return m;{const b=o.get(i.name);return b?m.remove(new pn(i.name,b)):m}});return new Br(u,this.indexSet_)}}let ni,an=(()=>{class s{constructor(o,u,m){this.children_=o,this.priorityNode_=u,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&ur(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ni||(ni=new s(new mr(bo),null,Br.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ni}updatePriority(o){return this.children_.isEmpty()?this:new s(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const u=this.children_.get(o);return null===u?ni:u}}getChild(o){const u=Oe(o);return null===u?this:this.getImmediateChild(u).getChild(At(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,u){if((0,W.hu)(u,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(u);{const m=new pn(o,u);let b,N;u.isEmpty()?(b=this.children_.remove(o),N=this.indexMap_.removeFromIndexes(m,this.children_)):(b=this.children_.insert(o,u),N=this.indexMap_.addToIndexes(m,this.children_));const $=b.isEmpty()?ni:this.priorityNode_;return new s(b,$,N)}}updateChild(o,u){const m=Oe(o);if(null===m)return u;{(0,W.hu)(".priority"!==Oe(o)||1===nt(o),".priority must be the last token in a path");const b=this.getImmediateChild(m).updateChild(At(o),u);return this.updateImmediateChild(m,b)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const u={};let m=0,b=0,N=!0;if(this.forEachChild(Kn,($,X)=>{u[$]=X.val(o),m++,N&&s.INTEGER_REGEXP_.test($)?b=Math.max(b,Number($)):N=!1}),!o&&N&&b<2*m){const $=[];for(const X in u)$[X]=u[X];return $}return o&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+mi(this.getPriority().val())+":"),this.forEachChild(Kn,(u,m)=>{const b=m.hash();""!==b&&(o+=":"+u+":"+b)}),this.lazyHash_=""===o?"":Be(o)}return this.lazyHash_}getPredecessorChildName(o,u,m){const b=this.resolveIndex_(m);if(b){const N=b.getPredecessorKey(new pn(o,u));return N?N.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const u=this.resolveIndex_(o);if(u){const m=u.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(o){const u=this.getFirstChildName(o);return u?new pn(u,this.children_.get(u)):null}getLastChildName(o){const u=this.resolveIndex_(o);if(u){const m=u.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(o){const u=this.getLastChildName(o);return u?new pn(u,this.children_.get(u)):null}forEachChild(o,u){const m=this.resolveIndex_(o);return m?m.inorderTraversal(b=>u(b.name,b.node)):this.children_.inorderTraversal(u)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,u){const m=this.resolveIndex_(u);if(m)return m.getIteratorFrom(o,b=>b);{const b=this.children_.getIteratorFrom(o.name,pn.Wrap);let N=b.peek();for(;null!=N&&u.compare(N,o)<0;)b.getNext(),N=b.peek();return b}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,u){const m=this.resolveIndex_(u);if(m)return m.getReverseIteratorFrom(o,b=>b);{const b=this.children_.getReverseIteratorFrom(o.name,pn.Wrap);let N=b.peek();for(;null!=N&&u.compare(N,o)>0;)b.getNext(),N=b.peek();return b}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===to?-1:0}withIndex(o){if(o===Ri||this.indexMap_.hasIndex(o))return this;{const u=this.indexMap_.addIndex(o,this.children_);return new s(this.children_,this.priorityNode_,u)}}isIndexed(o){return o===Ri||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const u=o;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const m=this.getIterator(Kn),b=u.getIterator(Kn);let N=m.getNext(),$=b.getNext();for(;N&&$;){if(N.name!==$.name||!N.node.equals($.node))return!1;N=m.getNext(),$=b.getNext()}return null===N&&null===$}return!1}return!1}}resolveIndex_(o){return o===Ri?null:this.indexMap_.get(o.toString())}}return s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s})();const to=new class dn extends an{constructor(){super(new mr(bo),an.EMPTY_NODE,Br.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return an.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(pn,{MIN:{value:new pn(en,an.EMPTY_NODE)},MAX:{value:new pn(Jt,to)}}),Mi.__EMPTY_NODE=an.EMPTY_NODE,li.__childrenNodeConstructor=an,function ji(s){eo=s}(to),function $r(s){ho=s}(to);const gs=!0;function cr(s,i=null){if(null===s)return an.EMPTY_NODE;if("object"==typeof s&&".priority"in s&&(i=s[".priority"]),(0,W.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof s&&".value"in s&&null!==s[".value"]&&(s=s[".value"]),"object"!=typeof s||".sv"in s)return new li(s,cr(i));if(s instanceof Array||!gs){let o=an.EMPTY_NODE;return On(s,(u,m)=>{if((0,W.r3)(s,u)&&"."!==u.substring(0,1)){const b=cr(m);(b.isLeafNode()||!b.isEmpty())&&(o=o.updateImmediateChild(u,b))}}),o.updatePriority(cr(i))}{const o=[];let u=!1;if(On(s,(N,$)=>{if("."!==N.substring(0,1)){const X=cr($);X.isEmpty()||(u=u||!X.getPriority().isEmpty(),o.push(new pn(N,X)))}}),0===o.length)return an.EMPTY_NODE;const b=$i(o,Pi,N=>N.name,bo);if(u){const N=$i(o,Kn.getCompare());return new an(b,cr(i),new Br({".priority":N},{".priority":Kn}))}return new an(b,cr(i),Br.Default)}}!function fo(s){Cr=s}(cr);class ts extends Ai{constructor(i){super(),this.indexPath_=i,(0,W.hu)(!Ut(i)&&".priority"!==Oe(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const u=this.extractChild(i.node),m=this.extractChild(o.node),b=u.compareTo(m);return 0===b?gt(i.name,o.name):b}makePost(i,o){const u=cr(i),m=an.EMPTY_NODE.updateChild(this.indexPath_,u);return new pn(o,m)}maxPost(){const i=an.EMPTY_NODE.updateChild(this.indexPath_,to);return new pn(Jt,i)}toString(){return Dn(this.indexPath_,0).join("/")}}const go=new class po extends Ai{compare(i,o){const u=i.node.compareTo(o.node);return 0===u?gt(i.name,o.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return pn.MIN}maxPost(){return pn.MAX}makePost(i,o){const u=cr(i);return new pn(o,u)}toString(){return".value"}};function ms(s){return{type:"value",snapshotNode:s}}function Vo(s,i){return{type:"child_added",snapshotNode:i,childName:s}}function w(s,i){return{type:"child_removed",snapshotNode:i,childName:s}}function M(s,i,o){return{type:"child_changed",snapshotNode:i,childName:s,oldSnap:o}}class z{constructor(i){this.index_=i}updateChild(i,o,u,m,b,N){(0,W.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const $=i.getImmediateChild(o);return $.getChild(m).equals(u.getChild(m))&&$.isEmpty()===u.isEmpty()||(null!=N&&(u.isEmpty()?i.hasChild(o)?N.trackChildChange(w(o,$)):(0,W.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):$.isEmpty()?N.trackChildChange(Vo(o,u)):N.trackChildChange(M(o,u,$))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(o,u).withIndex(this.index_)}updateFullNode(i,o,u){return null!=u&&(i.isLeafNode()||i.forEachChild(Kn,(m,b)=>{o.hasChild(m)||u.trackChildChange(w(m,b))}),o.isLeafNode()||o.forEachChild(Kn,(m,b)=>{if(i.hasChild(m)){const N=i.getImmediateChild(m);N.equals(b)||u.trackChildChange(M(m,b,N))}else u.trackChildChange(Vo(m,b))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?an.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class xe{constructor(i){this.indexedFilter_=new z(i.getIndex()),this.index_=i.getIndex(),this.startPost_=xe.getStartPost_(i),this.endPost_=xe.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return o&&u}updateChild(i,o,u,m,b,N){return this.matches(new pn(o,u))||(u=an.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,u,m,b,N)}updateFullNode(i,o,u){o.isLeafNode()&&(o=an.EMPTY_NODE);let m=o.withIndex(this.index_);m=m.updatePriority(an.EMPTY_NODE);const b=this;return o.forEachChild(Kn,(N,$)=>{b.matches(new pn(N,$))||(m=m.updateImmediateChild(N,an.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,m,u)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Gt{constructor(i){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=o=>{const u=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new xe(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,o,u,m,b,N){return this.rangedFilter_.matches(new pn(o,u))||(u=an.EMPTY_NODE),i.getImmediateChild(o).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,u,m,b,N):this.fullLimitUpdateChild_(i,o,u,b,N)}updateFullNode(i,o,u){let m;if(o.isLeafNode()||o.isEmpty())m=an.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let b;m=an.EMPTY_NODE.withIndex(this.index_),b=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let N=0;for(;b.hasNext()&&N<this.limit_;){const $=b.getNext();if(this.withinDirectionalStart($)){if(!this.withinDirectionalEnd($))break;m=m.updateImmediateChild($.name,$.node),N++}}}else{let b;m=o.withIndex(this.index_),m=m.updatePriority(an.EMPTY_NODE),b=this.reverse_?m.getReverseIterator(this.index_):m.getIterator(this.index_);let N=0;for(;b.hasNext();){const $=b.getNext();N<this.limit_&&this.withinDirectionalStart($)&&this.withinDirectionalEnd($)?N++:m=m.updateImmediateChild($.name,an.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,m,u)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,u,m,b){let N;if(this.reverse_){const qe=this.index_.getCompare();N=(rt,xt)=>qe(xt,rt)}else N=this.index_.getCompare();const $=i;(0,W.hu)($.numChildren()===this.limit_,"");const X=new pn(o,u),de=this.reverse_?$.getFirstChild(this.index_):$.getLastChild(this.index_),Ge=this.rangedFilter_.matches(X);if($.hasChild(o)){const qe=$.getImmediateChild(o);let rt=m.getChildAfterChild(this.index_,de,this.reverse_);for(;null!=rt&&(rt.name===o||$.hasChild(rt.name));)rt=m.getChildAfterChild(this.index_,rt,this.reverse_);const xt=null==rt?1:N(rt,X);if(Ge&&!u.isEmpty()&&xt>=0)return b?.trackChildChange(M(o,u,qe)),$.updateImmediateChild(o,u);{b?.trackChildChange(w(o,qe));const fr=$.updateImmediateChild(o,an.EMPTY_NODE);return null!=rt&&this.rangedFilter_.matches(rt)?(b?.trackChildChange(Vo(rt.name,rt.node)),fr.updateImmediateChild(rt.name,rt.node)):fr}}return u.isEmpty()?i:Ge&&N(de,X)>=0?(null!=b&&(b.trackChildChange(w(de.name,de.node)),b.trackChildChange(Vo(o,u))),$.updateImmediateChild(o,u).updateImmediateChild(de.name,an.EMPTY_NODE)):i}}class $n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:en}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const i=new $n;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Gi(s,i,o){const u=s.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=o?(u.startNameSet_=!0,u.indexStartName_=o):(u.startNameSet_=!1,u.indexStartName_=""),u}function ci(s,i,o){const u=s.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==o?(u.endNameSet_=!0,u.indexEndName_=o):(u.endNameSet_=!1,u.indexEndName_=""),u}function Xr(s,i){const o=s.copy();return o.index_=i,o}function _o(s){const i={};if(s.isDefault())return i;let o;if(s.index_===Kn?o="$priority":s.index_===go?o="$value":s.index_===Ri?o="$key":((0,W.hu)(s.index_ instanceof ts,"Unrecognized index type!"),o=s.index_.toString()),i.orderBy=(0,W.Wl)(o),s.startSet_){const u=s.startAfterSet_?"startAfter":"startAt";i[u]=(0,W.Wl)(s.indexStartValue_),s.startNameSet_&&(i[u]+=","+(0,W.Wl)(s.indexStartName_))}if(s.endSet_){const u=s.endBeforeSet_?"endBefore":"endAt";i[u]=(0,W.Wl)(s.indexEndValue_),s.endNameSet_&&(i[u]+=","+(0,W.Wl)(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?i.limitToFirst=s.limit_:i.limitToLast=s.limit_),i}function no(s){const i={};if(s.startSet_&&(i.sp=s.indexStartValue_,s.startNameSet_&&(i.sn=s.indexStartName_),i.sin=!s.startAfterSet_),s.endSet_&&(i.ep=s.indexEndValue_,s.endNameSet_&&(i.en=s.indexEndName_),i.ein=!s.endBeforeSet_),s.limitSet_){i.l=s.limit_;let o=s.viewFrom_;""===o&&(o=s.isViewFromLeft()?"l":"r"),i.vf=o}return s.index_!==Kn&&(i.i=s.index_.toString()),i}class yi extends Nr{constructor(i,o,u,m){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.log_=Xt("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,W.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,u,m){const b=i._path.toString();this.log_("Listen called for "+b+" "+i._queryIdentifier);const N=yi.getListenId_(i,u),$={};this.listens_[N]=$;const X=_o(i._queryParams);this.restRequest_(b+".json",X,(de,Ge)=>{let qe=Ge;if(404===de&&(qe=null,de=null),null===de&&this.onDataUpdate_(b,qe,!1,u),(0,W.DV)(this.listens_,N)===$){let rt;rt=de?401===de?"permission_denied":"rest_error:"+de:"ok",m(rt,null)}})}unlisten(i,o){const u=yi.getListenId_(i,o);delete this.listens_[u]}get(i){const o=_o(i._queryParams),u=i._path.toString(),m=new W.BH;return this.restRequest_(u+".json",o,(b,N)=>{let $=N;404===b&&($=null,b=null),null===b?(this.onDataUpdate_(u,$,!1,null),m.resolve($)):m.reject(new Error($))}),m.promise}refreshAuthToken(i){}restRequest_(i,o={},u){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,b])=>{m&&m.accessToken&&(o.auth=m.accessToken),b&&b.token&&(o.ac=b.token);const N=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,W.xO)(o);this.log_("Sending REST request for "+N);const $=new XMLHttpRequest;$.onreadystatechange=()=>{if(u&&4===$.readyState){this.log_("REST Response for "+N+" received. status:",$.status,"response:",$.responseText);let X=null;if($.status>=200&&$.status<300){try{X=(0,W.cI)($.responseText)}catch{$t("Failed to parse JSON response for "+N+": "+$.responseText)}u(null,X)}else 401!==$.status&&404!==$.status&&$t("Got unsuccessful REST response for "+N+" Status: "+$.status),u($.status);u=null}},$.open("GET",N,!0),$.send()})}}class la{constructor(){this.rootNode_=an.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function ro(){return{value:null,children:new Map}}function Uo(s,i,o){if(Ut(i))s.value=o,s.children.clear();else if(null!==s.value)s.value=s.value.updateChild(i,o);else{const u=Oe(i);s.children.has(u)||s.children.set(u,ro()),Uo(s.children.get(u),i=At(i),o)}}function ua(s,i){if(Ut(i))return s.value=null,s.children.clear(),!0;if(null!==s.value){if(s.value.isLeafNode())return!1;{const o=s.value;return s.value=null,o.forEachChild(Kn,(u,m)=>{Uo(s,new ue(u),m)}),ua(s,i)}}if(s.children.size>0){const o=Oe(i);return i=At(i),s.children.has(o)&&ua(s.children.get(o),i)&&s.children.delete(o),0===s.children.size}return!0}function Ir(s,i,o){null!==s.value?o(i,s.value):function Rs(s,i){s.children.forEach((o,u)=>{i(u,o)})}(s,(u,m)=>{Ir(m,new ue(i.toString()+"/"+u),o)})}class Bo{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&On(this.last_,(u,m)=>{o[u]=o[u]-m}),this.last_=i,o}}class rs{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Bo(i);const u=1e4+2e4*Math.random();tn(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),o={};let u=!1;On(i,(m,b)=>{b>0&&(0,W.r3)(this.statsToReport_,m)&&(o[m]=b,u=!0)}),u&&this.server_.reportStats(o),tn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var pi=(()=>{return(s=pi||(pi={}))[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",pi;var s})();function yo(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class is{constructor(i,o,u){this.path=i,this.affectedTree=o,this.revert=u,this.type=pi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Ut(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new ue(i));return new is(Ce(),o,this.revert)}}return(0,W.hu)(Oe(this.path)===i,"operationForChild called for unrelated child."),new is(At(this.path),this.affectedTree,this.revert)}}class So{constructor(i,o){this.source=i,this.path=o,this.type=pi.LISTEN_COMPLETE}operationForChild(i){return Ut(this.path)?new So(this.source,Ce()):new So(this.source,At(this.path))}}class zi{constructor(i,o,u){this.source=i,this.path=o,this.snap=u,this.type=pi.OVERWRITE}operationForChild(i){return Ut(this.path)?new zi(this.source,Ce(),this.snap.getImmediateChild(i)):new zi(this.source,At(this.path),this.snap)}}class Dr{constructor(i,o,u){this.source=i,this.path=o,this.children=u,this.type=pi.MERGE}operationForChild(i){if(Ut(this.path)){const o=this.children.subtree(new ue(i));return o.isEmpty()?null:o.value?new zi(this.source,Ce(),o.value):new Dr(this.source,Ce(),o)}return(0,W.hu)(Oe(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Dr(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gr{constructor(i,o,u){this.node_=i,this.fullyInitialized_=o,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Ut(i))return this.isFullyInitialized()&&!this.filtered_;const o=Oe(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ar{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function io(s,i,o,u,m,b){const N=u.filter($=>$.type===o);N.sort(($,X)=>function $a(s,i,o){if(null==i.childName||null==o.childName)throw(0,W.g5)("Should only compare child_ events.");const u=new pn(i.childName,i.snapshotNode),m=new pn(o.childName,o.snapshotNode);return s.index_.compare(u,m)}(s,$,X)),N.forEach($=>{const X=function Zs(s,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,s.index_)),i}(s,$,b);m.forEach(de=>{de.respondsTo($.type)&&i.push(de.createEvent(X,s.query_))})})}function vs(s,i){return{eventCache:s,serverCache:i}}function Os(s,i,o,u){return vs(new Gr(i,o,u),s.serverCache)}function os(s,i,o,u){return vs(s.eventCache,new Gr(i,o,u))}function ss(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ao(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let D;class S{constructor(i,o=(()=>(D||(D=new mr(hn)),D))()){this.value=i,this.children=o}static fromObject(i){let o=new S(null);return On(i,(u,m)=>{o=o.set(new ue(u),m)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:Ce(),value:this.value};if(Ut(i))return null;{const u=Oe(i),m=this.children.get(u);if(null!==m){const b=m.findRootMostMatchingPathAndValue(At(i),o);return null!=b?{path:zn(new ue(u),b.path),value:b.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Ut(i))return this;{const o=Oe(i),u=this.children.get(o);return null!==u?u.subtree(At(i)):new S(null)}}set(i,o){if(Ut(i))return new S(o,this.children);{const u=Oe(i),b=(this.children.get(u)||new S(null)).set(At(i),o),N=this.children.insert(u,b);return new S(this.value,N)}}remove(i){if(Ut(i))return this.children.isEmpty()?new S(null):new S(null,this.children);{const o=Oe(i),u=this.children.get(o);if(u){const m=u.remove(At(i));let b;return b=m.isEmpty()?this.children.remove(o):this.children.insert(o,m),null===this.value&&b.isEmpty()?new S(null):new S(this.value,b)}return this}}get(i){if(Ut(i))return this.value;{const o=Oe(i),u=this.children.get(o);return u?u.get(At(i)):null}}setTree(i,o){if(Ut(i))return o;{const u=Oe(i),b=(this.children.get(u)||new S(null)).setTree(At(i),o);let N;return N=b.isEmpty()?this.children.remove(u):this.children.insert(u,b),new S(this.value,N)}}fold(i){return this.fold_(Ce(),i)}fold_(i,o){const u={};return this.children.inorderTraversal((m,b)=>{u[m]=b.fold_(zn(i,m),o)}),o(i,this.value,u)}findOnPath(i,o){return this.findOnPath_(i,Ce(),o)}findOnPath_(i,o,u){const m=!!this.value&&u(o,this.value);if(m)return m;if(Ut(i))return null;{const b=Oe(i),N=this.children.get(b);return N?N.findOnPath_(At(i),zn(o,b),u):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,Ce(),o)}foreachOnPath_(i,o,u){if(Ut(i))return this;{this.value&&u(o,this.value);const m=Oe(i),b=this.children.get(m);return b?b.foreachOnPath_(At(i),zn(o,m),u):new S(null)}}foreach(i){this.foreach_(Ce(),i)}foreach_(i,o){this.children.inorderTraversal((u,m)=>{m.foreach_(zn(i,u),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,u)=>{u.value&&i(o,u.value)})}}class H{constructor(i){this.writeTree_=i}static empty(){return new H(new S(null))}}function ie(s,i,o){if(Ut(i))return new H(new S(o));{const u=s.writeTree_.findRootMostValueAndPath(i);if(null!=u){const m=u.path;let b=u.value;const N=Er(m,i);return b=b.updateChild(N,o),new H(s.writeTree_.set(m,b))}{const m=new S(o),b=s.writeTree_.setTree(i,m);return new H(b)}}}function Ue(s,i,o){let u=s;return On(o,(m,b)=>{u=ie(u,zn(i,m),b)}),u}function Je(s,i){if(Ut(i))return H.empty();{const o=s.writeTree_.setTree(i,new S(null));return new H(o)}}function Bt(s,i){return null!=Ln(s,i)}function Ln(s,i){const o=s.writeTree_.findRootMostValueAndPath(i);return null!=o?s.writeTree_.get(o.path).getChild(Er(o.path,i)):null}function Vn(s){const i=[],o=s.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(Kn,(u,m)=>{i.push(new pn(u,m))}):s.writeTree_.children.inorderTraversal((u,m)=>{null!=m.value&&i.push(new pn(u,m.value))}),i}function Sn(s,i){if(Ut(i))return s;{const o=Ln(s,i);return new H(null!=o?new S(o):s.writeTree_.subtree(i))}}function Cn(s){return s.writeTree_.isEmpty()}function hr(s,i){return Jn(Ce(),s.writeTree_,i)}function Jn(s,i,o){if(null!=i.value)return o.updateChild(s,i.value);{let u=null;return i.children.inorderTraversal((m,b)=>{".priority"===m?((0,W.hu)(null!==b.value,"Priority writes must always be leaf nodes"),u=b.value):o=Jn(zn(s,m),b,o)}),!o.getChild(s).isEmpty()&&null!==u&&(o=o.updateChild(zn(s,".priority"),u)),o}}function xr(s,i){return Es(i,s)}function Ei(s,i){if(s.snap)return gr(s.path,i);for(const o in s.children)if(s.children.hasOwnProperty(o)&&gr(zn(s.path,o),i))return!0;return!1}function di(s){return s.visible}function Ns(s,i,o){let u=H.empty();for(let m=0;m<s.length;++m){const b=s[m];if(i(b)){const N=b.path;let $;if(b.snap)gr(o,N)?($=Er(o,N),u=ie(u,$,b.snap)):gr(N,o)&&($=Er(N,o),u=ie(u,Ce(),b.snap.getChild($)));else{if(!b.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(gr(o,N))$=Er(o,N),u=Ue(u,$,b.children);else if(gr(N,o))if($=Er(N,o),Ut($))u=Ue(u,Ce(),b.children);else{const X=(0,W.DV)(b.children,Oe($));if(X){const de=X.getChild(At($));u=ie(u,Ce(),de)}}}}}return u}function Ys(s,i,o,u,m){if(u||m){const b=Sn(s.visibleWrites,i);return!m&&Cn(b)?o:m||null!=o||Bt(b,Ce())?hr(Ns(s.allWrites,function(de){return(de.visible||m)&&(!u||!~u.indexOf(de.writeId))&&(gr(de.path,i)||gr(i,de.path))},i),o||an.EMPTY_NODE):null}{const b=Ln(s.visibleWrites,i);if(null!=b)return b;{const N=Sn(s.visibleWrites,i);return Cn(N)?o:null!=o||Bt(N,Ce())?hr(N,o||an.EMPTY_NODE):null}}}function Fs(s,i,o,u){return Ys(s.writeTree,s.treePath,i,o,u)}function Eo(s,i){return function Wa(s,i,o){let u=an.EMPTY_NODE;const m=Ln(s.visibleWrites,i);if(m)return m.isLeafNode()||m.forEachChild(Kn,(b,N)=>{u=u.updateImmediateChild(b,N)}),u;if(o){const b=Sn(s.visibleWrites,i);return o.forEachChild(Kn,(N,$)=>{const X=hr(Sn(b,new ue(N)),$);u=u.updateImmediateChild(N,X)}),Vn(b).forEach(N=>{u=u.updateImmediateChild(N.name,N.node)}),u}return Vn(Sn(s.visibleWrites,i)).forEach(N=>{u=u.updateImmediateChild(N.name,N.node)}),u}(s.writeTree,s.treePath,i)}function Ga(s,i,o,u){return function xs(s,i,o,u,m){(0,W.hu)(u||m,"Either existingEventSnap or existingServerSnap must exist");const b=zn(i,o);if(Bt(s.visibleWrites,b))return null;{const N=Sn(s.visibleWrites,b);return Cn(N)?m.getChild(o):hr(N,m.getChild(o))}}(s.writeTree,s.treePath,i,o,u)}function Rr(s,i){return function Ta(s,i){return Ln(s.visibleWrites,i)}(s.writeTree,zn(s.treePath,i))}function qs(s,i,o){return function ks(s,i,o,u){const m=zn(i,o),b=Ln(s.visibleWrites,m);return null!=b?b:u.isCompleteForChild(o)?hr(Sn(s.visibleWrites,m),u.getNode().getImmediateChild(o)):null}(s.writeTree,s.treePath,i,o)}function Sa(s,i){return Es(zn(s.treePath,i),s.writeTree)}function Es(s,i){return{treePath:s,writeTree:i}}class za{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,u=i.childName;(0,W.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(u);if(m){const b=m.type;if("child_added"===o&&"child_removed"===b)this.changeMap.set(u,M(u,i.snapshotNode,m.snapshotNode));else if("child_removed"===o&&"child_added"===b)this.changeMap.delete(u);else if("child_removed"===o&&"child_changed"===b)this.changeMap.set(u,w(u,m.oldSnap));else if("child_changed"===o&&"child_added"===b)this.changeMap.set(u,Vo(u,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==b)throw(0,W.g5)("Illegal combination of changes: "+i+" occurred after "+m);this.changeMap.set(u,M(u,i.snapshotNode,m.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const zr=new class ca{getCompleteChild(i){return null}getChildAfterChild(i,o,u){return null}};class Ls{constructor(i,o,u=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=u}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new Gr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qs(this.writes_,i,u)}}getChildAfterChild(i,o,u){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ao(this.viewCache_),b=function jo(s,i,o,u,m,b){return function Zi(s,i,o,u,m,b,N){let $;const X=Sn(s.visibleWrites,i),de=Ln(X,Ce());if(null!=de)$=de;else{if(null==o)return[];$=hr(X,o)}if($=$.withIndex(N),$.isEmpty()||$.isLeafNode())return[];{const Ge=[],qe=N.getCompare(),rt=b?$.getReverseIteratorFrom(u,N):$.getIteratorFrom(u,N);let xt=rt.getNext();for(;xt&&Ge.length<m;)0!==qe(xt,u)&&Ge.push(xt),xt=rt.getNext();return Ge}}(s.writeTree,s.treePath,i,o,u,m,b)}(this.writes_,m,o,1,u,i);return 0===b.length?null:b[0]}}function Cs(s,i,o,u,m,b){const N=i.eventCache;if(null!=Rr(u,o))return i;{let $,X;if(Ut(o))if((0,W.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const de=Ao(i),qe=Eo(u,de instanceof an?de:an.EMPTY_NODE);$=s.filter.updateFullNode(i.eventCache.getNode(),qe,b)}else{const de=Fs(u,Ao(i));$=s.filter.updateFullNode(i.eventCache.getNode(),de,b)}else{const de=Oe(o);if(".priority"===de){(0,W.hu)(1===nt(o),"Can't have a priority with additional path components");const Ge=N.getNode();X=i.serverCache.getNode();const qe=Ga(u,o,Ge,X);$=null!=qe?s.filter.updatePriority(Ge,qe):N.getNode()}else{const Ge=At(o);let qe;if(N.isCompleteForChild(de)){X=i.serverCache.getNode();const rt=Ga(u,o,N.getNode(),X);qe=null!=rt?N.getNode().getImmediateChild(de).updateChild(Ge,rt):N.getNode().getImmediateChild(de)}else qe=qs(u,de,i.serverCache);$=null!=qe?s.filter.updateChild(N.getNode(),de,qe,Ge,m,b):N.getNode()}}return Os(i,$,N.isFullyInitialized()||Ut(o),s.filter.filtersNodes())}}function Is(s,i,o,u,m,b,N,$){const X=i.serverCache;let de;const Ge=N?s.filter:s.filter.getIndexedFilter();if(Ut(o))de=Ge.updateFullNode(X.getNode(),u,null);else if(Ge.filtersNodes()&&!X.isFiltered()){const xt=X.getNode().updateChild(o,u);de=Ge.updateFullNode(X.getNode(),xt,null)}else{const xt=Oe(o);if(!X.isCompleteForPath(o)&&nt(o)>1)return i;const un=At(o),uo=X.getNode().getImmediateChild(xt).updateChild(un,u);de=".priority"===xt?Ge.updatePriority(X.getNode(),uo):Ge.updateChild(X.getNode(),xt,uo,un,zr,null)}const qe=os(i,de,X.isFullyInitialized()||Ut(o),Ge.filtersNodes());return Cs(s,qe,o,m,new Ls(m,qe,b),$)}function da(s,i,o,u,m,b,N){const $=i.eventCache;let X,de;const Ge=new Ls(m,i,b);if(Ut(o))de=s.filter.updateFullNode(i.eventCache.getNode(),u,N),X=Os(i,de,!0,s.filter.filtersNodes());else{const qe=Oe(o);if(".priority"===qe)de=s.filter.updatePriority(i.eventCache.getNode(),u),X=Os(i,de,$.isFullyInitialized(),$.isFiltered());else{const rt=At(o),xt=$.getNode().getImmediateChild(qe);let un;if(Ut(rt))un=u;else{const fr=Ge.getCompleteChild(qe);un=null!=fr?".priority"===nn(rt)&&fr.getChild(hi(rt)).isEmpty()?fr:fr.updateChild(rt,u):an.EMPTY_NODE}X=xt.equals(un)?i:Os(i,s.filter.updateChild($.getNode(),qe,un,rt,Ge,N),$.isFullyInitialized(),s.filter.filtersNodes())}}return X}function Ds(s,i){return s.eventCache.isCompleteForChild(i)}function $o(s,i,o){return o.foreach((u,m)=>{i=i.updateChild(u,m)}),i}function ws(s,i,o,u,m,b,N,$){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let de,X=i;de=Ut(o)?u:new S(null).setTree(o,u);const Ge=i.serverCache.getNode();return de.children.inorderTraversal((qe,rt)=>{if(Ge.hasChild(qe)){const un=$o(0,i.serverCache.getNode().getImmediateChild(qe),rt);X=Is(s,X,new ue(qe),un,m,b,N,$)}}),de.children.inorderTraversal((qe,rt)=>{const xt=!i.serverCache.isCompleteForChild(qe)&&null===rt.value;if(!Ge.hasChild(qe)&&!xt){const fr=$o(0,i.serverCache.getNode().getImmediateChild(qe),rt);X=Is(s,X,new ue(qe),fr,m,b,N,$)}}),X}class Za{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,m=new z(u.getIndex()),b=function dr(s){return s.loadsAllData()?new z(s.getIndex()):s.hasLimit()?new Gt(s):new xe(s)}(u);this.processor_=function Un(s){return{filter:s}}(b);const N=o.serverCache,$=o.eventCache,X=m.updateFullNode(an.EMPTY_NODE,N.getNode(),null),de=b.updateFullNode(an.EMPTY_NODE,$.getNode(),null),Ge=new Gr(X,N.isFullyInitialized(),m.filtersNodes()),qe=new Gr(de,$.isFullyInitialized(),b.filtersNodes());this.viewCache_=vs(qe,Ge),this.eventGenerator_=new ar(this.query_)}get query(){return this.query_}}function Ya(s,i){const o=Ao(s.viewCache_);return o&&(s.query._queryParams.loadsAllData()||!Ut(i)&&!o.getImmediateChild(Oe(i)).isEmpty())?o.getChild(i):null}function qa(s){return 0===s.eventRegistrations_.length}function Aa(s,i,o){const u=[];if(o){(0,W.hu)(null==i,"A cancel should cancel all event registrations.");const m=s.query._path;s.eventRegistrations_.forEach(b=>{const N=b.createCancelEvent(o,m);N&&u.push(N)})}if(i){let m=[];for(let b=0;b<s.eventRegistrations_.length;++b){const N=s.eventRegistrations_[b];if(N.matches(i)){if(i.hasAnyCallback()){m=m.concat(s.eventRegistrations_.slice(b+1));break}}else m.push(N)}s.eventRegistrations_=m}else s.eventRegistrations_=[];return u}function fa(s,i,o,u){i.type===pi.MERGE&&null!==i.source.queryId&&((0,W.hu)(Ao(s.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(ss(s.viewCache_),"Missing event cache, even though we have a server cache"));const m=s.viewCache_,b=function Mo(s,i,o,u,m){const b=new za;let N,$;if(o.type===pi.OVERWRITE){const de=o;de.source.fromUser?N=da(s,i,de.path,de.snap,u,m,b):((0,W.hu)(de.source.fromServer,"Unknown source."),$=de.source.tagged||i.serverCache.isFiltered()&&!Ut(de.path),N=Is(s,i,de.path,de.snap,u,m,$,b))}else if(o.type===pi.MERGE){const de=o;de.source.fromUser?N=function yl(s,i,o,u,m,b,N){let $=i;return u.foreach((X,de)=>{const Ge=zn(o,X);Ds(i,Oe(Ge))&&($=da(s,$,Ge,de,m,b,N))}),u.foreach((X,de)=>{const Ge=zn(o,X);Ds(i,Oe(Ge))||($=da(s,$,Ge,de,m,b,N))}),$}(s,i,de.path,de.children,u,m,b):((0,W.hu)(de.source.fromServer,"Unknown source."),$=de.source.tagged||i.serverCache.isFiltered(),N=ws(s,i,de.path,de.children,u,m,$,b))}else if(o.type===pi.ACK_USER_WRITE){const de=o;N=de.revert?function Ro(s,i,o,u,m,b){let N;if(null!=Rr(u,o))return i;{const $=new Ls(u,i,m),X=i.eventCache.getNode();let de;if(Ut(o)||".priority"===Oe(o)){let Ge;if(i.serverCache.isFullyInitialized())Ge=Fs(u,Ao(i));else{const qe=i.serverCache.getNode();(0,W.hu)(qe instanceof an,"serverChildren would be complete if leaf node"),Ge=Eo(u,qe)}de=s.filter.updateFullNode(X,Ge,b)}else{const Ge=Oe(o);let qe=qs(u,Ge,i.serverCache);null==qe&&i.serverCache.isCompleteForChild(Ge)&&(qe=X.getImmediateChild(Ge)),de=null!=qe?s.filter.updateChild(X,Ge,qe,At(o),$,b):i.eventCache.getNode().hasChild(Ge)?s.filter.updateChild(X,Ge,an.EMPTY_NODE,At(o),$,b):X,de.isEmpty()&&i.serverCache.isFullyInitialized()&&(N=Fs(u,Ao(i)),N.isLeafNode()&&(de=s.filter.updateFullNode(de,N,b)))}return N=i.serverCache.isFullyInitialized()||null!=Rr(u,Ce()),Os(i,de,N,s.filter.filtersNodes())}}(s,i,de.path,u,m,b):function ri(s,i,o,u,m,b,N){if(null!=Rr(m,o))return i;const $=i.serverCache.isFiltered(),X=i.serverCache;if(null!=u.value){if(Ut(o)&&X.isFullyInitialized()||X.isCompleteForPath(o))return Is(s,i,o,X.getNode().getChild(o),m,b,$,N);if(Ut(o)){let de=new S(null);return X.getNode().forEachChild(Ri,(Ge,qe)=>{de=de.set(new ue(Ge),qe)}),ws(s,i,o,de,m,b,$,N)}return i}{let de=new S(null);return u.foreach((Ge,qe)=>{const rt=zn(o,Ge);X.isCompleteForPath(rt)&&(de=de.set(Ge,X.getNode().getChild(rt)))}),ws(s,i,o,de,m,b,$,N)}}(s,i,de.path,de.affectedTree,u,m,b)}else{if(o.type!==pi.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+o.type);N=function Us(s,i,o,u,m){const b=i.serverCache;return Cs(s,os(i,b.getNode(),b.isFullyInitialized()||Ut(o),b.isFiltered()),o,u,zr,m)}(s,i,o.path,u,b)}const X=b.getChanges();return function Vs(s,i,o){const u=i.eventCache;if(u.isFullyInitialized()){const m=u.getNode().isLeafNode()||u.getNode().isEmpty(),b=ss(s);(o.length>0||!s.eventCache.isFullyInitialized()||m&&!u.getNode().equals(b)||!u.getNode().getPriority().equals(b.getPriority()))&&o.push(ms(ss(i)))}}(i,N,X),{viewCache:N,changes:X}}(s.processor_,m,i,o,u);return function Ka(s,i){(0,W.hu)(i.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(i.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}(s.processor_,b.viewCache),(0,W.hu)(b.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=b.viewCache,Qs(s,b.changes,b.viewCache.eventCache.getNode(),null)}function Qs(s,i,o,u){return function Ks(s,i,o,u){const m=[],b=[];return i.forEach(N=>{"child_changed"===N.type&&s.index_.indexedValueChanged(N.oldSnap,N.snapshotNode)&&b.push(function R(s,i){return{type:"child_moved",snapshotNode:i,childName:s}}(N.childName,N.snapshotNode))}),io(s,m,"child_removed",i,u,o),io(s,m,"child_added",i,u,o),io(s,m,"child_moved",b,u,o),io(s,m,"child_changed",i,u,o),io(s,m,"value",i,u,o),m}(s.eventGenerator_,i,o,u?[u]:s.eventRegistrations_)}let Js,Bs;class vl{constructor(){this.views=new Map}}function Ma(s,i,o,u){const m=i.source.queryId;if(null!==m){const b=s.views.get(m);return(0,W.hu)(null!=b,"SyncTree gave us an op for an invalid query."),fa(b,i,o,u)}{let b=[];for(const N of s.views.values())b=b.concat(fa(N,i,o,u));return b}}function Kr(s,i,o,u,m){const N=s.views.get(i._queryIdentifier);if(!N){let $=Fs(o,m?u:null),X=!1;$?X=!0:u instanceof an?($=Eo(o,u),X=!1):($=an.EMPTY_NODE,X=!1);const de=vs(new Gr($,X,!1),new Gr(u,m,!1));return new Za(i,de)}return N}function Ra(s){const i=[];for(const o of s.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function Vr(s,i){let o=null;for(const u of s.views.values())o=o||Ya(u,i);return o}function Po(s,i){return i._queryParams.loadsAllData()?Oo(s):s.views.get(i._queryIdentifier)}function Xs(s,i){return null!=Po(s,i)}function Yi(s){return null!=Oo(s)}function Oo(s){for(const i of s.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Pa=1;class Ci{constructor(i){this.listenProvider_=i,this.syncPointTree_=new S(null),this.pendingWriteTree_=function Ll(){return{visibleWrites:H.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Go(s,i,o,u,m){return function Ki(s,i,o,u,m){(0,W.hu)(u>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),s.allWrites.push({path:i,snap:o,writeId:u,visible:m}),m&&(s.visibleWrites=ie(s.visibleWrites,i,o)),s.lastWriteId=u}(s.pendingWriteTree_,i,o,u,m),m?mn(s,new zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function g(s,i,o=!1){const u=function vo(s,i){for(let o=0;o<s.allWrites.length;o++){const u=s.allWrites[o];if(u.writeId===i)return u}return null}(s.pendingWriteTree_,i);if(function ei(s,i){const o=s.allWrites.findIndex($=>$.writeId===i);(0,W.hu)(o>=0,"removeWrite called with nonexistent writeId.");const u=s.allWrites[o];s.allWrites.splice(o,1);let m=u.visible,b=!1,N=s.allWrites.length-1;for(;m&&N>=0;){const $=s.allWrites[N];$.visible&&(N>=o&&Ei($,u.path)?m=!1:gr(u.path,$.path)&&(b=!0)),N--}return!!m&&(b?(function Oi(s){s.visibleWrites=Ns(s.allWrites,di,Ce()),s.lastWriteId=s.allWrites.length>0?s.allWrites[s.allWrites.length-1].writeId:-1}(s),!0):(u.snap?s.visibleWrites=Je(s.visibleWrites,u.path):On(u.children,X=>{s.visibleWrites=Je(s.visibleWrites,zn(u.path,X))}),!0))}(s.pendingWriteTree_,i)){let b=new S(null);return null!=u.snap?b=b.set(Ce(),!0):On(u.children,N=>{b=b.set(new ue(N),!0)}),mn(s,new is(u.path,b,o))}return[]}function y(s,i,o){return mn(s,new zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function U(s,i,o,u,m=!1){const b=i._path,N=s.syncPointTree_.get(b);let $=[];if(N&&("default"===i._queryIdentifier||Xs(N,i))){const X=function Wo(s,i,o,u){const m=i._queryIdentifier,b=[];let N=[];const $=Yi(s);if("default"===m)for(const[X,de]of s.views.entries())N=N.concat(Aa(de,o,u)),qa(de)&&(s.views.delete(X),de.query._queryParams.loadsAllData()||b.push(de.query));else{const X=s.views.get(m);X&&(N=N.concat(Aa(X,o,u)),qa(X)&&(s.views.delete(m),X.query._queryParams.loadsAllData()||b.push(X.query)))}return $&&!Yi(s)&&b.push(new(function as(){return(0,W.hu)(Js,"Reference.ts has not been loaded"),Js}())(i._repo,i._path)),{removed:b,events:N}}(N,i,o,u);(function Ul(s){return 0===s.views.size})(N)&&(s.syncPointTree_=s.syncPointTree_.remove(b));const de=X.removed;if($=X.events,!m){const Ge=-1!==de.findIndex(rt=>rt._queryParams.loadsAllData()),qe=s.syncPointTree_.findOnPath(b,(rt,xt)=>Yi(xt));if(Ge&&!qe){const rt=s.syncPointTree_.subtree(b);if(!rt.isEmpty()){const xt=function Bl(s){return s.fold((i,o,u)=>{if(o&&Yi(o))return[Oo(o)];{let m=[];return o&&(m=Ra(o)),On(u,(b,N)=>{m=m.concat(N)}),m}})}(rt);for(let un=0;un<xt.length;++un){const fr=xt[un],uo=fr.query,Da=oo(s,fr);s.listenProvider_.startListening(zo(uo),so(s,uo),Da.hashFn,Da.onComplete)}}}!qe&&de.length>0&&!u&&(Ge?s.listenProvider_.stopListening(zo(i),null):de.forEach(rt=>{const xt=s.queryToTagMap.get(Pr(rt));s.listenProvider_.stopListening(zo(rt),xt)}))}!function Ja(s,i){for(let o=0;o<i.length;++o){const u=i[o];if(!u._queryParams.loadsAllData()){const m=Pr(u),b=s.queryToTagMap.get(m);s.queryToTagMap.delete(m),s.tagToQueryMap.delete(b)}}}(s,de)}return $}function Z(s,i,o,u){const m=ma(s,u);if(null!=m){const b=na(m),N=b.path,$=b.queryId,X=Er(N,i);return bs(s,N,new zi(yo($),X,o))}return[]}function Ke(s,i,o,u=!1){const m=i._path;let b=null,N=!1;s.syncPointTree_.foreachOnPath(m,(rt,xt)=>{const un=Er(rt,m);b=b||Vr(xt,un),N=N||Yi(xt)});let X,$=s.syncPointTree_.get(m);$?(N=N||Yi($),b=b||Vr($,Ce())):($=new vl,s.syncPointTree_=s.syncPointTree_.set(m,$)),null!=b?X=!0:(X=!1,b=an.EMPTY_NODE,s.syncPointTree_.subtree(m).foreachChild((xt,un)=>{const fr=Vr(un,Ce());fr&&(b=b.updateImmediateChild(xt,fr))}));const de=Xs($,i);if(!de&&!i._queryParams.loadsAllData()){const rt=Pr(i);(0,W.hu)(!s.queryToTagMap.has(rt),"View does not exist, but we have a tag");const xt=function ql(){return Pa++}();s.queryToTagMap.set(rt,xt),s.tagToQueryMap.set(xt,rt)}let qe=function pa(s,i,o,u,m,b){const N=Kr(s,i,u,m,b);return s.views.has(i._queryIdentifier)||s.views.set(i._queryIdentifier,N),function _r(s,i){s.eventRegistrations_.push(i)}(N,o),function Qa(s,i){const o=s.viewCache_.eventCache,u=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(Kn,(b,N)=>{u.push(Vo(b,N))}),o.isFullyInitialized()&&u.push(ms(o.getNode())),Qs(s,u,o.getNode(),i)}(N,o)}($,i,o,xr(s.pendingWriteTree_,m),b,X);if(!de&&!N&&!u){const rt=Po($,i);qe=qe.concat(function Ql(s,i,o){const u=i._path,m=so(s,i),b=oo(s,o),N=s.listenProvider_.startListening(zo(i),m,b.hashFn,b.onComplete),$=s.syncPointTree_.subtree(u);if(m)(0,W.hu)(!Yi($.value),"If we're adding a query, it shouldn't be shadowed");else{const X=$.fold((de,Ge,qe)=>{if(!Ut(de)&&Ge&&Yi(Ge))return[Oo(Ge).query];{let rt=[];return Ge&&(rt=rt.concat(Ra(Ge).map(xt=>xt.query))),On(qe,(xt,un)=>{rt=rt.concat(un)}),rt}});for(let de=0;de<X.length;++de){const Ge=X[de];s.listenProvider_.stopListening(zo(Ge),so(s,Ge))}}return N}(s,i,rt))}return qe}function It(s,i,o){const m=s.pendingWriteTree_,b=s.syncPointTree_.findOnPath(i,(N,$)=>{const de=Vr($,Er(N,i));if(de)return de});return Ys(m,i,b,o,!0)}function mn(s,i){return Zr(i,s.syncPointTree_,null,xr(s.pendingWriteTree_,Ce()))}function Zr(s,i,o,u){if(Ut(s.path))return xi(s,i,o,u);{const m=i.get(Ce());null==o&&null!=m&&(o=Vr(m,Ce()));let b=[];const N=Oe(s.path),$=s.operationForChild(N),X=i.children.get(N);if(X&&$){const de=o?o.getImmediateChild(N):null,Ge=Sa(u,N);b=b.concat(Zr($,X,de,Ge))}return m&&(b=b.concat(Ma(m,s,u,o))),b}}function xi(s,i,o,u){const m=i.get(Ce());null==o&&null!=m&&(o=Vr(m,Ce()));let b=[];return i.children.inorderTraversal((N,$)=>{const X=o?o.getImmediateChild(N):null,de=Sa(u,N),Ge=s.operationForChild(N);Ge&&(b=b.concat(xi(Ge,$,X,de)))}),m&&(b=b.concat(Ma(m,s,u,o))),b}function oo(s,i){const o=i.query,u=so(s,o);return{hashFn:()=>(function ha(s){return s.viewCache_.serverCache.getNode()}(i)||an.EMPTY_NODE).hash(),onComplete:m=>{if("ok"===m)return u?function O(s,i,o){const u=ma(s,o);if(u){const m=na(u),b=m.path,N=m.queryId,$=Er(b,i);return bs(s,b,new So(yo(N),$))}return[]}(s,o._path,u):function I(s,i){return mn(s,new So({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(s,o._path);{const b=function Lt(s,i){let o="Unknown Error";"too_big"===s?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===s?o="Client doesn't have permission to access the desired data.":"unavailable"===s&&(o="The service is unavailable");const u=new Error(s+" at "+i._path.toString()+": "+o);return u.code=s.toUpperCase(),u}(m,o);return U(s,o,null,b)}}}}function so(s,i){const o=Pr(i);return s.queryToTagMap.get(o)}function Pr(s){return s._path.toString()+"$"+s._queryIdentifier}function ma(s,i){return s.tagToQueryMap.get(i)}function na(s){const i=s.indexOf("$");return(0,W.hu)(-1!==i&&i<s.length-1,"Bad queryKey."),{queryId:s.substr(i+1),path:new ue(s.substr(0,i))}}function bs(s,i,o){const u=s.syncPointTree_.get(i);return(0,W.hu)(u,"Missing sync point for query tag that we're tracking"),Ma(u,o,xr(s.pendingWriteTree_,i),null)}function zo(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(function ea(){return(0,W.hu)(Bs,"Reference.ts has not been loaded"),Bs}())(s._repo,s._path):s}class Xa{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Xa(o)}node(){return this.node_}}class el{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=zn(this.path_,i);return new el(this.syncTree_,o)}node(){return It(this.syncTree_,this.path_)}}const Jl=function(s){return(s=s||{}).timestamp=s.timestamp||(new Date).getTime(),s},tl=function(s,i,o){return s&&"object"==typeof s?((0,W.hu)(".sv"in s,"Unexpected leaf node or priority contents"),"string"==typeof s[".sv"]?Xl(s[".sv"],i,o):"object"==typeof s[".sv"]?eu(s[".sv"],i):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2))):s},Xl=function(s,i,o){if("timestamp"===s)return o.timestamp;(0,W.hu)(!1,"Unexpected server value: "+s)},eu=function(s,i,o){s.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const u=s.increment;"number"!=typeof u&&(0,W.hu)(!1,"Unexpected increment value: "+u);const m=i.node();if((0,W.hu)(null!==m&&typeof m<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return u;const N=m.getValue();return"number"!=typeof N?u:N+u},ra=function(s,i,o,u){return El(i,new el(o,s),u)},nl=function(s,i,o){return El(s,new Xa(i),o)};function El(s,i,o){const u=s.getPriority().val(),m=tl(u,i.getImmediateChild(".priority"),o);let b;if(s.isLeafNode()){const N=s,$=tl(N.getValue(),i,o);return $!==N.getValue()||m!==N.getPriority().val()?new li($,cr(m)):s}{const N=s;return b=N,m!==N.getPriority().val()&&(b=b.updatePriority(new li(m))),N.forEachChild(Kn,($,X)=>{const de=El(X,i.getImmediateChild($),o);de!==X&&(b=b.updateImmediateChild($,de))}),b}}class Oa{constructor(i="",o=null,u={children:{},childCount:0}){this.name=i,this.parent=o,this.node=u}}function Cl(s,i){let o=i instanceof ue?i:new ue(i),u=s,m=Oe(o);for(;null!==m;){const b=(0,W.DV)(u.node.children,m)||{children:{},childCount:0};u=new Oa(m,u,b),o=At(o),m=Oe(o)}return u}function ls(s){return s.node.value}function rl(s,i){s.node.value=i,Na(s)}function il(s){return s.node.childCount>0}function us(s,i){On(s.node.children,(o,u)=>{i(new Oa(o,s,u))})}function Il(s,i,o,u){o&&!u&&i(s),us(s,m=>{Il(m,i,!0,u)}),o&&u&&i(s)}function cs(s){return new ue(null===s.parent?s.name:cs(s.parent)+"/"+s.name)}function Na(s){null!==s.parent&&function jl(s,i,o){const u=function Hl(s){return void 0===ls(s)&&!il(s)}(o),m=(0,W.r3)(s.node.children,i);u&&m?(delete s.node.children[i],s.node.childCount--,Na(s)):!u&&!m&&(s.node.children[i]=o.node,s.node.childCount++,Na(s))}(s.parent,s.name,s)}const wl=/[\[\].#$\/\u0000-\u001F\u007F]/,tu=/[\[\].#$\u0000-\u001F\u007F]/,nu=10485760,bl=function(s){return"string"==typeof s&&0!==s.length&&!wl.test(s)},Tl=function(s){return"string"==typeof s&&0!==s.length&&!tu.test(s)},Ko=function(s){return null===s||"string"==typeof s||"number"==typeof s&&!Ct(s)||s&&"object"==typeof s&&(0,W.r3)(s,".sv")},No=function(s,i,o,u){u&&void 0===i||ia((0,W.gK)(s,"value"),i,o)},ia=function(s,i,o){const u=o instanceof ue?new qo(o,s):o;if(void 0===i)throw new Error(s+"contains undefined "+Bi(u));if("function"==typeof i)throw new Error(s+"contains a function "+Bi(u)+" with contents = "+i.toString());if(Ct(i))throw new Error(s+"contains "+i.toString()+" "+Bi(u));if("string"==typeof i&&i.length>nu/3&&(0,W.ug)(i)>nu)throw new Error(s+"contains a string greater than "+nu+" utf8 bytes "+Bi(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let m=!1,b=!1;if(On(i,(N,$)=>{if(".value"===N)m=!0;else if(".priority"!==N&&".sv"!==N&&(b=!0,!bl(N)))throw new Error(s+" contains an invalid key ("+N+") "+Bi(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Si(s,i){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(i),s.byteLength_+=(0,W.ug)(i),Qo(s)})(u,N),ia(s,$,u),function Ui(s){const i=s.parts_.pop();s.byteLength_-=(0,W.ug)(i),s.parts_.length>0&&(s.byteLength_-=1)}(u)}),m&&b)throw new Error(s+' contains ".value" child '+Bi(u)+" in addition to actual children.")}},Zo=function(s,i,o,u){if(u&&void 0===i)return;const m=(0,W.gK)(s,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(m+" must be an object containing the children to replace.");const b=[];On(i,(N,$)=>{const X=new ue(N);if(ia(m,$,zn(o,X)),".priority"===nn(X)&&!Ko($))throw new Error(m+"contains an invalid value for '"+X.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");b.push(X)}),function(s,i){let o,u;for(o=0;o<i.length;o++){u=i[o];const b=Dn(u);for(let N=0;N<b.length;N++)if((".priority"!==b[N]||N!==b.length-1)&&!bl(b[N]))throw new Error(s+"contains an invalid key ("+b[N]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(wo);let m=null;for(o=0;o<i.length;o++){if(u=i[o],null!==m&&gr(m,u))throw new Error(s+"contains a path "+m.toString()+" that is ancestor of another path "+u.toString());m=u}}(m,b)},Sl=function(s,i,o){if(!o||void 0!==i){if(Ct(i))throw new Error((0,W.gK)(s,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ko(i))throw new Error((0,W.gK)(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yo=function(s,i,o,u){if(!(u&&void 0===o||bl(o)))throw new Error((0,W.gK)(s,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ka=function(s,i,o,u){if(!(u&&void 0===o||Tl(o)))throw new Error((0,W.gK)(s,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$l=function(s,i,o,u){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),ka(s,i,o,u)},Co=function(s,i){if(".info"===Oe(i))throw new Error(s+" failed = Can't modify data under /.info/")},Wl=function(s,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!bl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Tl(s)}(o))throw new Error((0,W.gK)(s,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ru{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ol(s,i){let o=null;for(let u=0;u<i.length;u++){const m=i[u],b=m.getPath();null!==o&&!Lo(b,o.path)&&(s.eventLists_.push(o),o=null),null===o&&(o={events:[],path:b}),o.events.push(m)}o&&s.eventLists_.push(o)}function v(s,i,o){ol(s,o),k(s,u=>Lo(u,i))}function T(s,i,o){ol(s,o),k(s,u=>gr(u,i)||gr(i,u))}function k(s,i){s.recursionDepth_++;let o=!0;for(let u=0;u<s.eventLists_.length;u++){const m=s.eventLists_[u];m&&(i(m.path)?(J(s.eventLists_[u]),s.eventLists_[u]=null):o=!1)}o&&(s.eventLists_=[]),s.recursionDepth_--}function J(s){for(let i=0;i<s.events.length;i++){const o=s.events[i];if(null!==o){s.events[i]=null;const u=o.getEventRunner();_t&&mt("event: "+o.toString()),Hn(u)}}}const ge="repo_interrupt",Me=25;class Le{constructor(i,o,u,m){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=u,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ru,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ro(),this.transactionQueueTree_=new Oa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wt(s){const o=s.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function Wt(s){return Jl({timestamp:wt(s)})}function _n(s,i,o,u,m){s.dataUpdateCount++;const b=new ue(i);o=s.interceptServerDataCallback_?s.interceptServerDataCallback_(i,o):o;let N=[];if(m)if(u){const X=(0,W.UI)(o,de=>cr(de));N=function Te(s,i,o,u){const m=ma(s,u);if(m){const b=na(m),N=b.path,$=b.queryId,X=Er(N,i),de=S.fromObject(o);return bs(s,N,new Dr(yo($),X,de))}return[]}(s.serverSyncTree_,b,X,m)}else{const X=cr(o);N=Z(s.serverSyncTree_,b,X,m)}else if(u){const X=(0,W.UI)(o,de=>cr(de));N=function f(s,i,o){const u=S.fromObject(o);return mn(s,new Dr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(s.serverSyncTree_,b,X)}else{const X=cr(o);N=y(s.serverSyncTree_,b,X)}let $=b;N.length>0&&($=al(s,b)),T(s.eventQueue_,$,N)}function yn(s,i){Yr(s,"connected",i),!1===i&&function hs(s){Ts(s,"onDisconnectEvents");const i=Wt(s),o=ro();Ir(s.onDisconnect_,Ce(),(m,b)=>{const N=ra(m,b,s.serverSyncTree_,i);Uo(o,m,N)});let u=[];Ir(o,Ce(),(m,b)=>{u=u.concat(y(s.serverSyncTree_,m,b));const N=V(s,m);al(s,N)}),s.onDisconnect_=ro(),T(s.eventQueue_,Ce(),u)}(s)}function Yr(s,i,o){const u=new ue("/.info/"+i),m=cr(o);s.infoData_.updateSnapshot(u,m);const b=y(s.infoSyncTree_,u,m);T(s.eventQueue_,u,b)}function oa(s){return s.nextWriteId_++}function sa(s,i,o,u,m){Ts(s,"set",{path:i.toString(),value:o,priority:u});const b=Wt(s),N=cr(o,u),$=It(s.serverSyncTree_,i),X=nl(N,$,b),de=oa(s),Ge=Go(s.serverSyncTree_,i,X,de,!0);ol(s.eventQueue_,Ge),s.server_.put(i.toString(),N.val(!0),(rt,xt)=>{const un="ok"===rt;un||$t("set at "+i+" failed: "+rt);const fr=g(s.serverSyncTree_,de,!un);T(s.eventQueue_,i,fr),Hs(0,m,rt,xt)});const qe=V(s,i);al(s,qe),T(s.eventQueue_,qe,[])}function ya(s,i,o){s.server_.onDisconnectCancel(i.toString(),(u,m)=>{"ok"===u&&ua(s.onDisconnect_,i),Hs(0,o,u,m)})}function Du(s,i,o,u){const m=cr(o);s.server_.onDisconnectPut(i.toString(),m.val(!0),(b,N)=>{"ok"===b&&Uo(s.onDisconnect_,i,m),Hs(0,u,b,N)})}function va(s,i,o){let u;u=".info"===Oe(i._path)?U(s.infoSyncTree_,i,o):U(s.serverSyncTree_,i,o),v(s.eventQueue_,i._path,u)}function Al(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ge)}function Ts(s,...i){let o="";s.persistentConnection_&&(o=s.persistentConnection_.id+":"),mt(o,...i)}function Hs(s,i,o,u){i&&Hn(()=>{if("ok"===o)i(null);else{const m=(o||"error").toUpperCase();let b=m;u&&(b+=": "+u);const N=new Error(b);N.code=m,i(N)}})}function su(s,i,o){return It(s.serverSyncTree_,i,o)||an.EMPTY_NODE}function sl(s,i=s.transactionQueueTree_){if(i||E(s,i),ls(i)){const o=l(s,i);(0,W.hu)(o.length>0,"Sending zero length transaction queue"),o.every(m=>0===m.status)&&function Tu(s,i,o){const u=o.map(de=>de.currentWriteId),m=su(s,i,u);let b=m;const N=m.hash();for(let de=0;de<o.length;de++){const Ge=o[de];(0,W.hu)(0===Ge.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ge.status=1,Ge.retryCount++;const qe=Er(i,Ge.path);b=b.updateChild(qe,Ge.currentOutputSnapshotRaw)}const $=b.val(!0),X=i;s.server_.put(X.toString(),$,de=>{Ts(s,"transaction put response",{path:X.toString(),status:de});let Ge=[];if("ok"===de){const qe=[];for(let rt=0;rt<o.length;rt++)o[rt].status=2,Ge=Ge.concat(g(s.serverSyncTree_,o[rt].currentWriteId)),o[rt].onComplete&&qe.push(()=>o[rt].onComplete(null,!0,o[rt].currentOutputSnapshotResolved)),o[rt].unwatcher();E(s,Cl(s.transactionQueueTree_,i)),sl(s,s.transactionQueueTree_),T(s.eventQueue_,i,Ge);for(let rt=0;rt<qe.length;rt++)Hn(qe[rt])}else{if("datastale"===de)for(let qe=0;qe<o.length;qe++)o[qe].status=3===o[qe].status?4:0;else{$t("transaction at "+X.toString()+" failed: "+de);for(let qe=0;qe<o.length;qe++)o[qe].status=4,o[qe].abortReason=de}al(s,i)}},N)}(s,cs(i),o)}else il(i)&&us(i,o=>{sl(s,o)})}function al(s,i){const o=_(s,i),u=cs(o);return function Fc(s,i,o){if(0===i.length)return;const u=[];let m=[];const N=i.filter($=>0===$.status).map($=>$.currentWriteId);for(let $=0;$<i.length;$++){const X=i[$],de=Er(o,X.path);let qe,Ge=!1;if((0,W.hu)(null!==de,"rerunTransactionsUnderNode_: relativePath should not be null."),4===X.status)Ge=!0,qe=X.abortReason,m=m.concat(g(s.serverSyncTree_,X.currentWriteId,!0));else if(0===X.status)if(X.retryCount>=Me)Ge=!0,qe="maxretry",m=m.concat(g(s.serverSyncTree_,X.currentWriteId,!0));else{const rt=su(s,X.path,N);X.currentInputSnapshot=rt;const xt=i[$].update(rt.val());if(void 0!==xt){ia("transaction failed: Data returned ",xt,X.path);let un=cr(xt);"object"==typeof xt&&null!=xt&&(0,W.r3)(xt,".priority")||(un=un.updatePriority(rt.getPriority()));const uo=X.currentWriteId,Da=Wt(s),Va=nl(un,rt,Da);X.currentOutputSnapshotRaw=un,X.currentOutputSnapshotResolved=Va,X.currentWriteId=oa(s),N.splice(N.indexOf(uo),1),m=m.concat(Go(s.serverSyncTree_,X.path,Va,X.currentWriteId,X.applyLocally)),m=m.concat(g(s.serverSyncTree_,uo,!0))}else Ge=!0,qe="nodata",m=m.concat(g(s.serverSyncTree_,X.currentWriteId,!0))}T(s.eventQueue_,o,m),m=[],Ge&&(i[$].status=2,setTimeout(i[$].unwatcher,Math.floor(0)),i[$].onComplete&&u.push("nodata"===qe?()=>i[$].onComplete(null,!1,i[$].currentInputSnapshot):()=>i[$].onComplete(new Error(qe),!1,null)))}E(s,s.transactionQueueTree_);for(let $=0;$<u.length;$++)Hn(u[$]);sl(s,s.transactionQueueTree_)}(s,l(s,o),u),u}function _(s,i){let o,u=s.transactionQueueTree_;for(o=Oe(i);null!==o&&void 0===ls(u);)u=Cl(u,o),o=Oe(i=At(i));return u}function l(s,i){const o=[];return h(s,i,o),o.sort((u,m)=>u.order-m.order),o}function h(s,i,o){const u=ls(i);if(u)for(let m=0;m<u.length;m++)o.push(u[m]);us(i,m=>{h(s,m,o)})}function E(s,i){const o=ls(i);if(o){let u=0;for(let m=0;m<o.length;m++)2!==o[m].status&&(o[u]=o[m],u++);o.length=u,rl(i,o.length>0?o:void 0)}us(i,u=>{E(s,u)})}function V(s,i){const o=cs(_(s,i)),u=Cl(s.transactionQueueTree_,i);return function Dl(s,i,o){let u=o?s:s.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,m=>{Y(s,m)}),Y(s,u),Il(u,m=>{Y(s,m)}),o}function Y(s,i){const o=ls(i);if(o){const u=[];let m=[],b=-1;for(let N=0;N<o.length;N++)3===o[N].status||(1===o[N].status?((0,W.hu)(b===N-1,"All SENT items should be at beginning of queue."),b=N,o[N].status=3,o[N].abortReason="set"):((0,W.hu)(0===o[N].status,"Unexpected transaction status in abort"),o[N].unwatcher(),m=m.concat(g(s.serverSyncTree_,o[N].currentWriteId,!0)),o[N].onComplete&&u.push(o[N].onComplete.bind(null,new Error("set"),!1,null))));-1===b?rl(i,void 0):o.length=b+1,T(s.eventQueue_,cs(i),m);for(let N=0;N<u.length;N++)Hn(u[N])}}const yt=function(s,i){const o=Nt(s),u=o.namespace;return"firebase.com"===o.domain&&An(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==o.domain&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new q(o.host,o.secure,u,"ws"===o.scheme||"wss"===o.scheme,i,"",u!==o.subdomain),path:new ue(o.pathString)}},Nt=function(s){let i="",o="",u="",m="",b="",N=!0,$="https",X=443;if("string"==typeof s){let de=s.indexOf("//");de>=0&&($=s.substring(0,de-1),s=s.substring(de+2));let Ge=s.indexOf("/");-1===Ge&&(Ge=s.length);let qe=s.indexOf("?");-1===qe&&(qe=s.length),i=s.substring(0,Math.min(Ge,qe)),Ge<qe&&(m=function be(s){let i="";const o=s.split("/");for(let u=0;u<o.length;u++)if(o[u].length>0){let m=o[u];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch{}i+="/"+m}return i}(s.substring(Ge,qe)));const rt=function $e(s){const i={};"?"===s.charAt(0)&&(s=s.substring(1));for(const o of s.split("&")){if(0===o.length)continue;const u=o.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):$t(`Invalid query segment '${o}' in query '${s}'`)}return i}(s.substring(Math.min(s.length,qe)));de=i.indexOf(":"),de>=0?(N="https"===$||"wss"===$,X=parseInt(i.substring(de+1),10)):de=i.length;const xt=i.slice(0,de);if("localhost"===xt.toLowerCase())o="localhost";else if(xt.split(".").length<=2)o=xt;else{const un=i.indexOf(".");u=i.substring(0,un).toLowerCase(),o=i.substring(un+1),b=u}"ns"in rt&&(b=rt.ns)}return{host:i,port:X,domain:o,subdomain:u,secure:N,scheme:$,pathString:m,namespace:b}},qt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xn=function(){let s=0;const i=[];return function(o){const u=o===s;let m;s=o;const b=new Array(8);for(m=7;m>=0;m--)b[m]=qt.charAt(o%64),o=Math.floor(o/64);(0,W.hu)(0===o,"Cannot push at time == 0");let N=b.join("");if(u){for(m=11;m>=0&&63===i[m];m--)i[m]=0;i[m]++}else for(m=0;m<12;m++)i[m]=Math.floor(64*Math.random());for(m=0;m<12;m++)N+=qt.charAt(i[m]);return(0,W.hu)(20===N.length,"nextPushId: Length should be 20."),N}}();class lo{constructor(i,o,u,m){this.eventType=i,this.eventRegistration=o,this.snapshot=u,this.prevName=m}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Wl)(this.snapshot.exportVal())}}class js{constructor(i,o,u){this.eventRegistration=i,this.error=o,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ll{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Su{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new W.BH;return ya(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Co("OnDisconnect.remove",this._path);const i=new W.BH;return Du(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Co("OnDisconnect.set",this._path),No("OnDisconnect.set",i,this._path,!1);const o=new W.BH;return Du(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){Co("OnDisconnect.setWithPriority",this._path),No("OnDisconnect.setWithPriority",i,this._path,!1),Sl("OnDisconnect.setWithPriority",o,!1);const u=new W.BH;return function Gl(s,i,o,u,m){const b=cr(o,u);s.server_.onDisconnectPut(i.toString(),b.val(!0),(N,$)=>{"ok"===N&&Uo(s.onDisconnect_,i,b),Hs(0,m,N,$)})}(this._repo,this._path,i,o,u.wrapCallback(()=>{})),u.promise}update(i){Co("OnDisconnect.update",this._path),Zo("OnDisconnect.update",i,this._path,!1);const o=new W.BH;return function iu(s,i,o,u){if((0,W.xb)(o))return mt("onDisconnect().update() called with empty data.  Don't do anything."),void Hs(0,u,"ok",void 0);s.server_.onDisconnectMerge(i.toString(),o,(m,b)=>{"ok"===m&&On(o,(N,$)=>{const X=cr($);Uo(s.onDisconnect_,zn(i,N),X)}),Hs(0,u,m,b)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class Ii{constructor(i,o,u,m){this._repo=i,this._path=o,this._queryParams=u,this._orderByCalled=m}get key(){return Ut(this._path)?null:nn(this._path)}get ref(){return new ko(this._repo,this._path)}get _queryIdentifier(){const i=no(this._queryParams),o=Xn(i);return"{}"===o?"default":o}get _queryObject(){return no(this._queryParams)}isEqual(i){if(!((i=(0,W.m9)(i))instanceof Ii))return!1;const o=this._repo===i._repo,u=Lo(this._path,i._path);return o&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fn(s){let i="";for(let o=s.pieceNum_;o<s.pieces_.length;o++)""!==s.pieces_[o]&&(i+="/"+encodeURIComponent(String(s.pieces_[o])));return i||"/"}(this._path)}}function Ml(s,i){if(!0===s._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function $s(s){let i=null,o=null;if(s.hasStart()&&(i=s.getIndexStartValue()),s.hasEnd()&&(o=s.getIndexEndValue()),s.getIndex()===Ri){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",m="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==en)throw new Error(u);if("string"!=typeof i)throw new Error(m)}if(s.hasEnd()){if(s.getIndexEndName()!==Jt)throw new Error(u);if("string"!=typeof o)throw new Error(m)}}else if(s.getIndex()===Kn){if(null!=i&&!Ko(i)||null!=o&&!Ko(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(s.getIndex()instanceof ts||s.getIndex()===go,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fa(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ko extends Ii{constructor(i,o){super(i,o,new $n,!1)}get parent(){const i=hi(this._path);return null===i?null:new ko(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Ws{constructor(i,o,u){this._node=i,this.ref=o,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new ue(i),u=Gs(this.ref,i);return new Ws(this._node.getChild(o),u,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,m)=>i(new Ws(m,Gs(this.ref,u),Kn)))}hasChild(i){const o=new ue(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rl(s,i){return(s=(0,W.m9)(s))._checkNotDeleted("ref"),void 0!==i?Gs(s._root,i):s._root}function ul(s,i){(s=(0,W.m9)(s))._checkNotDeleted("refFromURL");const o=yt(i,s._repo.repoInfo_.nodeAdmin);Wl("refFromURL",o);const u=o.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&u.host!==s._repo.repoInfo_.host&&An("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+s._repo.repoInfo_.host+")"),Rl(s,o.path.toString())}function Gs(s,i){return null===Oe((s=(0,W.m9)(s))._path)?$l("child","path",i,!1):ka("child","path",i,!1),new ko(s._repo,zn(s._path,i))}function uu(s,i){s=(0,W.m9)(s),Co("set",s._path),No("set",i,s._path,!1);const o=new W.BH;return sa(s._repo,s._path,i,null,o.wrapCallback(()=>{})),o.promise}function Lc(s,i){Zo("update",i,s._path,!1);const o=new W.BH;return function xo(s,i,o,u){Ts(s,"update",{path:i.toString(),value:o});let m=!0;const b=Wt(s),N={};if(On(o,($,X)=>{m=!1,N[$]=ra(zn(i,$),cr(X),s.serverSyncTree_,b)}),m)mt("update() called with empty data.  Don't do anything."),Hs(0,u,"ok",void 0);else{const $=oa(s),X=function ta(s,i,o,u){!function vi(s,i,o,u){(0,W.hu)(u>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:i,children:o,writeId:u,visible:!0}),s.visibleWrites=Ue(s.visibleWrites,i,o),s.lastWriteId=u}(s.pendingWriteTree_,i,o,u);const m=S.fromObject(o);return mn(s,new Dr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,m))}(s.serverSyncTree_,i,N,$);ol(s.eventQueue_,X),s.server_.merge(i.toString(),o,(de,Ge)=>{const qe="ok"===de;qe||$t("update at "+i+" failed: "+de);const rt=g(s.serverSyncTree_,$,!qe),xt=rt.length>0?al(s,i):i;T(s.eventQueue_,xt,rt),Hs(0,u,de,Ge)}),On(o,de=>{const Ge=V(s,zn(i,de));al(s,Ge)}),T(s.eventQueue_,i,[])}}(s._repo,s._path,i,o.wrapCallback(()=>{})),o.promise}function Vd(s){s=(0,W.m9)(s);const i=new ll(()=>{}),o=new du(i);return function _a(s,i,o){const u=function Pt(s,i){const o=i._path;let u=null;s.syncPointTree_.foreachOnPath(o,(de,Ge)=>{const qe=Er(de,o);u=u||Vr(Ge,qe)});let m=s.syncPointTree_.get(o);m?u=u||Vr(m,Ce()):(m=new vl,s.syncPointTree_=s.syncPointTree_.set(o,m));const b=null!=u,N=b?new Gr(u,!0,!1):null;return function Ni(s){return ss(s.viewCache_)}(Kr(m,i,xr(s.pendingWriteTree_,i._path),b?N.getNode():an.EMPTY_NODE,b))}(s.serverSyncTree_,i);return null!=u?Promise.resolve(u):s.server_.get(i).then(m=>{const b=cr(m).withIndex(i._queryParams.getIndex());let N;if(Ke(s.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())N=y(s.serverSyncTree_,i._path,b);else{const $=so(s.serverSyncTree_,i);N=Z(s.serverSyncTree_,i._path,b,$)}return T(s.eventQueue_,i._path,N),U(s.serverSyncTree_,i,o,null,!0),b},m=>(Ts(s,"get for query "+(0,W.Wl)(i)+" failed: "+m),Promise.reject(new Error(m))))}(s._repo,s,o).then(u=>new Ws(u,new ko(s._repo,s._path),s._queryParams.getIndex()))}class du{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const u=o._queryParams.getIndex();return new lo("value",this,new Ws(i.snapshotNode,new ko(o._repo,o._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new js(this,i,o):null}matches(i){return i instanceof du&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Au{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new js(this,i,o):null}createEvent(i,o){(0,W.hu)(null!=i.childName,"Child events should have a childName.");const u=Gs(new ko(o._repo,o._path),i.childName),m=o._queryParams.getIndex();return new lo(i.type,this,new Ws(i.snapshotNode,u,m),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Au&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zl(s,i,o,u,m){let b;if("object"==typeof u&&(b=void 0,m=u),"function"==typeof u&&(b=u),m&&m.onlyOnce){const X=o,de=(Ge,qe)=>{va(s._repo,s,$),X(Ge,qe)};de.userCallback=o.userCallback,de.context=o.context,o=de}const N=new ll(o,b||void 0),$="value"===i?new du(N):new Au(i,N);return function wu(s,i,o){let u;u=".info"===Oe(i._path)?Ke(s.infoSyncTree_,i,o):Ke(s.serverSyncTree_,i,o),v(s.eventQueue_,i._path,u)}(s._repo,s,$),()=>va(s._repo,s,$)}function Mu(s,i,o,u){return zl(s,"value",i,o,u)}function hu(s,i,o,u){return zl(s,"child_added",i,o,u)}function Ru(s,i,o,u){return zl(s,"child_changed",i,o,u)}function Pl(s,i,o,u){return zl(s,"child_moved",i,o,u)}function Vc(s,i,o,u){return zl(s,"child_removed",i,o,u)}function Uc(s,i,o){let u=null;const m=o?new ll(o):null;"value"===i?u=new du(m):i&&(u=new Au(i,m)),va(s._repo,s,u)}class Ea{}class Bc extends Ea{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("endAt",this._value,i._path,!0);const o=ci(i._queryParams,this._value,this._key);if(Fa(o),$s(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(i._repo,i._path,o,i._orderByCalled)}}class Ud extends Ea{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("endBefore",this._value,i._path,!1);const o=function Jr(s,i,o){let u;return u=ci(s,i,s.index_===Ri||o?o:en),u.endBeforeSet_=!0,u}(i._queryParams,this._value,this._key);if(Fa(o),$s(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(i._repo,i._path,o,i._orderByCalled)}}class fu extends Ea{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("startAt",this._value,i._path,!0);const o=Gi(i._queryParams,this._value,this._key);if(Fa(o),$s(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ii(i._repo,i._path,o,i._orderByCalled)}}class jc extends Ea{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("startAfter",this._value,i._path,!1);const o=function ui(s,i,o){let u;return u=Gi(s,i,s.index_===Ri||o?o:Jt),u.startAfterSet_=!0,u}(i._queryParams,this._value,this._key);if(Fa(o),$s(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ii(i._repo,i._path,o,i._orderByCalled)}}class Wc extends Ea{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(i._repo,i._path,function Wi(s,i){const o=s.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class Bd extends Ea{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(i._repo,i._path,function mo(s,i){const o=s.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class jd extends Ea{constructor(i){super(),this._path=i}_apply(i){Ml(i,"orderByChild");const o=new ue(this._path);if(Ut(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new ts(o),m=Xr(i._queryParams,u);return $s(m),new Ii(i._repo,i._path,m,!0)}}class Wd extends Ea{_apply(i){Ml(i,"orderByKey");const o=Xr(i._queryParams,Ri);return $s(o),new Ii(i._repo,i._path,o,!0)}}class pu extends Ea{_apply(i){Ml(i,"orderByPriority");const o=Xr(i._queryParams,Kn);return $s(o),new Ii(i._repo,i._path,o,!0)}}class Af extends Ea{_apply(i){Ml(i,"orderByValue");const o=Xr(i._queryParams,go);return $s(o),new Ii(i._repo,i._path,o,!0)}}class Rf extends Ea{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(No("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bc(this._value,this._key)._apply(new fu(this._value,this._key)._apply(i))}}function Ca(s,...i){let o=(0,W.m9)(s);for(const u of i)o=u._apply(o);return o}(function Vl(s){(0,W.hu)(!Js,"__referenceConstructor has already been defined"),Js=s})(ko),function ga(s){(0,W.hu)(!Bs,"__referenceConstructor has already been defined"),Bs=s}(ko);const zc="FIREBASE_DATABASE_EMULATOR_HOST",ic={};let Kc=!1;function Zc(s,i,o,u,m){let b=u||s.options.databaseURL;void 0===b&&(s.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",s.options.projectId),b=`${s.options.projectId}-default-rtdb.firebaseio.com`);let X,de,N=yt(b,m),$=N.repoInfo;typeof process<"u"&&process.env&&(de=process.env[zc]),de?(X=!0,b=`http://${de}?ns=${$.namespace}`,N=yt(b,m),$=N.repoInfo):X=!N.repoInfo.secure;const Ge=m&&X?new Qn(Qn.OWNER):new ln(s.name,s.options,i);Wl("Invalid Firebase Database URL",N),Ut(N.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");const qe=function La(s,i,o,u){let m=ic[i.name];m||(m={},ic[i.name]=m);let b=m[s.toURLString()];return b&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),b=new Le(s,Kc,o,u),m[s.toURLString()]=b,b}($,s,Ge,new Or(s.name,o));return new Yc(qe,s)}class Yc{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Mt(s,i,o){if(s.stats_=me(s.repoInfo_),s.forceRestClient_||br())s.server_=new yi(s.repoInfo_,(u,m,b,N)=>{_n(s,u,m,b,N)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>yn(s,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Wl)(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}s.persistentConnection_=new fi(s.repoInfo_,i,(u,m,b,N)=>{_n(s,u,m,b,N)},u=>{yn(s,u)},u=>{!function ao(s,i){On(i,(o,u)=>{Yr(s,o,u)})}(s,u)},s.authTokenProvider_,s.appCheckProvider_,o),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(u=>{s.server_.refreshAuthToken(u)}),s.appCheckProvider_.addTokenChangeListener(u=>{s.server_.refreshAppCheckToken(u.token)}),s.statsReporter_=function Fe(s,i){const o=s.toString();return Q[o]||(Q[o]=i()),Q[o]}(s.repoInfo_,()=>new rs(s.stats_,s.server_)),s.infoData_=new la,s.infoSyncTree_=new Ci({startListening:(u,m,b,N)=>{let $=[];const X=s.infoData_.getNode(u._path);return X.isEmpty()||($=y(s.infoSyncTree_,u._path,X),setTimeout(()=>{N("ok")},0)),$},stopListening:()=>{}}),Yr(s,"connected",!1),s.serverSyncTree_=new Ci({startListening:(u,m,b,N)=>(s.server_.listen(u,b,m,($,X)=>{const de=N($,X);T(s.eventQueue_,u._path,de)}),[]),stopListening:(u,m)=>{s.server_.unlisten(u,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ko(this._repo,Ce())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oc(s,i){const o=ic[i];(!o||o[s.key]!==s)&&An(`Database ${i}(${s.repoInfo_}) has already been deleted.`),Al(s),delete o[s.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&An("Cannot call "+i+" on a deleted database.")}}function sc(){ti.IS_TRANSPORT_INITIALIZED&&$t("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qc(){sc(),Mr.forceDisallow()}function Of(){sc(),Mn.forceDisallow(),Mr.forceAllow()}function Nf(s,i){rn(s,i)}const Qc={".sv":"timestamp"};class qd{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}fi.prototype.simpleListen=function(s,i){this.sendRequest("q",{p:s},i)},fi.prototype.echo=function(s,i){this.sendRequest("echo",{d:s},i)},function xf(s){Yt(Re.SDK_VERSION),(0,Re._registerComponent)(new ot.wA("database",(i,{instanceIdentifier:o})=>Zc(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(ct,"0.14.4",s),(0,Re.registerVersion)(ct,"0.14.4","esm2017")}();const eh=new kt.Yd("@firebase/database-compat"),Di=function(s){eh.warn("FIREBASE WARNING: "+s)};class dc{constructor(i){this._delegate=i}cancel(i){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),u=>i(u)),o}remove(i){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),u=>i(u)),o}set(i,o){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",o,!0);const u=this._delegate.set(i);return o&&u.then(()=>o(null),m=>o(m)),u}setWithPriority(i,o,u){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const m=this._delegate.setWithPriority(i,o);return u&&m.then(()=>u(null),b=>u(b)),m}update(i,o){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let b=0;b<i.length;++b)m[""+b]=i[b];i=m,Di("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",o,!0);const u=this._delegate.update(i);return o&&u.then(()=>o(null),m=>o(m)),u}}class Jc{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dl{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),ka("DataSnapshot.child","path",i,!1),new dl(this._database,this._delegate.child(i))}hasChild(i){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ka("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new dl(this._database,o)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ss(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Io{constructor(i,o){this.database=i,this._delegate=o}on(i,o,u,m){var b;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",o,!1);const N=Io.getCancelAndContextArgs_("Query.on",u,m),$=(de,Ge)=>{o.call(N.context,new dl(this.database,de),Ge)};$.userCallback=o,$.context=N.context;const X=null===(b=N.cancel)||void 0===b?void 0:b.bind(N.context);switch(i){case"value":return Mu(this._delegate,$,X),o;case"child_added":return hu(this._delegate,$,X),o;case"child_removed":return Vc(this._delegate,$,X),o;case"child_changed":return Ru(this._delegate,$,X),o;case"child_moved":return Pl(this._delegate,$,X),o;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,u){if((0,W.Dv)("Query.off",0,3,arguments.length),function(s,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,W.Wj)("Query.off","callback",o,!0),(0,W.lb)("Query.off","context",u,!0),o){const m=()=>{};m.userCallback=o,m.context=u,Uc(this._delegate,i,m)}else Uc(this._delegate,i)}get(){return Vd(this._delegate).then(i=>new dl(this.database,i))}once(i,o,u,m){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",o,!0);const b=Io.getCancelAndContextArgs_("Query.once",u,m),N=new W.BH,$=(de,Ge)=>{const qe=new dl(this.database,de);o&&o.call(b.context,qe,Ge),N.resolve(qe)};$.userCallback=o,$.context=b.context;const X=de=>{b.cancel&&b.cancel.call(b.context,de),N.reject(de)};switch(i){case"value":Mu(this._delegate,$,X,{onlyOnce:!0});break;case"child_added":hu(this._delegate,$,X,{onlyOnce:!0});break;case"child_removed":Vc(this._delegate,$,X,{onlyOnce:!0});break;case"child_changed":Ru(this._delegate,$,X,{onlyOnce:!0});break;case"child_moved":Pl(this._delegate,$,X,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return N.promise}limitToFirst(i){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new Io(this.database,Ca(this._delegate,function Gc(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wc(s)}(i)))}limitToLast(i){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new Io(this.database,Ca(this._delegate,function Hd(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Bd(s)}(i)))}orderByChild(i){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new Io(this.database,Ca(this._delegate,function $d(s){if("$key"===s)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===s)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===s)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ka("orderByChild","path",s,!1),new jd(s)}(i)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new Io(this.database,Ca(this._delegate,function cl(){return new Wd}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new Io(this.database,Ca(this._delegate,function Gd(){return new pu}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new Io(this.database,Ca(this._delegate,function Mf(){return new Af}()))}startAt(i=null,o){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new Io(this.database,Ca(this._delegate,function rc(s=null,i){return Yo("startAt","key",i,!0),new fu(s,i)}(i,o)))}startAfter(i=null,o){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new Io(this.database,Ca(this._delegate,function $c(s,i){return Yo("startAfter","key",i,!0),new jc(s,i)}(i,o)))}endAt(i=null,o){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new Io(this.database,Ca(this._delegate,function nc(s,i){return Yo("endAt","key",i,!0),new Bc(s,i)}(i,o)))}endBefore(i=null,o){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new Io(this.database,Ca(this._delegate,function Hc(s,i){return Yo("endBefore","key",i,!0),new Ud(s,i)}(i,o)))}equalTo(i,o){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new Io(this.database,Ca(this._delegate,function Pf(s,i){return Yo("equalTo","key",i,!0),new Rf(s,i)}(i,o)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Io))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,u){const m={cancel:void 0,context:void 0};if(o&&u)m.cancel=o,(0,W.Wj)(i,"cancel",m.cancel,!0),m.context=u,(0,W.lb)(i,"context",m.context,!0);else if(o)if("object"==typeof o&&null!==o)m.context=o;else{if("function"!=typeof o)throw new Error((0,W.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");m.cancel=o}return m}get ref(){return new Ss(this.database,new ko(this._delegate._repo,this._delegate._path))}}class Ss extends Io{constructor(i,o){super(i,new Ii(o._repo,o._path,new $n,!1)),this.database=i,this._delegate=o}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Ss(this.database,Gs(this._delegate,i))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Ss(this.database,i):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new Ss(this.database,this._delegate.root)}set(i,o){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",o,!0);const u=uu(this._delegate,i);return o&&u.then(()=>o(null),m=>o(m)),u}update(i,o){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let b=0;b<i.length;++b)m[""+b]=i[b];i=m,Di("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Co("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",o,!0);const u=Lc(this._delegate,i);return o&&u.then(()=>o(null),m=>o(m)),u}setWithPriority(i,o,u){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",u,!0);const m=function Ld(s,i,o){if(Co("setWithPriority",s._path),No("setWithPriority",i,s._path,!1),Sl("setWithPriority",o,!1),".length"===s.key||".keys"===s.key)throw"setWithPriority failed: "+s.key+" is a read-only object.";const u=new W.BH;return sa(s._repo,s._path,i,o,u.wrapCallback(()=>{})),u.promise}(this._delegate,i,o);return u&&m.then(()=>u(null),b=>u(b)),m}remove(i){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",i,!0);const o=function tc(s){return Co("remove",s._path),uu(s,null)}(this._delegate);return i&&o.then(()=>i(null),u=>i(u)),o}transaction(i,o,u){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,W.Wj)("Reference.transaction","onComplete",o,!0),function(s,i,o,u){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const m=function Qd(s,i,o){var u;if(s=(0,W.m9)(s),Co("Reference.transaction",s._path),".length"===s.key||".keys"===s.key)throw"Reference.transaction failed: "+s.key+" is a read-only object.";const m=null===(u=o?.applyLocally)||void 0===u||u,b=new W.BH,$=Mu(s,()=>{});return function bu(s,i,o,u,m,b){Ts(s,"transaction on "+i);const N={path:i,update:o,onComplete:u,status:null,order:Ee(),applyLocally:b,retryCount:0,unwatcher:m,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},$=su(s,i,void 0);N.currentInputSnapshot=$;const X=N.update($.val());if(void 0===X)N.unwatcher(),N.currentOutputSnapshotRaw=null,N.currentOutputSnapshotResolved=null,N.onComplete&&N.onComplete(null,!1,N.currentInputSnapshot);else{ia("transaction failed: Data returned ",X,N.path),N.status=0;const de=Cl(s.transactionQueueTree_,i),Ge=ls(de)||[];let qe;Ge.push(N),rl(de,Ge),"object"==typeof X&&null!==X&&(0,W.r3)(X,".priority")?(qe=(0,W.DV)(X,".priority"),(0,W.hu)(Ko(qe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):qe=(It(s.serverSyncTree_,i)||an.EMPTY_NODE).getPriority().val();const rt=Wt(s),xt=cr(X,qe),un=nl(xt,$,rt);N.currentOutputSnapshotRaw=xt,N.currentOutputSnapshotResolved=un,N.currentWriteId=oa(s);const fr=Go(s.serverSyncTree_,i,un,N.currentWriteId,N.applyLocally);T(s.eventQueue_,i,fr),sl(s,s.transactionQueueTree_)}}(s._repo,s._path,i,(X,de,Ge)=>{let qe=null;X?b.reject(X):(qe=new Ws(Ge,new ko(s._repo,s._path),Kn),b.resolve(new qd(de,qe)))},$,m),b.promise}(this._delegate,i,{applyLocally:u}).then(b=>new Jc(b.committed,new dl(this.database,b.snapshot)));return o&&m.then(b=>o(null,b.committed,b.snapshot),b=>o(b,!1,null)),m}setPriority(i,o){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",o,!0);const u=function cu(s,i){s=(0,W.m9)(s),Co("setPriority",s._path),Sl("setPriority",i,!1);const o=new W.BH;return sa(s._repo,zn(s._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&u.then(()=>o(null),m=>o(m)),u}push(i,o){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",o,!0);const u=function lu(s,i){s=(0,W.m9)(s),Co("push",s._path),No("push",i,s._path,!0);const o=wt(s._repo),u=xn(o),m=Gs(s,u),b=Gs(s,u);let N;return N=null!=i?uu(b,i).then(()=>b):Promise.resolve(b),m.then=N.then.bind(N),m.catch=N.then.bind(N,void 0),m}(this._delegate,i),m=u.then(N=>new Ss(this.database,N));o&&m.then(()=>o(null),N=>o(N));const b=new Ss(this.database,u);return b.then=m.then.bind(m),b.catch=m.catch.bind(m,void 0),b}onDisconnect(){return Co("Reference.onDisconnect",this._delegate._path),new dc(new Su(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mu{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qc,forceLongPolling:Of}}useEmulator(i,o,u={}){!function Kd(s,i,o,u={}){(s=(0,W.m9)(s))._checkNotDeleted("useEmulator"),s._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");const m=s._repoInternal;let b;if(m.repoInfo_.nodeAdmin)u.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),b=new Qn(Qn.OWNER);else if(u.mockUserToken){const N="string"==typeof u.mockUserToken?u.mockUserToken:(0,W.Sg)(u.mockUserToken,s.app.options.projectId);b=new Qn(N)}!function zd(s,i,o,u){s.repoInfo_=new q(`${i}:${o}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),u&&(s.authTokenProvider_=u)}(m,i,o,b)}(this._delegate,i,o,u)}ref(i){if((0,W.Dv)("database.ref",0,1,arguments.length),i instanceof Ss){const o=ul(this._delegate,i.toString());return new Ss(this,o)}{const o=Rl(this._delegate,i);return new Ss(this,o)}}refFromURL(i){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const u=ul(this._delegate,i);return new Ss(this,u)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function ac(s){(s=(0,W.m9)(s))._checkNotDeleted("goOffline"),Al(s._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function lc(s){(s=(0,W.m9)(s))._checkNotDeleted("goOnline"),function ou(s){s.persistentConnection_&&s.persistentConnection_.resume(ge)}(s._repo)}(this._delegate)}}mu.ServerValue={TIMESTAMP:function Zd(){return Qc}(),increment:s=>function Yd(s){return{".sv":{increment:s}}}(s)};var kf=Object.freeze({__proto__:null,initStandalone:function Xc({app:s,url:i,version:o,customAuthImpl:u,namespace:m,nodeAdmin:b=!1}){Yt(o);const N=new ot.zt("auth-internal",new ot.H0("database-standalone"));return N.setComponent(new ot.wA("auth-internal",()=>u,"PRIVATE")),{instance:new mu(Zc(s,N,void 0,i,b),s),namespace:m}}});const Ff=mu.ServerValue;!function _u(s){s.INTERNAL.registerComponent(new ot.wA("database-compat",(i,{instanceIdentifier:o})=>{const u=i.getProvider("app-compat").getImmediate(),m=i.getProvider("database").getImmediate({identifier:o});return new mu(m,u)},"PUBLIC").setServiceProps({Reference:Ss,Query:Io,Database:mu,DataSnapshot:dl,enableLogging:Nf,INTERNAL:kf,ServerValue:Ff}).setMultipleInstances(!0)),s.registerVersion("@firebase/database-compat","0.3.4")}(Qe.Z);var Ia=x(1041),ed=x(6217),td=x(9260);function rd(s){return null==s}function hc(s){return"function"==typeof s.set}function fc(s,i){return hc(i)?i:s.ref(i)}function Pu(s,i){if(function nd(s){return"string"==typeof s}(s))return i.stringCase();if(hc(s))return i.firebaseCase();if(function Lf(s){return"function"==typeof s.exportVal}(s))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function Ou(s,i,o="on",u=B.z){return new P.y(m=>{let b=null;return b=s[o](i,(N,$)=>{u.schedule(()=>{m.next({snapshot:N,prevKey:$})}),"once"===o&&u.schedule(()=>m.complete())},N=>{u.schedule(()=>m.error(N))}),"on"===o?{unsubscribe(){null!=b&&s.off(i,b)}}:{unsubscribe(){}}}).pipe((0,he.U)(m=>{const{snapshot:b,prevKey:N}=m;let $=null;return b.exists()&&($=b.key),{type:i,payload:b,prevKey:N,key:$}}),(0,Ie.B)())}function id(s,i){const o=s.length;for(let u=0;u<o;u++)if(s[u].payload.key===i)return u;return-1}function od(s,i){const{payload:o,prevKey:u,key:m}=i,b=id(s,m),N=function gc(s,i){if(rd(i))return 0;{const o=id(s,i);return-1===o?s.length:o+1}}(s,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let $=null;i.payload.forEach(X=>{const de={payload:X,type:"value",prevKey:$,key:X.key};return $=X.key,s=[...s,de],!1})}return s;case"child_added":if(b>-1){const $=s[b-1];($&&$.key||null)!==u&&(s=s.filter(X=>X.payload.key!==o.key)).splice(N,0,i)}else{if(null==u)return[i,...s];(s=s.slice()).splice(N,0,i)}return s;case"child_removed":return s.filter($=>$.payload.key!==o.key);case"child_changed":return s.map($=>$.payload.key===m?i:$);case"child_moved":if(b>-1){const $=s.splice(b,1)[0];return(s=s.slice()).splice(N,0,$),s}return s;default:return s}}function mc(s){return(rd(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function hl(s,i,o){return function pc(s,i,o){return Ou(s,"value","once",o).pipe((0,ve.w)(u=>{const m=[(0,ce.of)(u)];return i.forEach(b=>m.push(Ou(s,b,"on",o))),(0,ae.T)(...m).pipe((0,Ae.R)(od,[]))}),function st(s,i=se.y){return s=s??We,(0,oe.e)((o,u)=>{let m,b=!0;o.subscribe((0,fe.x)(u,N=>{const $=i(N);(b||!s(m,$))&&(b=!1,m=$,u.next(N))}))})}())}(s,i=mc(i),o)}function sd(s,i,o){const u=(i=mc(i)).map(m=>Ou(s,m,"on",o));return(0,ae.T)(...u)}function xu(s,i){return function(u,m){return Pu(u,{stringCase:()=>s.child(u)[i](m),firebaseCase:()=>u[i](m),snapshotCase:()=>u.ref[i](m)})}}function ku(s){return function(o){return o?Pu(o,{stringCase:()=>s.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):s.remove()}}function yc(s,i){return function(){return Ou(s,"value","on",i)}}const ih=new d.OlP("angularfire2.realtimeDatabaseURL"),oh=new d.OlP("angularfire2.database.use-emulator");let Ec=(()=>{class s{constructor(o,u,m,b,N,$,X,de,Ge,qe,rt,xt,un,fr,uo){this.schedulers=$;const Da=X,Va=(0,ze.on)(o,N,u);de&&(0,Ia.nw)(Va,N,Ge,rt,xt,un,qe,fr),this.database=(0,ze.cc)(`${Va.name}.database.${m}`,"AngularFireDatabase",Va.name,()=>{const Nl=N.runOutsideAngular(()=>Va.database(m||void 0));return Da&&Nl.useEmulator(...Da),Nl},[Da])}list(o,u){const m=this.schedulers.ngZone.runOutsideAngular(()=>fc(this.database,o));let b=m;return u&&(b=u(m)),function Ol(s,i){const o=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>s.ref);return{query:s,update:xu(u,"update"),set:xu(u,"set"),push:m=>u.push(m),remove:ku(u),snapshotChanges:m=>hl(s,m,o).pipe(ut.iC),stateChanges:m=>sd(s,m,o).pipe(ut.iC),auditTrail:m=>function _c(s,i,o){return function rh(s,i,o){return function Nu(s,i){return Ou(s,"value","on",i).pipe((0,he.U)(o=>{let u;return o.payload.forEach(m=>(u=m.key,!1)),{data:o,lastKeyToLoad:u}}))}(s,o).pipe(function Xe(...s){const i=(0,He.jO)(s);return(0,oe.e)((o,u)=>{const m=s.length,b=new Array(m);let N=s.map(()=>!1),$=!1;for(let X=0;X<m;X++)(0,lt.Xf)(s[X]).subscribe((0,fe.x)(u,de=>{b[X]=de,!$&&!N[X]&&(N[X]=!0,($=N.every(se.y))&&(N=null))},Et.Z));o.subscribe((0,fe.x)(u,X=>{if($){const de=[X,...b];u.next(i?i(...de):de)}}))})}(i),(0,he.U)(([m,b])=>{const N=m.lastKeyToLoad,$=b.map(X=>X.key);return{actions:b,lastKeyToLoad:N,loadedKeys:$}}),function et(s){return(0,oe.e)((i,o)=>{let u=!1,m=0;i.subscribe((0,fe.x)(o,b=>(u||(u=!s(b,m++)))&&o.next(b)))})}(m=>-1===m.loadedKeys.indexOf(m.lastKeyToLoad)),(0,he.U)(m=>m.actions))}(s,sd(s,i).pipe((0,Ae.R)((m,b)=>[...m,b],[])),o)}(s,m,o).pipe(ut.iC),valueChanges:(m,b)=>hl(s,m,o).pipe((0,he.U)($=>$.map(X=>b&&b.idField?Object.assign(Object.assign({},X.payload.val()),{[b.idField]:X.key}):X.payload.val())),ut.iC)}}(b,this)}object(o){return function vc(s,i){return{query:s,snapshotChanges:()=>yc(s,i.schedulers.outsideAngular)().pipe(ut.iC),update:o=>s.ref.update(o),set:o=>s.ref.set(o),remove:()=>s.ref.remove(),valueChanges:()=>yc(s,i.schedulers.outsideAngular)().pipe(ut.iC,(0,he.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fc(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(o){return new(o||s)(d.LFG(ze.Dh),d.LFG(ze.xv,8),d.LFG(ih,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ut.HU),d.LFG(oh,8),d.LFG(Ia.zQ,8),d.LFG(Ia.Qv,8),d.LFG(Ia.L6,8),d.LFG(Ia._Q,8),d.LFG(Ia.rT,8),d.LFG(Ia.lh,8),d.LFG(Ia.f7,8),d.LFG(ed.nm,8))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Kl=(()=>{class s{constructor(){td.Z.registerVersion("angularfire",ut.q4.full,"rtdb-compat")}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({providers:[Ec]}),s})()},2011:(vt,Ne,x)=>{x.d(Ne,{Dh:()=>ve,GT:()=>he,cc:()=>We,hO:()=>st,on:()=>se,pX:()=>ae,xv:()=>Ae});var d=x(4650),B=x(9260),P=x(4976);vt=x.hmd(vt);const ce=["ngOnDestroy"],ae=(Xe,et,ut,ze={})=>new Proxy(Xe,{get:(Ye,Qe)=>ut.runOutsideAngular(()=>{var ot;if(Xe[Qe])return!(null===(ot=ze?.spy)||void 0===ot)&&ot.get&&ze.spy.get(Qe,Xe[Qe]),Xe[Qe];if(ce.indexOf(Qe)>-1)return()=>{};const Ze=et.toPromise().then(Re=>{const W=Re&&Re[Qe];return"function"==typeof W?W.bind(Re):W&&W.then?W.then(kt=>ut.run(()=>kt)):ut.run(()=>W)});return new Proxy(()=>{},{get:(Re,W)=>Ze[W],apply:(Re,W,kt)=>Ze.then(ct=>{var zt;const ft=ct&&ct(...kt);return!(null===(zt=ze?.spy)||void 0===zt)&&zt.apply&&ze.spy.apply(Qe,kt,ft),ft})})})}),he=(Xe,et)=>{et.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(ze=>{Object.defineProperty(Xe.prototype,ze,Object.getOwnPropertyDescriptor(ut.prototype||ut,ze))})})};class Ie{constructor(et){return et}}const ve=new d.OlP("angularfire2.app.options"),Ae=new d.OlP("angularfire2.app.name");function se(Xe,et,ut){const Ye="object"==typeof ut&&ut||{};Ye.name=Ye.name||"string"==typeof ut&&ut||"[DEFAULT]";const ot=B.Z.apps.filter(Ze=>Ze&&Ze.name===Ye.name)[0]||et.runOutsideAngular(()=>B.Z.initializeApp(Xe,Ye));try{JSON.stringify(Xe)!==JSON.stringify(ot.options)&&oe("error",`${ot.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ot)}const oe=(Xe,...et)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Xe](...et)},fe={provide:Ie,useFactory:se,deps:[ve,d.R0b,[new d.FiY,Ae]]};let st=(()=>{class Xe{constructor(ut){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,ut.toString())}static initializeApp(ut,ze){return{ngModule:Xe,providers:[{provide:ve,useValue:ut},{provide:Ae,useValue:ze}]}}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(d.LFG(d.Lbi))},Xe.\u0275mod=d.oAB({type:Xe}),Xe.\u0275inj=d.cJS({providers:[fe]}),Xe})();function We(Xe,et,ut,ze,Ye){const[,Qe,ot]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Xe)||[];if(Qe)return function lt(Xe,et){try{return Xe.toString()===et.toString()}catch{return Xe===et}}(Ye,ot)||(He("error",`${et} was already initialized on the ${ut} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:Ye,was:ot})),Qe;{const Ze=ze();return globalThis.\u0275AngularfireInstanceCache.push([Xe,Ze,Ye]),Ze}}const Et=!!vt.hot,He=(Xe,...et)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Xe](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Ne,x)=>{x.d(Ne,{q4:()=>Hl,iC:()=>Co,HU:()=>ds,vb:()=>xa,JM:()=>Tl});var d=x(4650),B=x(259),P=x(5861),ce=x(6881),ae=x(2090),he=x(4859),Ie=x(1877);const ve=(v,T)=>T.some(k=>v instanceof k);let Ae,se;const st=new WeakMap,We=new WeakMap,lt=new WeakMap,Et=new WeakMap,He=new WeakMap;let ut={get(v,T,k){if(v instanceof IDBTransaction){if("done"===T)return We.get(v);if("objectStoreNames"===T)return v.objectStoreNames||lt.get(v);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return ot(v[T])},set:(v,T,k)=>(v[T]=k,!0),has:(v,T)=>v instanceof IDBTransaction&&("done"===T||"store"===T)||T in v};function Qe(v){return"function"==typeof v?function Ye(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...T){return v.apply(Ze(this),T),ot(st.get(this))}:function(...T){return ot(v.apply(Ze(this),T))}:function(T,...k){const J=v.call(Ze(this),T,...k);return lt.set(J,T.sort?T.sort():[T]),ot(J)}}(v):(v instanceof IDBTransaction&&function et(v){if(We.has(v))return;const T=new Promise((k,J)=>{const ge=()=>{v.removeEventListener("complete",Me),v.removeEventListener("error",Le),v.removeEventListener("abort",Le)},Me=()=>{k(),ge()},Le=()=>{J(v.error||new DOMException("AbortError","AbortError")),ge()};v.addEventListener("complete",Me),v.addEventListener("error",Le),v.addEventListener("abort",Le)});We.set(v,T)}(v),ve(v,function oe(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,ut):v)}function ot(v){if(v instanceof IDBRequest)return function Xe(v){const T=new Promise((k,J)=>{const ge=()=>{v.removeEventListener("success",Me),v.removeEventListener("error",Le)},Me=()=>{k(ot(v.result)),ge()},Le=()=>{J(v.error),ge()};v.addEventListener("success",Me),v.addEventListener("error",Le)});return T.then(k=>{k instanceof IDBCursor&&st.set(k,v)}).catch(()=>{}),He.set(T,v),T}(v);if(Et.has(v))return Et.get(v);const T=Qe(v);return T!==v&&(Et.set(v,T),He.set(T,v)),T}const Ze=v=>He.get(v),kt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],zt=new Map;function ft(v,T){if(!(v instanceof IDBDatabase)||T in v||"string"!=typeof T)return;if(zt.get(T))return zt.get(T);const k=T.replace(/FromIndex$/,""),J=T!==k,ge=ct.includes(k);if(!(k in(J?IDBIndex:IDBObjectStore).prototype)||!ge&&!kt.includes(k))return;const Me=function(){var Le=(0,P.Z)(function*(Mt,...wt){const Wt=this.transaction(Mt,ge?"readwrite":"readonly");let _n=Wt.store;return J&&(_n=_n.index(wt.shift())),(yield Promise.all([_n[k](...wt),ge&&Wt.done]))[0]});return function(wt){return Le.apply(this,arguments)}}();return zt.set(T,Me),Me}!function ze(v){ut=v(ut)}(v=>({...v,get:(T,k,J)=>ft(T,k)||v.get(T,k,J),has:(T,k)=>!!ft(T,k)||v.has(T,k)}));const Yt="@firebase/installations",Kt="0.6.4",dt=1e4,Rn=`w:${Kt}`,_e="FIS_v2",ye="https://firebaseinstallations.googleapis.com/v1",Se=36e5,_t=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(v){return v instanceof ae.ZR&&v.code.includes("request-failed")}function rn({projectId:v}){return`${ye}/projects/${v}/installations`}function mt(v){return{token:v.token,requestStatus:2,expiresIn:Tn(v.expiresIn),creationTime:Date.now()}}function Xt(v,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(v,T){const J=(yield T.json()).error;return _t.create("request-failed",{requestName:v,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function An({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function vn(v){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(v){const T=yield v();return T.status>=500&&T.status<600?v():T})).apply(this,arguments)}function Tn(v){return Number(v.replace("s","000"))}function gt(){return(gt=(0,P.Z)(function*({appConfig:v,heartbeatServiceProvider:T},{fid:k}){const J=rn(v),ge=An(v),Me=T.getImmediate({optional:!0});if(Me){const Wt=yield Me.getHeartbeatsHeader();Wt&&ge.append("x-firebase-client",Wt)}const Mt={method:"POST",headers:ge,body:JSON.stringify({fid:k,authVersion:_e,appId:v.appId,sdkVersion:Rn})},wt=yield vn(()=>fetch(J,Mt));if(wt.ok){const Wt=yield wt.json();return{fid:Wt.fid||k,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:mt(Wt.authToken)}}throw yield Xt("Create Installation",wt)})).apply(this,arguments)}function hn(v){return new Promise(T=>{setTimeout(T,v)})}const Xn=/^[cdef][\w-]{21}$/,wr="";function On(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const k=function En(v){return function kn(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return Xn.test(k)?k:wr}catch{return wr}}function Ft(v){return`${v.appName}!${v.appId}`}const Tt=new Map;function Lt(v,T){const k=Ft(v);Zn(k,T),function yr(v,T){const k=function br(){return!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=v=>{Zn(v.data.key,v.data.fid)}),Hn}();k&&k.postMessage({key:v,fid:T}),function tn(){0===Tt.size&&Hn&&(Hn.close(),Hn=null)}()}(k,T)}function Zn(v,T){const k=Tt.get(v);if(k)for(const J of k)J(T)}let Hn=null;const Or="firebase-installations-database",ln=1,Qn="firebase-installations-store";let pt=null;function Yn(){return pt||(pt=function Re(v,T,{blocked:k,upgrade:J,blocking:ge,terminated:Me}={}){const Le=indexedDB.open(v,T),Mt=ot(Le);return J&&Le.addEventListener("upgradeneeded",wt=>{J(ot(Le.result),wt.oldVersion,wt.newVersion,ot(Le.transaction))}),k&&Le.addEventListener("blocked",()=>k()),Mt.then(wt=>{Me&&wt.addEventListener("close",()=>Me()),ge&&wt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Mt}(Or,ln,{upgrade:(v,T)=>{0===T&&v.createObjectStore(Qn)}})),pt}function rr(v,T){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,P.Z)(function*(v,T){const k=Ft(v),ge=(yield Yn()).transaction(Qn,"readwrite"),Me=ge.objectStore(Qn),Le=yield Me.get(k);return yield Me.put(T,k),yield ge.done,(!Le||Le.fid!==T.fid)&&Lt(v,T.fid),T})).apply(this,arguments)}function ir(v){return sr.apply(this,arguments)}function sr(){return(sr=(0,P.Z)(function*(v){const T=Ft(v),J=(yield Yn()).transaction(Qn,"readwrite");yield J.objectStore(Qn).delete(T),yield J.done})).apply(this,arguments)}function tr(v,T){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(v,T){const k=Ft(v),ge=(yield Yn()).transaction(Qn,"readwrite"),Me=ge.objectStore(Qn),Le=yield Me.get(k),Mt=T(Le);return void 0===Mt?yield Me.delete(k):yield Me.put(Mt,k),yield ge.done,Mt&&(!Le||Le.fid!==Mt.fid)&&Lt(v,Mt.fid),Mt})).apply(this,arguments)}function le(v){return re.apply(this,arguments)}function re(){return re=(0,P.Z)(function*(v){let T;const k=yield tr(v.appConfig,J=>{const ge=function K(v){return me(v||{fid:On(),registrationStatus:0})}(J),Me=function q(v,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(_t.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},J=function j(v,T){return pe.apply(this,arguments)}(v,k);return{installationEntry:k,registrationPromise:J}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ee(v)}:{installationEntry:T}}(v,ge);return T=Me.registrationPromise,Me.installationEntry});return k.fid===wr?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}}),re.apply(this,arguments)}function pe(){return pe=(0,P.Z)(function*(v,T){try{const k=yield function Jt(v,T){return gt.apply(this,arguments)}(v,T);return rr(v.appConfig,k)}catch(k){throw bt(k)&&409===k.customData.serverCode?yield ir(v.appConfig):yield rr(v.appConfig,{fid:T.fid,registrationStatus:0}),k}}),pe.apply(this,arguments)}function ee(v){return ne.apply(this,arguments)}function ne(){return(ne=(0,P.Z)(function*(v){let T=yield Q(v.appConfig);for(;1===T.registrationStatus;)yield hn(100),T=yield Q(v.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:J}=yield le(v);return J||k}return T})).apply(this,arguments)}function Q(v){return tr(v,T=>{if(!T)throw _t.create("installation-not-found");return me(T)})}function me(v){return function Fe(v){return 1===v.registrationStatus&&v.registrationTime+dt<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function Rt(){return(Rt=(0,P.Z)(function*({appConfig:v,heartbeatServiceProvider:T},k){const J=function jt(v,{fid:T}){return`${rn(v)}/${T}/authTokens:generate`}(v,k),ge=function $t(v,{refreshToken:T}){const k=An(v);return k.append("Authorization",function en(v){return`${_e} ${v}`}(T)),k}(v,k),Me=T.getImmediate({optional:!0});if(Me){const Wt=yield Me.getHeartbeatsHeader();Wt&&ge.append("x-firebase-client",Wt)}const Mt={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:Rn,appId:v.appId}})},wt=yield vn(()=>fetch(J,Mt));if(wt.ok)return mt(yield wt.json());throw yield Xt("Generate Auth Token",wt)})).apply(this,arguments)}function Nn(v){return pr.apply(this,arguments)}function pr(){return pr=(0,P.Z)(function*(v,T=!1){let k;const J=yield tr(v.appConfig,Me=>{if(!sn(Me))throw _t.create("not-registered");const Le=Me.authToken;if(!T&&function Vt(v){return 2===v.requestStatus&&!function Pn(v){const T=Date.now();return T<v.creationTime||v.creationTime+v.expiresIn<T+Se}(v)}(Le))return Me;if(1===Le.requestStatus)return k=function Ve(v,T){return Pe.apply(this,arguments)}(v,T),Me;{if(!navigator.onLine)throw _t.create("app-offline");const Mt=function gn(v){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:T})}(Me);return k=function Ot(v,T){return Zt.apply(this,arguments)}(v,Mt),Mt}});return k?yield k:J.authToken}),pr.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*(v,T){let k=yield at(v.appConfig);for(;1===k.authToken.requestStatus;)yield hn(100),k=yield at(v.appConfig);const J=k.authToken;return 0===J.requestStatus?Nn(v,T):J})).apply(this,arguments)}function at(v){return tr(v,T=>{if(!sn(T))throw _t.create("not-registered");return function Tr(v){return 1===v.requestStatus&&v.requestTime+dt<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Zt(){return Zt=(0,P.Z)(function*(v,T){try{const k=yield function tt(v,T){return Rt.apply(this,arguments)}(v,T),J=Object.assign(Object.assign({},T),{authToken:k});return yield rr(v.appConfig,J),k}catch(k){if(!bt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const J=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield rr(v.appConfig,J)}else yield ir(v.appConfig);throw k}}),Zt.apply(this,arguments)}function sn(v){return void 0!==v&&2===v.registrationStatus}function Fi(){return(Fi=(0,P.Z)(function*(v){const T=v,{installationEntry:k,registrationPromise:J}=yield le(T);return J?J.catch(console.error):Nn(T).catch(console.error),k.fid})).apply(this,arguments)}function Mr(){return Mr=(0,P.Z)(function*(v,T=!1){const k=v;return yield function Sr(v){return St.apply(this,arguments)}(k),(yield Nn(k,T)).token}),Mr.apply(this,arguments)}function St(){return(St=(0,P.Z)(function*(v){const{registrationPromise:T}=yield le(v);T&&(yield T)})).apply(this,arguments)}function Li(v){return _t.create("missing-app-config-values",{valueName:v})}const on="installations",kr=v=>{const T=v.getProvider("app").getImmediate(),k=function ii(v){if(!v||!v.options)throw Li("App Configuration");if(!v.name)throw Li("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!v.options[k])throw Li(k);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ji=v=>{const T=v.getProvider("app").getImmediate(),k=(0,ce._getProvider)(T,on).getImmediate();return{getId:()=>function vr(v){return Fi.apply(this,arguments)}(k),getToken:ge=>function Qi(v){return Mr.apply(this,arguments)}(k,ge)}};(function Hr(){(0,ce._registerComponent)(new he.wA(on,kr,"PUBLIC")),(0,ce._registerComponent)(new he.wA("installations-internal",Ji,"PRIVATE"))})(),(0,ce.registerVersion)(Yt,Kt),(0,ce.registerVersion)(Yt,Kt,"esm2017");const Fn="@firebase/remote-config",Nr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qo{constructor(T,k,J,ge){this.client=T,this.storage=k,this.storageCache=J,this.logger=ge}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-k,ge=J<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ge}.`),ge}fetch(T){var k=this;return(0,P.Z)(function*(){const[J,ge]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ge&&k.isCachedDataFresh(T.cacheMaxAgeMillis,J))return ge;T.eTag=ge&&ge.eTag;const Me=yield k.client.fetch(T),Le=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&Le.push(k.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(Le),Me})()}}function Si(v=navigator){return v.languages&&v.languages[0]||v.language}class Ui{constructor(T,k,J,ge,Me,Le){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=J,this.projectId=ge,this.apiKey=Me,this.appId=Le}fetch(T){var k=this;return(0,P.Z)(function*(){const[J,ge]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},wt={sdk_version:k.sdkVersion,app_instance_id:J,app_instance_id_token:ge,app_id:k.appId,language_code:Si()},Wt={method:"POST",headers:Mt,body:JSON.stringify(wt)},_n=fetch(Le,Wt),yn=new Promise((xo,hs)=>{T.signal.addEventListener(()=>{const ya=new Error("The operation was aborted.");ya.name="AbortError",hs(ya)})});let ao;try{yield Promise.race([_n,yn]),ao=yield _n}catch(xo){let hs="fetch-client-network";throw"AbortError"===xo?.name&&(hs="fetch-timeout"),Nr.create(hs,{originalErrorMessage:xo?.message})}let Yr=ao.status;const oa=ao.headers.get("ETag")||void 0;let _a,sa;if(200===ao.status){let xo;try{xo=yield ao.json()}catch(hs){throw Nr.create("fetch-client-parse",{originalErrorMessage:hs?.message})}_a=xo.entries,sa=xo.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?Yr=500:"NO_CHANGE"===sa?Yr=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(_a={}),304!==Yr&&200!==Yr)throw Nr.create("fetch-status",{httpStatus:Yr});return{status:Yr,eTag:oa,config:_a}})()}}class Jo{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const J=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,J)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:J}){var ge=this;return(0,P.Z)(function*(){yield function Qo(v,T){return new Promise((k,J)=>{const ge=Math.max(T-Date.now(),0),Me=setTimeout(k,ge);v.addEventListener(()=>{clearTimeout(Me),J(Nr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const Me=yield ge.client.fetch(T);return yield ge.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function Bi(v){if(!(v instanceof ae.ZR&&v.customData))return!1;const T=Number(v.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Me))throw Me;const Le={throttleEndTimeMillis:Date.now()+(0,ae.$s)(J),backoffCount:J+1};return yield ge.storage.setThrottleMetadata(Le),ge.attemptFetch(T,Le)}})()}}class Ms{constructor(T,k,J,ge,Me){this.app=T,this._client=k,this._storageCache=J,this._storage=ge,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function si(v,T){const k=v.target.error||void 0;return Nr.create(T,{originalErrorMessage:k&&k?.message})}const co="app_namespace_store";class pn{constructor(T,k,J,ge=function fi(){return new Promise((v,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=J=>{T(si(J,"storage-open"))},k.onsuccess=J=>{v(J.target.result)},k.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(co,{keyPath:"compositeKey"})}}catch(k){T(Nr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=J,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const J=yield k.openDbPromise;return new Promise((ge,Me)=>{const Mt=J.transaction([co],"readonly").objectStore(co),wt=k.createCompositeKey(T);try{const Wt=Mt.get(wt);Wt.onerror=_n=>{Me(si(_n,"storage-get"))},Wt.onsuccess=_n=>{const yn=_n.target.result;ge(yn?yn.value:void 0)}}catch(Wt){Me(Nr.create("storage-get",{originalErrorMessage:Wt?.message}))}})})()}set(T,k){var J=this;return(0,P.Z)(function*(){const ge=yield J.openDbPromise;return new Promise((Me,Le)=>{const wt=ge.transaction([co],"readwrite").objectStore(co),Wt=J.createCompositeKey(T);try{const _n=wt.put({compositeKey:Wt,value:k});_n.onerror=yn=>{Le(si(yn,"storage-set"))},_n.onsuccess=()=>{Me()}}catch(_n){Le(Nr.create("storage-set",{originalErrorMessage:_n?.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const J=yield k.openDbPromise;return new Promise((ge,Me)=>{const Mt=J.transaction([co],"readwrite").objectStore(co),wt=k.createCompositeKey(T);try{const Wt=Mt.delete(wt);Wt.onerror=_n=>{Me(si(_n,"storage-delete"))},Wt.onsuccess=()=>{ge()}}catch(Wt){Me(Nr.create("storage-delete",{originalErrorMessage:Wt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ai{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),J=T.storage.getLastSuccessfulFetchTimestampMillis(),ge=T.storage.getActiveConfig(),Me=yield k;Me&&(T.lastFetchStatus=Me);const Le=yield J;Le&&(T.lastSuccessfulFetchTimestampMillis=Le);const Mt=yield ge;Mt&&(T.activeConfig=Mt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Hi(){return jr.apply(this,arguments)}function jr(){return(jr=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function ai(){(0,ce._registerComponent)(new he.wA("remote-config",function v(T,{instanceIdentifier:k}){const J=T.getProvider("app").getImmediate(),ge=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!(0,ae.hl)())throw Nr.create("indexed-db-unavailable");const{projectId:Me,apiKey:Le,appId:Mt}=J.options;if(!Me)throw Nr.create("registration-project-id");if(!Le)throw Nr.create("registration-api-key");if(!Mt)throw Nr.create("registration-app-id");const wt=new pn(Mt,J.name,k=k||"firebase"),Wt=new Ai(wt),_n=new Ie.Yd(Fn);_n.logLevel=Ie.in.ERROR;const yn=new Ui(ge,ce.SDK_VERSION,k,Me,Le,Mt),ao=new Jo(yn,wt),Yr=new qo(ao,wt,Wt,_n),oa=new Ms(J,Yr,Wt,wt,_n);return function nn(v){const T=(0,ae.m9)(v);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(oa),oa},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Fn,"0.4.4"),(0,ce.registerVersion)(Fn,"0.4.4","esm2017")}();const ps=(v,T)=>T.some(k=>v instanceof k);let mr,Pi;const ji=new WeakMap,mi=new WeakMap,ur=new WeakMap,To=new WeakMap,li=new WeakMap;let fo={get(v,T,k){if(v instanceof IDBTransaction){if("done"===T)return mi.get(v);if("objectStoreNames"===T)return v.objectStoreNames||ur.get(v);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Wr(v[T])},set:(v,T,k)=>(v[T]=k,!0),has:(v,T)=>v instanceof IDBTransaction&&("done"===T||"store"===T)||T in v};function Kn(v){return"function"==typeof v?function zs(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eo(){return Pi||(Pi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...T){return v.apply(Lr(this),T),Wr(ji.get(this))}:function(...T){return Wr(v.apply(Lr(this),T))}:function(T,...k){const J=v.call(Lr(this),T,...k);return ur.set(J,T.sort?T.sort():[T]),Wr(J)}}(v):(v instanceof IDBTransaction&&function ho(v){if(mi.has(v))return;const T=new Promise((k,J)=>{const ge=()=>{v.removeEventListener("complete",Me),v.removeEventListener("error",Le),v.removeEventListener("abort",Le)},Me=()=>{k(),ge()},Le=()=>{J(v.error||new DOMException("AbortError","AbortError")),ge()};v.addEventListener("complete",Me),v.addEventListener("error",Le),v.addEventListener("abort",Le)});mi.set(v,T)}(v),ps(v,function bo(){return mr||(mr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,fo):v)}function Wr(v){if(v instanceof IDBRequest)return function Cr(v){const T=new Promise((k,J)=>{const ge=()=>{v.removeEventListener("success",Me),v.removeEventListener("error",Le)},Me=()=>{k(Wr(v.result)),ge()},Le=()=>{J(v.error),ge()};v.addEventListener("success",Me),v.addEventListener("error",Le)});return T.then(k=>{k instanceof IDBCursor&&ji.set(k,v)}).catch(()=>{}),li.set(T,v),T}(v);if(To.has(v))return To.get(v);const T=Kn(v);return T!==v&&(To.set(v,T),li.set(T,v)),T}const Lr=v=>li.get(v);function $i(v,T,{blocked:k,upgrade:J,blocking:ge,terminated:Me}={}){const Le=indexedDB.open(v,T),Mt=Wr(Le);return J&&Le.addEventListener("upgradeneeded",wt=>{J(Wr(Le.result),wt.oldVersion,wt.newVersion,Wr(Le.transaction))}),k&&Le.addEventListener("blocked",()=>k()),Mt.then(wt=>{Me&&wt.addEventListener("close",()=>Me()),ge&&wt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Mt}function _i(v,{blocked:T}={}){const k=indexedDB.deleteDatabase(v);return T&&k.addEventListener("blocked",()=>T()),Wr(k).then(()=>{})}const Ur=["get","getKey","getAll","getAllKeys","count"],Br=["put","add","delete","clear"],ni=new Map;function an(v,T){if(!(v instanceof IDBDatabase)||T in v||"string"!=typeof T)return;if(ni.get(T))return ni.get(T);const k=T.replace(/FromIndex$/,""),J=T!==k,ge=Br.includes(k);if(!(k in(J?IDBIndex:IDBObjectStore).prototype)||!ge&&!Ur.includes(k))return;const Me=function(){var Le=(0,P.Z)(function*(Mt,...wt){const Wt=this.transaction(Mt,ge?"readwrite":"readonly");let _n=Wt.store;return J&&(_n=_n.index(wt.shift())),(yield Promise.all([_n[k](...wt),ge&&Wt.done]))[0]});return function(wt){return Le.apply(this,arguments)}}();return ni.set(T,Me),Me}!function $r(v){fo=v(fo)}(v=>({...v,get:(T,k,J)=>an(T,k)||v.get(T,k,J),has:(T,k)=>!!an(T,k)||v.has(T,k)}));const dn="/firebase-messaging-sw.js",to="/firebase-cloud-messaging-push-scope",gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cr="https://fcmregistrations.googleapis.com/v1",ts="google.c.a.c_id",po="google.c.a.c_l",go="google.c.a.ts",ms="google.c.a.e";var w=(()=>{return(v=w||(w={})).PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",w;var v})();function M(v){const T=new Uint8Array(v);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(v){const k=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(k),ge=new Uint8Array(J.length);for(let Me=0;Me<J.length;++Me)ge[Me]=J.charCodeAt(Me);return ge}const z="fcm_token_details_db",xe=5,Gt="fcm_token_object_Store";function dr(){return dr=(0,P.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(z))return null;let T=null;return(yield $i(z,xe,{upgrade:(J=(0,P.Z)(function*(ge,Me,Le,Mt){var wt;if(Me<2||!ge.objectStoreNames.contains(Gt))return;const Wt=Mt.objectStore(Gt),_n=yield Wt.index("fcmSenderId").get(v);if(yield Wt.clear(),_n)if(2===Me){const yn=_n;if(!yn.auth||!yn.p256dh||!yn.endpoint)return;T={token:yn.fcmToken,createTime:null!==(wt=yn.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:yn.auth,p256dh:yn.p256dh,endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:"string"==typeof yn.vapidKey?yn.vapidKey:M(yn.vapidKey)}}}else if(3===Me){const yn=_n;T={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:M(yn.auth),p256dh:M(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:M(yn.vapidKey)}}}else if(4===Me){const yn=_n;T={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:M(yn.auth),p256dh:M(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:M(yn.vapidKey)}}}}),function(Me,Le,Mt,wt){return J.apply(this,arguments)})})).close(),yield _i(z),yield _i("fcm_vapid_details_db"),yield _i("undefined"),function Wi(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:T}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var J}),dr.apply(this,arguments)}const mo="firebase-messaging-database",Gi=1,ui="firebase-messaging-store";let ci=null;function Jr(){return ci||(ci=$i(mo,Gi,{upgrade:(v,T)=>{0===T&&v.createObjectStore(ui)}})),ci}function Xr(v){return _o.apply(this,arguments)}function _o(){return _o=(0,P.Z)(function*(v){const T=Uo(v),J=yield(yield Jr()).transaction(ui).objectStore(ui).get(T);if(J)return J;{const ge=yield function $n(v){return dr.apply(this,arguments)}(v.appConfig.senderId);if(ge)return yield no(v,ge),ge}}),_o.apply(this,arguments)}function no(v,T){return yi.apply(this,arguments)}function yi(){return(yi=(0,P.Z)(function*(v,T){const k=Uo(v),ge=(yield Jr()).transaction(ui,"readwrite");return yield ge.objectStore(ui).put(T,k),yield ge.done,T})).apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*(v){const T=Uo(v),J=(yield Jr()).transaction(ui,"readwrite");yield J.objectStore(ui).delete(T),yield J.done})).apply(this,arguments)}function Uo({appConfig:v}){return v.appId}const Ir=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rs(v,T){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(v,T){const k=yield Ho(v),J=yo(T),ge={method:"POST",headers:k,body:JSON.stringify(J)};let Me;try{Me=yield(yield fetch(pi(v.appConfig),ge)).json()}catch(Le){throw Ir.create("token-subscribe-failed",{errorInfo:Le?.toString()})}if(Me.error)throw Ir.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw Ir.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(v,T){const k=yield Ho(v),J=yo(T.subscriptionOptions),ge={method:"PATCH",headers:k,body:JSON.stringify(J)};let Me;try{Me=yield(yield fetch(`${pi(v.appConfig)}/${T.token}`,ge)).json()}catch(Le){throw Ir.create("token-update-failed",{errorInfo:Le?.toString()})}if(Me.error)throw Ir.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw Ir.create("token-update-no-token");return Me.token})).apply(this,arguments)}function _s(v,T){return rs.apply(this,arguments)}function rs(){return(rs=(0,P.Z)(function*(v,T){const J={method:"DELETE",headers:yield Ho(v)};try{const Me=yield(yield fetch(`${pi(v.appConfig)}/${T}`,J)).json();if(Me.error)throw Ir.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(ge){throw Ir.create("token-unsubscribe-failed",{errorInfo:ge?.toString()})}})).apply(this,arguments)}function pi({projectId:v}){return`${cr}/projects/${v}/registrations`}function Ho(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,P.Z)(function*({appConfig:v,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function yo({p256dh:v,auth:T,endpoint:k,vapidKey:J}){const ge={web:{endpoint:k,auth:T,p256dh:v}};return J!==gs&&(ge.web.applicationPubKey=J),ge}const is=6048e5;function zi(){return zi=(0,P.Z)(function*(v){const T=yield function $a(v,T){return vs.apply(this,arguments)}(v.swRegistration,v.vapidKey),k={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:T.endpoint,auth:M(T.getKey("auth")),p256dh:M(T.getKey("p256dh"))},J=yield Xr(v.firebaseDependencies);if(J){if(function Os(v,T){return T.vapidKey===v.vapidKey&&T.endpoint===v.endpoint&&T.auth===v.auth&&T.p256dh===v.p256dh}(J.subscriptionOptions,k))return Date.now()>=J.createTime+is?function ar(v,T){return Ks.apply(this,arguments)}(v,{token:J.token,createTime:Date.now(),subscriptionOptions:k}):J.token;try{yield _s(v.firebaseDependencies,J.token)}catch(ge){console.warn(ge)}return io(v.firebaseDependencies,k)}return io(v.firebaseDependencies,k)}),zi.apply(this,arguments)}function Gr(){return Gr=(0,P.Z)(function*(v){const T=yield Xr(v.firebaseDependencies);T&&(yield _s(v.firebaseDependencies,T.token),yield function la(v){return ro.apply(this,arguments)}(v.firebaseDependencies));const k=yield v.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),Gr.apply(this,arguments)}function Ks(){return Ks=(0,P.Z)(function*(v,T){try{const k=yield function Ps(v,T){return ns.apply(this,arguments)}(v.firebaseDependencies,T),J=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield no(v.firebaseDependencies,J),k}catch(k){throw yield function Dr(v){return Gr.apply(this,arguments)}(v),k}}),Ks.apply(this,arguments)}function io(v,T){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,P.Z)(function*(v,T){const J={token:yield Rs(v,T),createTime:Date.now(),subscriptionOptions:T};return yield no(v,J),J.token})).apply(this,arguments)}function vs(){return(vs=(0,P.Z)(function*(v,T){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(T)})})).apply(this,arguments)}function os(v){const T={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function ss(v,T){if(!T.notification)return;v.notification={};const k=T.notification.title;k&&(v.notification.title=k);const J=T.notification.body;J&&(v.notification.body=J);const ge=T.notification.image;ge&&(v.notification.image=ge);const Me=T.notification.icon;Me&&(v.notification.icon=Me)}(T,v),function Ao(v,T){T.data&&(v.data=T.data)}(T,v),function D(v,T){var k,J,ge,Me,Le;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;v.fcmOptions={};const Mt=null!==(ge=null===(J=T.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==ge?ge:null===(Me=T.notification)||void 0===Me?void 0:Me.click_action;Mt&&(v.fcmOptions.link=Mt);const wt=null===(Le=T.fcmOptions)||void 0===Le?void 0:Le.analytics_label;wt&&(v.fcmOptions.analyticsLabel=wt)}(T,v),T}function S(v,T){const k=[];for(let J=0;J<v.length;J++)k.push(v.charAt(J)),J<T.length&&k.push(T.charAt(J));return k.join("")}function ie(v){return Ir.create("missing-app-config-values",{valueName:v})}S("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),S("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ue{constructor(T,k,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function H(v){if(!v||!v.options)throw ie("App Configuration Object");if(!v.name)throw ie("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=v;for(const J of T)if(!k[J])throw ie(J);return{appName:v.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ge,installations:k,analyticsProvider:J}}_delete(){return Promise.resolve()}}function Je(v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(dn,{scope:to}),v.swRegistration.update().catch(()=>{})}catch(T){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Vn(){return(Vn=(0,P.Z)(function*(v,T){if(!T&&!v.swRegistration&&(yield Je(v)),T||!v.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");v.swRegistration=T}})).apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(v,T){T?v.vapidKey=T:v.vapidKey||(v.vapidKey=gs)})).apply(this,arguments)}function Jn(){return Jn=(0,P.Z)(function*(v,T){if(!navigator)throw Ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ir.create("permission-blocked");return yield function Sn(v,T){return Cn.apply(this,arguments)}(v,T?.vapidKey),yield function Ln(v,T){return Vn.apply(this,arguments)}(v,T?.serviceWorkerRegistration),function So(v){return zi.apply(this,arguments)}(v)}),Jn.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(v,T,k){const J=function vi(v){switch(v){case w.NOTIFICATION_CLICKED:return"notification_open";case w.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:k[ts],message_name:k[po],message_time:k[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ei(){return ei=(0,P.Z)(function*(v,T){const k=T.data;if(!k.isFirebaseMessaging)return;v.onMessageHandler&&k.messageType===w.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(os(k)):v.onMessageHandler.next(os(k)));const J=k.data;(function L(v){return"object"==typeof v&&!!v&&ts in v})(J)&&"1"===J[ms]&&(yield function xr(v,T,k){return Ki.apply(this,arguments)}(v,k.messageType,J))}),ei.apply(this,arguments)}const Ei="@firebase/messaging",di=v=>{const T=new Ue(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function vo(v,T){return ei.apply(this,arguments)}(T,k)),T},Ns=v=>{const T=v.getProvider("messaging").getImmediate();return{getToken:J=>function hr(v,T){return Jn.apply(this,arguments)}(T,J)}};function Wa(){return xs.apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ys(){(0,ce._registerComponent)(new he.wA("messaging",di,"PUBLIC")),(0,ce._registerComponent)(new he.wA("messaging-internal",Ns,"PRIVATE")),(0,ce.registerVersion)(Ei,"0.12.4"),(0,ce.registerVersion)(Ei,"0.12.4","esm2017")}();const jo="analytics",qs="firebase_id",Sa="origin",Es=6e4,za="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ca="https://www.googletagmanager.com/gtag/js",zr=new Ie.Yd("@firebase/analytics"),Un=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ka(v){if(!v.startsWith(ca)){const T=Un.create("invalid-gtag-resource",{gtagURL:v});return zr.warn(T.message),""}return v}function Mo(v){return Promise.all(v.map(T=>T.catch(k=>k)))}function Ds(){return(Ds=(0,P.Z)(function*(v,T,k,J,ge,Me){const Le=J[ge];try{if(Le)yield T[Le];else{const wt=(yield Mo(k)).find(Wt=>Wt.measurementId===ge);wt&&(yield T[wt.appId])}}catch(Mt){zr.error(Mt)}v("config",ge,Me)})).apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(v,T,k,J,ge){try{let Me=[];if(ge&&ge.send_to){let Le=ge.send_to;Array.isArray(Le)||(Le=[Le]);const Mt=yield Mo(k);for(const wt of Le){const Wt=Mt.find(yn=>yn.measurementId===wt),_n=Wt&&T[Wt.appId];if(!_n){Me=[];break}Me.push(_n)}}0===Me.length&&(Me=Object.values(T)),yield Promise.all(Me),v("event",J,ge||{})}catch(Me){zr.error(Me)}})).apply(this,arguments)}const Ro=30,Ni=new class ha{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ya(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function _r(){return(_r=(0,P.Z)(function*(v){var T;const{appId:k,apiKey:J}=v,ge={method:"GET",headers:Ya(J)},Me=za.replace("{app-id}",k),Le=yield fetch(Me,ge);if(200!==Le.status&&304!==Le.status){let Mt="";try{const wt=yield Le.json();null!==(T=wt.error)&&void 0!==T&&T.message&&(Mt=wt.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:Mt})}return Le.json()})).apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(v,T=Ni,k){const{appId:J,apiKey:ge,measurementId:Me}=v.options;if(!J)throw Un.create("no-app-id");if(!ge){if(Me)return{measurementId:Me,appId:J};throw Un.create("no-api-key")}const Le=T.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new Vl;return setTimeout((0,P.Z)(function*(){Mt.abort()}),void 0!==k?k:Es),Qa({appId:J,apiKey:ge,measurementId:Me},Le,Mt,T)})).apply(this,arguments)}function Qa(v,T,k){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,P.Z)(function*(v,{throttleEndTimeMillis:T,backoffCount:k},J,ge=Ni){var Me;const{appId:Le,measurementId:Mt}=v;try{yield function Js(v,T){return new Promise((k,J)=>{const ge=Math.max(T-Date.now(),0),Me=setTimeout(k,ge);v.addEventListener(()=>{clearTimeout(Me),J(Un.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(J,T)}catch(wt){if(Mt)return zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:Le,measurementId:Mt};throw wt}try{const wt=yield function qa(v){return _r.apply(this,arguments)}(v);return ge.deleteThrottleMetadata(Le),wt}catch(wt){const Wt=wt;if(!function vl(v){if(!(v instanceof ae.ZR&&v.customData))return!1;const T=Number(v.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Wt)){if(ge.deleteThrottleMetadata(Le),Mt)return zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:Le,measurementId:Mt};throw wt}const _n=503===Number(null===(Me=Wt?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,ae.$s)(k,ge.intervalMillis,Ro):(0,ae.$s)(k,ge.intervalMillis),yn={throttleEndTimeMillis:Date.now()+_n,backoffCount:k+1};return ge.setThrottleMetadata(Le,yn),zr.debug(`Calling attemptFetch again in ${_n} millis`),Qa(v,yn,J,ge)}}),Qs.apply(this,arguments)}class Vl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let as,ga;function Ma(){return(Ma=(0,P.Z)(function*(v,T,k,J,ge){if(ge&&ge.global)v("event",k,J);else{const Me=yield T;v("event",k,Object.assign(Object.assign({},J),{send_to:Me}))}})).apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(){if(!(0,ae.hl)())return zr.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(v){return zr.warn(Un.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function g(){return g=(0,P.Z)(function*(v,T,k,J,ge,Me,Le){var Mt;const wt=function Aa(v){return fa.apply(this,arguments)}(v);wt.then(Yr=>{k[Yr.measurementId]=Yr.appId,v.options.measurementId&&Yr.measurementId!==v.options.measurementId&&zr.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${Yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yr=>zr.error(Yr)),T.push(wt);const Wt=function Ci(){return Go.apply(this,arguments)}().then(Yr=>{if(Yr)return J.getId()}),[_n,yn]=yield Promise.all([wt,Wt]);(function Us(v){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(ca)&&k.src.includes(v))return k;return null})(Me)||function Cs(v,T){const k=function Vs(v,T){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(v,T)),k}("firebase-js-sdk-policy",{createScriptURL:Ka}),J=document.createElement("script"),ge=`${ca}?l=${v}&id=${T}`;J.src=k?k?.createScriptURL(ge):ge,J.async=!0,document.head.appendChild(J)}(Me,_n.measurementId),ga&&(ge("consent","default",ga),function ea(v){ga=v}(void 0)),ge("js",new Date);const ao=null!==(Mt=Le?.config)&&void 0!==Mt?Mt:{};return ao[Sa]="firebase",ao.update=!0,null!=yn&&(ao[qs]=yn),ge("config",_n.measurementId,ao),as&&(ge("set",as),function Pa(v){as=v}(void 0)),_n.measurementId}),g.apply(this,arguments)}class y{constructor(T){this.app=T}_delete(){return delete f[this.app.options.appId],Promise.resolve()}}let f={},I=[];const O={};let Te,Ke,U="dataLayer",Z="gtag",It=!1;function Zr(v,T,k){!function mn(){const v=[];if((0,ae.ru)()&&v.push("This is a browser extension environment."),(0,ae.zI)()||v.push("Cookies are not available."),v.length>0){const T=v.map((J,ge)=>`(${ge+1}) ${J}`).join(" "),k=Un.create("invalid-analytics-context",{errorInfo:T});zr.warn(k.message)}}();const J=v.options.appId;if(!J)throw Un.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw Un.create("no-api-key");zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=f[J])throw Un.create("already-exists",{id:J});if(!It){!function Is(v){let T=[];Array.isArray(window[v])?T=window[v]:window[v]=T}(U);const{wrappedGtag:Me,gtagCore:Le}=function ri(v,T,k,J,ge){let Me=function(...Le){window[J].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Me=window[ge]),window[ge]=function ws(v,T,k,J){function Me(){return Me=(0,P.Z)(function*(Le,...Mt){try{if("event"===Le){const[wt,Wt]=Mt;yield function yl(v,T,k,J,ge){return $o.apply(this,arguments)}(v,T,k,wt,Wt)}else if("config"===Le){const[wt,Wt]=Mt;yield function da(v,T,k,J,ge,Me){return Ds.apply(this,arguments)}(v,T,k,J,wt,Wt)}else if("consent"===Le){const[wt]=Mt;v("consent","update",wt)}else if("get"===Le){const[wt,Wt,_n]=Mt;v("get",wt,Wt,_n)}else if("set"===Le){const[wt]=Mt;v("set",wt)}else v(Le,...Mt)}catch(wt){zr.error(wt)}}),Me.apply(this,arguments)}return function ge(Le){return Me.apply(this,arguments)}}(Me,v,T,k),{gtagCore:Me,wrappedGtag:window[ge]}}(f,I,O,U,Z);Ke=Me,Te=Le,It=!0}return f[J]=function ta(v,T,k,J,ge,Me,Le){return g.apply(this,arguments)}(v,I,O,T,Te,U,k),new y(v)}function so(){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const el="@firebase/analytics";!function tl(){(0,ce._registerComponent)(new he.wA(jo,(T,{options:k})=>Zr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new he.wA("analytics-internal",function v(T){try{const k=T.getProvider(jo).getImmediate();return{logEvent:(J,ge,Me)=>function Ql(v,T,k,J){v=(0,ae.m9)(v),function Ul(v,T,k,J,ge){return Ma.apply(this,arguments)}(Ke,f[v.app.options.appId],T,k,J).catch(ge=>zr.error(ge))}(k,J,ge,Me)}}catch(k){throw Un.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(el,"0.10.0"),(0,ce.registerVersion)(el,"0.10.0","esm2017")}();var Xl=x(4408),ra=x(7565);const El=new class nl extends ra.v{}(class eu extends Xl.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(T,k,J):(T.flush(this),0)}});var Cl=x(4986),ls=x(8505),rl=x(9468),il=x(5363);const Hl=new d.GfV("7.6.1"),us="__angularfire_symbol__analyticsIsSupportedValue",Il="__angularfire_symbol__analyticsIsSupported",Dl="__angularfire_symbol__remoteConfigIsSupportedValue",cs="__angularfire_symbol__remoteConfigIsSupported",Na="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function Tl(v,T,k){if(T){if(1===T.length)return T[0];const Me=T.filter(Le=>Le.app===k);if(1===Me.length)return Me[0]}return k.container.getProvider(v).getImmediate({optional:!0})}globalThis[Il]||(globalThis[Il]=so().then(v=>globalThis[us]=v).catch(()=>globalThis[us]=!1)),globalThis[jl]||(globalThis[jl]=Wa().then(v=>globalThis[Na]=v).catch(()=>globalThis[Na]=!1)),globalThis[cs]||(globalThis[cs]=Hi().then(v=>globalThis[Dl]=v).catch(()=>globalThis[Dl]=!1));const xa=(v,T)=>{const k=T?[T]:(0,B.C6)(),J=[];return k.forEach(ge=>{ge.container.getProvider(v).instances.forEach(Le=>{J.includes(Le)||J.push(Le)})}),J};function Ko(){}class No{constructor(T,k=El){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,J){const ge=this.zone;return this.delegate.schedule(function(Le){ge.runGuarded(()=>{T.apply(this,[Le])})},k,J)}}class ia{constructor(T){this.zone=T,this.task=null}call(T,k){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko)),k.pipe((0,ls.b)({next:J,complete:J,error:J})).subscribe(T).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ds=(()=>{class v{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new No(Zone.current)),this.insideAngular=k.run(()=>new No(Zone.current,Cl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(k){return new(k||v)(d.LFG(d.R0b))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Zo(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function Co(v){return Zo(),function Wl(v){return function(k){return(k=k.lift(new ia(v.ngZone))).pipe((0,rl.R)(v.outsideAngular),(0,il.Q)(v.insideAngular))}}(Zo())(v)}},1389:(vt,Ne,x)=>{x.d(Ne,{$:()=>dn,A:()=>oe,D:()=>We,I:()=>qn,J:()=>kr,L:()=>gr,N:()=>tr,P:()=>ta,Q:()=>pn,R:()=>Wo,U:()=>Ri,V:()=>Hi,W:()=>jr,X:()=>Mi,Y:()=>bo,Z:()=>eo,_:()=>li,a:()=>Zi,a0:()=>gs,a1:()=>ts,a2:()=>Vo,a3:()=>Gt,a4:()=>dr,a5:()=>mo,a6:()=>ui,a7:()=>Jr,a8:()=>_o,a9:()=>yi,aA:()=>Re,aB:()=>Dl,aC:()=>ir,aD:()=>lr,aE:()=>rl,aF:()=>ql,aG:()=>Ja,aH:()=>Mn,aL:()=>Eo,aO:()=>mr,aa:()=>la,ab:()=>Uo,ac:()=>ua,ad:()=>Ps,ae:()=>_s,af:()=>pi,ai:()=>is,aj:()=>zi,ak:()=>Dr,an:()=>zs,ao:()=>ss,aq:()=>Cn,ar:()=>Ei,as:()=>kt,at:()=>me,au:()=>ee,av:()=>ze,aw:()=>ao,ax:()=>wl,ay:()=>Fe,az:()=>Ye,b:()=>ks,c:()=>Ke,d:()=>Zr,e:()=>Pt,f:()=>el,g:()=>nl,h:()=>Xl,i:()=>Za,j:()=>Cl,k:()=>xo,l:()=>Yi,m:()=>Du,p:()=>ve,r:()=>Bs,s:()=>Po,u:()=>Ci});var d=x(5861),B=x(2090),P=x(6881),ce=x(7582),ae=x(1877),he=x(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new ae.Yd("@firebase/auth");function ut(_,...l){Xe.logLevel<=ae.in.ERROR&&Xe.error(`Auth (${P.SDK_VERSION}): ${_}`,...l)}function ze(_,...l){throw Ze(_,...l)}function Ye(_,...l){return Ze(_,...l)}function Qe(_,l,h){const E=Object.assign(Object.assign({},lt()),{[l]:h});return new B.LL("auth","Firebase",E).create(l,{appName:_.name})}function ot(_,l,h){if(!(l instanceof h))throw h.name!==l.constructor.name&&ze(_,"argument-error"),Qe(_,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(_,...l){if("string"!=typeof _){const h=l[0],E=[...l.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(h,...E)}return Et.create(_,...l)}function Re(_,l,...h){if(!_)throw Ze(l,...h)}function W(_){const l="INTERNAL ASSERTION FAILED: "+_;throw ut(l),new Error(l)}function kt(_,l){_||W(l)}function ct(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function zt(){return"http:"===ft()||"https:"===ft()}function ft(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class dt{constructor(l,h){this.shortDelay=l,this.longDelay=h,kt(h>l,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(_,l){kt(_.emulator,"Emulator should always be set here");const{url:h}=_.emulator;return l?`${h}${l.startsWith("/")?l.slice(1):l}`:h}class _e{static initialize(l,h,E){this.fetchImpl=l,h&&(this.headersImpl=h),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Se=new dt(3e4,6e4);function Ee(_,l){return _.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:_.tenantId}):l}function Be(_,l,h,E){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(_,l,h,E,V={}){return _t(_,V,(0,d.Z)(function*(){let Y={},be={};E&&("GET"===l?be=E:Y={body:JSON.stringify(E)});const $e=(0,B.xO)(Object.assign({key:_.config.apiKey},be)).slice(1),yt=yield _._getAdditionalHeaders();return yt["Content-Type"]="application/json",_.languageCode&&(yt["X-Firebase-Locale"]=_.languageCode),_e.fetch()(Xt(_,_.config.apiHost,h,$e),Object.assign({method:l,headers:yt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function _t(_,l,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(_,l,h){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},ye),l);try{const V=new bn(_),Y=yield Promise.race([h(),V.promise]);V.clearNetworkTimeout();const be=yield Y.json();if("needConfirmation"in be)throw An(_,"account-exists-with-different-credential",be);if(Y.ok&&!("errorMessage"in be))return be;{const $e=Y.ok?be.errorMessage:be.error.message,[yt,Nt]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw An(_,"credential-already-in-use",be);if("EMAIL_EXISTS"===yt)throw An(_,"email-already-in-use",be);if("USER_DISABLED"===yt)throw An(_,"user-disabled",be);const qt=E[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Qe(_,qt,Nt);ze(_,qt)}}catch(V){if(V instanceof B.ZR)throw V;ze(_,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function rn(_,l,h,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(_,l,h,E,V={}){const Y=yield Be(_,l,h,E,V);return"mfaPendingCredential"in Y&&ze(_,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Xt(_,l,h,E){const V=`${l}${h}?${E}`;return _.config.emulator?Rn(_.config,V):`${_.config.apiScheme}://${V}`}class bn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((h,E)=>{this.timer=setTimeout(()=>E(Ye(this.auth,"network-request-failed")),Se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(_,l,h){const E={appName:_.name};h.email&&(E.email=h.email),h.phoneNumber&&(E.phoneNumber=h.phoneNumber);const V=Ye(_,l,E);return V.customData._tokenResponse=h,V}function vn(){return(vn=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function gt(_){if(_)try{const l=new Date(Number(_));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Xn(){return(Xn=(0,d.Z)(function*(_,l=!1){const h=(0,B.m9)(_),E=yield h.getIdToken(l),V=On(E);Re(V&&V.exp&&V.auth_time&&V.iat,h.auth,"internal-error");const Y="object"==typeof V.firebase?V.firebase:void 0,be=Y?.sign_in_provider;return{claims:V,token:E,authTime:gt(wr(V.auth_time)),issuedAtTime:gt(wr(V.iat)),expirationTime:gt(wr(V.exp)),signInProvider:be||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function wr(_){return 1e3*Number(_)}function On(_){const[l,h,E]=_.split(".");if(void 0===l||void 0===h||void 0===E)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,B.tV)(h);return V?JSON.parse(V):(ut("Failed to decode base64 JWT payload"),null)}catch(V){return ut("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Ft(_,l){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(_,l,h=!1){if(h)return l;try{return yield l}catch(E){throw E instanceof B.ZR&&function Lt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}class or{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var h;if(l){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const V=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(l=!1){var h=this;if(!this.isRunning)return;const E=this.getInterval(l);this.timerId=setTimeout((0,d.Z)(function*(){yield h.iteration()}),E)}iteration(){var l=this;return(0,d.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&l.schedule(!0))}l.schedule()})()}}class er{constructor(l,h){this.createdAt=l,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(_){return yr.apply(this,arguments)}function yr(){return yr=(0,d.Z)(function*(_){var l;const h=_.auth,E=yield _.getIdToken(),V=yield Ft(_,function en(_,l){return Jt.apply(this,arguments)}(h,{idToken:E}));Re(V?.users.length,h,"internal-error");const Y=V.users[0];_._notifyReloadListener(Y);const be=null!==(l=Y.providerUserInfo)&&void 0!==l&&l.length?function Or(_){return _.map(l=>{var{providerId:h}=l,E=(0,ce._T)(l,["providerId"]);return{providerId:h,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(Y.providerUserInfo):[],$e=function tn(_,l){return[..._.filter(E=>!l.some(V=>V.providerId===E.providerId)),...l]}(_.providerData,be),qt=!!_.isAnonymous&&!(_.email&&Y.passwordHash||$e?.length),xn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:$e,metadata:new er(Y.createdAt,Y.lastLoginAt),isAnonymous:qt};Object.assign(_,xn)}),yr.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(_){const l=(0,B.m9)(_);yield Zn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(_,l){const h=yield _t(_,{},(0,d.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:V,apiKey:Y}=_.config,be=Xt(_,V,"/v1/token",`key=${Y}`),$e=yield _._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",_e.fetch()(be,{method:"POST",headers:$e,body:E})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Re(l.idToken,"internal-error"),Re(typeof l.idToken<"u","internal-error"),Re(typeof l.refreshToken<"u","internal-error");const h="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function En(_){const l=On(_);return Re(l,"internal-error"),Re(typeof l.exp<"u","internal-error"),Re(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,h)}getToken(l,h=!1){var E=this;return(0,d.Z)(function*(){return Re(!E.accessToken||E.refreshToken,l,"user-token-expired"),h||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(l,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,h){var E=this;return(0,d.Z)(function*(){const{accessToken:V,refreshToken:Y,expiresIn:be}=yield function ln(_,l){return Qn.apply(this,arguments)}(l,h);E.updateTokensAndExpiration(V,Y,Number(be))})()}updateTokensAndExpiration(l,h,E){this.refreshToken=h||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(l,h){const{refreshToken:E,accessToken:V,expirationTime:Y}=h,be=new pt;return E&&(Re("string"==typeof E,"internal-error",{appName:l}),be.refreshToken=E),V&&(Re("string"==typeof V,"internal-error",{appName:l}),be.accessToken=V),Y&&(Re("number"==typeof Y,"internal-error",{appName:l}),be.expirationTime=Y),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Yn(_,l){Re("string"==typeof _||typeof _>"u","internal-error",{appName:l})}class rr{constructor(l){var{uid:h,auth:E,stsTokenManager:V}=l,Y=(0,ce._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=E,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new er(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(l){var h=this;return(0,d.Z)(function*(){const E=yield Ft(h,h.stsTokenManager.getToken(h.auth,l));return Re(E,h.auth,"internal-error"),h.accessToken!==E&&(h.accessToken=E,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),E})()}getIdTokenResult(l){return function kn(_){return Xn.apply(this,arguments)}(this,l)}reload(){return function Hn(_){return br.apply(this,arguments)}(this)}_assign(l){this!==l&&(Re(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(h=>Object.assign({},h)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const h=new rr(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(l){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,h=!1){var E=this;return(0,d.Z)(function*(){let V=!1;l.idToken&&l.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(l),V=!0),h&&(yield Zn(E)),yield E.auth._persistUserIfCurrent(E),V&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var l=this;return(0,d.Z)(function*(){const h=yield l.getIdToken();return yield Ft(l,function $t(_,l){return vn.apply(this,arguments)}(l.auth,{idToken:h})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,h){var E,V,Y,be,$e,yt,Nt,qt;const xn=null!==(E=h.displayName)&&void 0!==E?E:void 0,lo=null!==(V=h.email)&&void 0!==V?V:void 0,js=null!==(Y=h.phoneNumber)&&void 0!==Y?Y:void 0,ll=null!==(be=h.photoURL)&&void 0!==be?be:void 0,Su=null!==($e=h.tenantId)&&void 0!==$e?$e:void 0,Ii=null!==(yt=h._redirectEventId)&&void 0!==yt?yt:void 0,Ml=null!==(Nt=h.createdAt)&&void 0!==Nt?Nt:void 0,$s=null!==(qt=h.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:Fa,emailVerified:ko,isAnonymous:Ws,providerData:Rl,stsTokenManager:ul}=h;Re(Fa&&ul,l,"internal-error");const Gs=pt.fromJSON(this.name,ul);Re("string"==typeof Fa,l,"internal-error"),Yn(xn,l.name),Yn(lo,l.name),Re("boolean"==typeof ko,l,"internal-error"),Re("boolean"==typeof Ws,l,"internal-error"),Yn(js,l.name),Yn(ll,l.name),Yn(Su,l.name),Yn(Ii,l.name),Yn(Ml,l.name),Yn($s,l.name);const au=new rr({uid:Fa,auth:l,email:lo,emailVerified:ko,displayName:xn,isAnonymous:Ws,photoURL:ll,phoneNumber:js,tenantId:Su,stsTokenManager:Gs,createdAt:Ml,lastLoginAt:$s});return Rl&&Array.isArray(Rl)&&(au.providerData=Rl.map(lu=>Object.assign({},lu))),Ii&&(au._redirectEventId=Ii),au}static _fromIdTokenResponse(l,h,E=!1){return(0,d.Z)(function*(){const V=new pt;V.updateFromServerResponse(h);const Y=new rr({uid:h.localId,auth:l,stsTokenManager:V,isAnonymous:E});return yield Zn(Y),Y})()}}const Gn=new Map;function ir(_){kt(_ instanceof Function,"Expected a class definition");let l=Gn.get(_);return l?(kt(l instanceof _,"Instance stored in cache mismatched with class"),l):(l=new _,Gn.set(_,l),l)}const tr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(h,E){var V=this;return(0,d.Z)(function*(){V.storage[h]=E})()}_get(h){var E=this;return(0,d.Z)(function*(){const V=E.storage[h];return void 0===V?null:V})()}_remove(h){var E=this;return(0,d.Z)(function*(){delete E.storage[h]})()}_addListener(h,E){}_removeListener(h,E){}}return _.type="NONE",_})();function lr(_,l,h){return`firebase:${_}:${l}:${h}`}class le{constructor(l,h,E){this.persistence=l,this.auth=h,this.userKey=E;const{config:V,name:Y}=this.auth;this.fullUserKey=lr(this.userKey,V.apiKey,Y),this.fullPersistenceKey=lr("persistence",V.apiKey,Y),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,d.Z)(function*(){const h=yield l.persistence._get(l.fullUserKey);return h?rr._fromJSON(l.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var h=this;return(0,d.Z)(function*(){if(h.persistence===l)return;const E=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=l,E?h.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,h,E="authUser"){return(0,d.Z)(function*(){if(!h.length)return new le(ir(tr),l,E);const V=(yield Promise.all(h.map(function(){var Nt=(0,d.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let Y=V[0]||ir(tr);const be=lr(E,l.config.apiKey,l.name);let $e=null;for(const Nt of h)try{const qt=yield Nt._get(be);if(qt){const xn=rr._fromJSON(l,qt);Nt!==Y&&($e=xn),Y=Nt;break}}catch{}const yt=V.filter(Nt=>Nt._shouldAllowMigration);return Y._shouldAllowMigration&&yt.length?(Y=yt[0],$e&&(yield Y._set(be,$e.toJSON())),yield Promise.all(h.map(function(){var Nt=(0,d.Z)(function*(qt){if(qt!==Y)try{yield qt._remove(be)}catch{}});return function(qt){return Nt.apply(this,arguments)}}())),new le(Y,l,E)):new le(Y,l,E)})()}}function re(_){const l=_.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(pe(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(K(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(ne(l))return"Blackberry";if(Q(l))return"Webos";if(q(l))return"Safari";if((l.includes("chrome/")||j(l))&&!l.includes("edge/"))return"Chrome";if(ee(l))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function K(_=(0,B.z$)()){return/firefox\//i.test(_)}function q(_=(0,B.z$)()){const l=_.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function j(_=(0,B.z$)()){return/crios\//i.test(_)}function pe(_=(0,B.z$)()){return/iemobile/i.test(_)}function ee(_=(0,B.z$)()){return/android/i.test(_)}function ne(_=(0,B.z$)()){return/blackberry/i.test(_)}function Q(_=(0,B.z$)()){return/webos/i.test(_)}function me(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Fe(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function jt(_=(0,B.z$)()){return me(_)||ee(_)||Q(_)||ne(_)||/windows phone/i.test(_)||pe(_)}function pr(_,l=[]){let h;switch(_){case"Browser":h=re((0,B.z$)());break;case"Worker":h=`${re((0,B.z$)())}-${_}`;break;default:h=_}const E=l.length?l.join(","):"FirebaseCore-web";return`${h}/JsCore/${P.SDK_VERSION}/${E}`}function Pe(){return(Pe=(0,d.Z)(function*(_){return(yield Be(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(_,l){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(_,l){return Be(_,"GET","/v2/recaptchaConfig",Ee(_,l))})).apply(this,arguments)}function Zt(_){return void 0!==_&&void 0!==_.getResponse}function sn(_){return void 0!==_&&void 0!==_.enterprise}class Vt{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(h=>"EMAIL_PASSWORD_PROVIDER"===h.provider&&"OFF"!==h.enforcementState)}}function gn(_){return new Promise((l,h)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=l,E.onerror=V=>{const Y=Ye("internal-error");Y.customData=V,h(Y)},E.type="text/javascript",E.charset="UTF-8",function Pn(){var _,l;return null!==(l=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==l?l:document}().appendChild(E)})}function Tr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Qi="NO_RECAPTCHA";class Mr{constructor(l){this.type="recaptcha-enterprise",this.auth=Mn(l)}verify(l="verify",h=!1){var E=this;return(0,d.Z)(function*(){function Y(){return Y=(0,d.Z)(function*($e){if(!h){if(null==$e.tenantId&&null!=$e._agentRecaptchaConfig)return $e._agentRecaptchaConfig.siteKey;if(null!=$e.tenantId&&void 0!==$e._tenantRecaptchaConfigs[$e.tenantId])return $e._tenantRecaptchaConfigs[$e.tenantId].siteKey}return new Promise(function(){var yt=(0,d.Z)(function*(Nt,qt){at($e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xn=>{if(void 0!==xn.recaptchaKey){const lo=new Vt(xn);return null==$e.tenantId?$e._agentRecaptchaConfig=lo:$e._tenantRecaptchaConfigs[$e.tenantId]=lo,Nt(lo.siteKey)}qt(new Error("recaptcha Enterprise site key undefined"))}).catch(xn=>{qt(xn)})});return function(Nt,qt){return yt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function be($e,yt,Nt){const qt=window.grecaptcha;sn(qt)?qt.enterprise.ready(()=>{qt.enterprise.execute($e,{action:l}).then(xn=>{yt(xn)}).catch(()=>{yt(Qi)})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($e,yt)=>{(function V($e){return Y.apply(this,arguments)})(E.auth).then(Nt=>{if(!h&&sn(window.grecaptcha))be(Nt,$e,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));gn("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{be(Nt,$e,yt)}).catch(qt=>{yt(qt)})}}).catch(Nt=>{yt(Nt)})})})()}}function Sr(_,l,h){return St.apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(_,l,h,E=!1){const V=new Mr(_);let Y;try{Y=yield V.verify(h)}catch{Y=yield V.verify(h,!0)}const be=Object.assign({},l);return Object.assign(be,E?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),be})).apply(this,arguments)}class cn{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,h){const E=Y=>new Promise((be,$e)=>{try{be(l(Y))}catch(yt){$e(yt)}});E.onAbort=h,this.queue.push(E);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(l){var h=this;return(0,d.Z)(function*(){if(h.auth.currentUser===l)return;const E=[];try{for(const V of h.queue)yield V(l),V.onAbort&&E.push(V.onAbort)}catch(V){E.reverse();for(const Y of E)try{Y()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}class jn{constructor(l,h,E,V){this.app=l,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=E,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(l,h){var E=this;return h&&(this._popupRedirectResolver=ir(h)),this._initializationPromise=this.queue((0,d.Z)(function*(){var V,Y;if(!E._deleted&&(E.persistenceManager=yield le.create(E,l),!E._deleted)){if(null!==(V=E._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(h),E.lastNotifiedUid=(null===(Y=E.currentUser)||void 0===Y?void 0:Y.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,d.Z)(function*(){if(l._deleted)return;const h=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||h){if(l.currentUser&&h&&l.currentUser.uid===h.uid)return l._currentUser._assign(h),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(h,!0)}})()}initializeCurrentUser(l){var h=this;return(0,d.Z)(function*(){var E;const V=yield h.assertedPersistence.getCurrentUser();let Y=V,be=!1;if(l&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const $e=null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId,yt=Y?._redirectEventId,Nt=yield h.tryRedirectSignIn(l);(!$e||$e===yt)&&Nt?.user&&(Y=Nt.user,be=!0)}if(!Y)return h.directlySetCurrentUser(null);if(!Y._redirectEventId){if(be)try{yield h.beforeStateQueue.runMiddleware(Y)}catch($e){Y=V,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject($e))}return Y?h.reloadAndSetCurrentUserOrClear(Y):h.directlySetCurrentUser(null)}return Re(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===Y._redirectEventId?h.directlySetCurrentUser(Y):h.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(l){var h=this;return(0,d.Z)(function*(){let E=null;try{E=yield h._popupRedirectResolver._completeRedirectFn(h,l,!0)}catch{yield h._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(l){var h=this;return(0,d.Z)(function*(){try{yield Zn(l)}catch(E){if("auth/network-request-failed"!==E?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Kt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var l=this;return(0,d.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var h=this;return(0,d.Z)(function*(){const E=l?(0,B.m9)(l):null;return E&&Re(E.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(E&&E._clone(h))})()}_updateCurrentUser(l,h=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return l&&Re(E.tenantId===l.tenantId,E,"tenant-id-mismatch"),h||(yield E.beforeStateQueue.runMiddleware(l)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(l),E.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,d.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var h=this;return this.queue((0,d.Z)(function*(){yield h.assertedPersistence.setPersistence(ir(l))}))}initializeRecaptchaConfig(){var l=this;return(0,d.Z)(function*(){const h=yield at(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Vt(h);null==l.tenantId?l._agentRecaptchaConfig=E:l._tenantRecaptchaConfigs[l.tenantId]=E,E.emailPasswordEnabled&&new Mr(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new B.LL("auth","Firebase",l())}onAuthStateChanged(l,h,E){return this.registerStateListener(this.authStateSubscription,l,h,E)}beforeAuthStateChanged(l,h){return this.beforeStateQueue.pushCallback(l,h)}onIdTokenChanged(l,h,E){return this.registerStateListener(this.idTokenSubscription,l,h,E)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,h){var E=this;return(0,d.Z)(function*(){const V=yield E.getOrInitRedirectPersistenceManager(h);return null===l?V.removeCurrentUser():V.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var h=this;return(0,d.Z)(function*(){if(!h.redirectPersistenceManager){const E=l&&ir(l)||h._popupRedirectResolver;Re(E,h,"argument-error"),h.redirectPersistenceManager=yield le.create(h,[ir(E._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(l){var h=this;return(0,d.Z)(function*(){var E,V;return h._isInitialized&&(yield h.queue((0,d.Z)(function*(){}))),(null===(E=h._currentUser)||void 0===E?void 0:E._redirectEventId)===l?h._currentUser:(null===(V=h.redirectUser)||void 0===V?void 0:V._redirectEventId)===l?h.redirectUser:null})()}_persistUserIfCurrent(l){var h=this;return(0,d.Z)(function*(){if(l===h.currentUser)return h.queue((0,d.Z)(function*(){return h.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(h=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,h,E,V){if(this._deleted)return()=>{};const Y="function"==typeof h?h:h.next.bind(h),be=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(be,this,"internal-error"),be.then(()=>Y(this.currentUser)),"function"==typeof h?l.addObserver(h,E,V):l.addObserver(h)}directlySetCurrentUser(l){var h=this;return(0,d.Z)(function*(){h.currentUser&&h.currentUser!==l&&h._currentUser._stopProactiveRefresh(),l&&h.isProactiveRefreshEnabled&&l._startProactiveRefresh(),h.currentUser=l,l?yield h.assertedPersistence.setCurrentUser(l):yield h.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,d.Z)(function*(){var h;const E={"X-Client-Version":l.clientVersion};l.app.options.appId&&(E["X-Firebase-gmpid"]=l.app.options.appId);const V=yield null===(h=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();V&&(E["X-Firebase-Client"]=V);const Y=yield l._getAppCheckToken();return Y&&(E["X-Firebase-AppCheck"]=Y),E})()}_getAppCheckToken(){var l=this;return(0,d.Z)(function*(){var h;const E=yield null===(h=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return E?.error&&function et(_,...l){Xe.logLevel<=ae.in.WARN&&Xe.warn(`Auth (${P.SDK_VERSION}): ${_}`,...l)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Mn(_){return(0,B.m9)(_)}class ti{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,B.ne)(h=>this.observer=h)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(_,l,h){const E=Mn(_);Re(E._canInitEmulator,E,"emulator-config-failed"),Re(/^https?:\/\//.test(l),E,"invalid-emulator-scheme");const V=!!h?.disableWarnings,Y=ii(l),{host:be,port:$e}=function Li(_){const l=ii(_),h=/(\/\/)?([^?#/]+)/.exec(_.substr(l.length));if(!h)return{host:"",port:null};const E=h[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(E);if(V){const Y=V[1];return{host:Y,port:on(E.substr(Y.length+1))}}{const[Y,be]=E.split(":");return{host:Y,port:on(be)}}}(l);E.config.emulator={url:`${Y}//${be}${null===$e?"":`:${$e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:be,port:$e,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Vi(){function _(){const l=document.createElement("p"),h=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function ii(_){const l=_.indexOf(":");return l<0?"":_.substr(0,l+1)}function on(_){if(!_)return null;const l=Number(_);return isNaN(l)?null:l}class kr{constructor(l,h){this.providerId=l,this.signInMethod=h}toJSON(){return W("not implemented")}_getIdTokenResponse(l){return W("not implemented")}_linkToIdToken(l,h){return W("not implemented")}_getReauthenticationResolver(l){return W("not implemented")}}function Ji(_,l){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:resetPassword",Ee(_,l))})).apply(this,arguments)}function Fn(_,l){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:update",Ee(_,l))})).apply(this,arguments)}function Ti(_,l){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithPassword",Ee(_,l))})).apply(this,arguments)}function nr(_,l){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:sendOobCode",Ee(_,l))})).apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(_,l){return nr(_,l)})).apply(this,arguments)}function ue(_,l){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(_,l){return nr(_,l)})).apply(this,arguments)}function Oe(_,l){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(_,l){return nr(_,l)})).apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(_,l){return nr(_,l)})).apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithEmailLink",Ee(_,l))})).apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithEmailLink",Ee(_,l))})).apply(this,arguments)}class Ut extends kr{constructor(l,h,E,V=null){super("password",E),this._email=l,this._password=h,this._tenantId=V}static _fromEmailAndPassword(l,h){return new Ut(l,h,"password")}static _fromEmailAndCode(l,h,E=null){return new Ut(l,h,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(l){var h=this;return(0,d.Z)(function*(){var E;switch(h.signInMethod){case"password":const V={returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=l._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Y=yield Sr(l,V,"signInWithPassword");return Ti(l,Y)}return Ti(l,V).catch(function(){var Y=(0,d.Z)(function*(be){if("auth/missing-recaptcha-token"===be.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $e=yield Sr(l,V,"signInWithPassword");return Ti(l,$e)}return Promise.reject(be)});return function(be){return Y.apply(this,arguments)}}());case"emailLink":return function fn(_,l){return Dn.apply(this,arguments)}(l,{email:h._email,oobCode:h._password});default:ze(l,"internal-error")}})()}_linkToIdToken(l,h){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Fn(l,{idToken:h,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function hi(_,l){return zn.apply(this,arguments)}(l,{idToken:h,email:E._email,oobCode:E._password});default:ze(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Er(_,l){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithIdp",Ee(_,l))})).apply(this,arguments)}class gr extends kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const h=new gr(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(h.idToken=l.idToken),l.accessToken&&(h.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(h.nonce=l.nonce),l.pendingToken&&(h.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(h.accessToken=l.oauthToken,h.secret=l.oauthTokenSecret):ze("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:E,signInMethod:V}=h,Y=(0,ce._T)(h,["providerId","signInMethod"]);if(!E||!V)return null;const be=new gr(E,V);return be.idToken=Y.idToken||void 0,be.accessToken=Y.accessToken||void 0,be.secret=Y.secret,be.nonce=Y.nonce,be.pendingToken=Y.pendingToken||null,be}_getIdTokenResponse(l){return Er(l,this.buildRequest())}_linkToIdToken(l,h){const E=this.buildRequest();return E.idToken=h,Er(l,E)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Er(l,h)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),l.postBody=(0,B.xO)(h)}return l}}function Si(){return(Si=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:sendVerificationCode",Ee(_,l))})).apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,l))})).apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(_,l){const h=yield rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,l));if(h.temporaryProof)throw An(_,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const oi={USER_NOT_FOUND:"user-not-found"};function Ms(){return(Ms=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,Object.assign(Object.assign({},l),{operation:"REAUTH"})),oi)})).apply(this,arguments)}class si extends kr{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,h){return new si({verificationId:l,verificationCode:h})}static _fromTokenResponse(l,h){return new si({phoneNumber:l,temporaryProof:h})}_getIdTokenResponse(l){return function Ui(_,l){return Qo.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,h){return function Bi(_,l){return Jo.apply(this,arguments)}(l,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Xo(_,l){return Ms.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:h,verificationId:E,verificationCode:V}=this.params;return l&&h?{temporaryProof:l,phoneNumber:h}:{sessionInfo:E,code:V}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:h,verificationCode:E,phoneNumber:V,temporaryProof:Y}=l;return E||h||V||Y?new si({verificationId:h,verificationCode:E,phoneNumber:V,temporaryProof:Y}):null}}class Xi{constructor(l){var h,E,V,Y,be,$e;const yt=(0,B.zd)((0,B.pd)(l)),Nt=null!==(h=yt.apiKey)&&void 0!==h?h:null,qt=null!==(E=yt.oobCode)&&void 0!==E?E:null,xn=function co(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=yt.mode)&&void 0!==V?V:null);Re(Nt&&qt&&xn,"argument-error"),this.apiKey=Nt,this.operation=xn,this.code=qt,this.continueUrl=null!==(Y=yt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(be=yt.languageCode)&&void 0!==be?be:null,this.tenantId=null!==($e=yt.tenantId)&&void 0!==$e?$e:null}static parseLink(l){const h=function es(_){const l=(0,B.zd)((0,B.pd)(_)).link,h=l?(0,B.zd)((0,B.pd)(l)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||h||l||_}(l);try{return new Xi(h)}catch{return null}}}let pn=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(h,E){return Ut._fromEmailAndPassword(h,E)}static credentialWithLink(h,E){const V=Xi.parseLink(E);return Re(V,"argument-error"),Ut._fromEmailAndCode(h,V.code,V.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ai{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ai extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Mi extends ai{static credentialFromJSON(l){const h="string"==typeof l?JSON.parse(l):l;return Re("providerId"in h&&"signInMethod"in h,"argument-error"),gr._fromParams(h)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Re(l.idToken||l.accessToken,"argument-error"),gr._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Mi.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Mi.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:h,oauthAccessToken:E,oauthTokenSecret:V,pendingToken:Y,nonce:be,providerId:$e}=l;if(!E&&!V&&!h&&!Y||!$e)return null;try{return new Mi($e)._credential({idToken:h,accessToken:E,nonce:be,pendingToken:Y})}catch{return null}}}let Ri=(()=>{class _ extends ai{constructor(){super("facebook.com")}static credential(h){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return _.credential(h.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Hi=(()=>{class _ extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(h,E){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:E})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:E,oauthAccessToken:V}=h;if(!E&&!V)return null;try{return _.credential(E,V)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),jr=(()=>{class _ extends ai{constructor(){super("github.com")}static credential(h){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return _.credential(h.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class mr extends kr{constructor(l,h){super(l,l),this.pendingToken=h}_getIdTokenResponse(l){return Er(l,this.buildRequest())}_linkToIdToken(l,h){const E=this.buildRequest();return E.idToken=h,Er(l,E)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Er(l,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:E,signInMethod:V,pendingToken:Y}=h;return E&&V&&Y&&E===V?new mr(E,Y):null}static _create(l,h){return new mr(l,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bo extends Ai{constructor(l){Re(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return bo.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return bo.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const h=mr.fromJSON(l);return Re(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:h,providerId:E}=l;if(!h||!E)return null;try{return mr._create(E,h)}catch{return null}}}let eo=(()=>{class _ extends ai{constructor(){super("twitter.com")}static credential(h,E){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:E})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:E,oauthTokenSecret:V}=h;if(!E||!V)return null;try{return _.credential(E,V)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ji(_,l){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signUp",Ee(_,l))})).apply(this,arguments)}class ur{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,h,E,V=!1){return(0,d.Z)(function*(){const Y=yield rr._fromIdTokenResponse(l,E,V),be=To(E);return new ur({user:Y,providerId:be,_tokenResponse:E,operationType:h})})()}static _forOperation(l,h,E){return(0,d.Z)(function*(){yield l._updateTokensIfNecessary(E,!0);const V=To(E);return new ur({user:l,providerId:V,_tokenResponse:E,operationType:h})})()}}function To(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function li(_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(_){var l;const h=Mn(_);if(yield h._initializationPromise,null!==(l=h.currentUser)&&void 0!==l&&l.isAnonymous)return new ur({user:h.currentUser,providerId:null,operationType:"signIn"});const E=yield ji(h,{returnSecureToken:!0}),V=yield ur._fromIdTokenResponse(h,"signIn",E,!0);return yield h._updateCurrentUser(V.user),V})).apply(this,arguments)}class ho extends B.ZR{constructor(l,h,E,V){var Y;super(h.code,h.message),this.operationType=E,this.user=V,Object.setPrototypeOf(this,ho.prototype),this.customData={appName:l.name,tenantId:null!==(Y=l.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:h.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(l,h,E,V){return new ho(l,h,E,V)}}function fo(_,l,h,E){return("reauthenticate"===l?h._getReauthenticationResolver(_):h._getIdTokenResponse(_)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?ho._fromErrorAndOperation(_,Y,l,E):Y})}function $r(_){return new Set(_.map(({providerId:l})=>l).filter(l=>!!l))}function zs(_,l){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,d.Z)(function*(_,l){const h=(0,B.m9)(_);yield $i(!0,h,l);const{providerUserInfo:E}=yield function Ct(_,l){return Tn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[l]}),V=$r(E||[]);return h.providerData=h.providerData.filter(Y=>V.has(Y.providerId)),V.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Kn.apply(this,arguments)}function Wr(_,l){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(_,l,h=!1){const E=yield Ft(_,l._linkToIdToken(_.auth,yield _.getIdToken()),h);return ur._forOperation(_,"link",E)})).apply(this,arguments)}function $i(_,l,h){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(_,l,h){yield Zn(l);const V=!1===_?"provider-already-linked":"no-such-provider";Re($r(l.providerData).has(h)===_,l.auth,V)})).apply(this,arguments)}function Ur(_,l){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(_,l,h=!1){const{auth:E}=_,V="reauthenticate";try{const Y=yield Ft(_,fo(E,V,l,_),h);Re(Y.idToken,E,"internal-error");const be=On(Y.idToken);Re(be,E,"internal-error");const{sub:$e}=be;return Re(_.uid===$e,E,"user-mismatch"),ur._forOperation(_,V,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&ze(E,"user-mismatch"),Y}})).apply(this,arguments)}function ni(_,l){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(_,l,h=!1){const E="signIn",V=yield fo(_,E,l),Y=yield ur._fromIdTokenResponse(_,E,V);return h||(yield _._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function dn(_,l){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(_,l){return ni(Mn(_),l)})).apply(this,arguments)}function gs(_,l){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(_,l){const h=(0,B.m9)(_);return yield $i(!1,h,l.providerId),Wr(h,l)})).apply(this,arguments)}function ts(_,l){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(_,l){return Ur((0,B.m9)(_),l)})).apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(_,l){return rn(_,"POST","/v1/accounts:signInWithCustomToken",Ee(_,l))})).apply(this,arguments)}function Vo(_,l){return w.apply(this,arguments)}function w(){return w=(0,d.Z)(function*(_,l){const h=Mn(_),E=yield function go(_,l){return ms.apply(this,arguments)}(h,{token:l,returnSecureToken:!0}),V=yield ur._fromIdTokenResponse(h,"signIn",E);return yield h._updateCurrentUser(V.user),V}),w.apply(this,arguments)}class M{constructor(l,h){this.factorId=l,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(l,h){return"phoneInfo"in h?R._fromServerResponse(l,h):"totpInfo"in h?z._fromServerResponse(l,h):ze(l,"internal-error")}}class R extends M{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,h){return new R(h)}}class z extends M{constructor(l){super("totp",l)}static _fromServerResponse(l,h){return new z(h)}}function xe(_,l,h){var E;Re((null===(E=h.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),Re(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),l.continueUrl=h.url,l.dynamicLinkDomain=h.dynamicLinkDomain,l.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Re(h.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),l.iOSBundleId=h.iOS.bundleId),h.android&&(Re(h.android.packageName.length>0,_,"missing-android-pkg-name"),l.androidInstallApp=h.android.installApp,l.androidMinimumVersionCode=h.android.minimumVersion,l.androidPackageName=h.android.packageName)}function Gt(_,l,h){return $n.apply(this,arguments)}function $n(){return $n=(0,d.Z)(function*(_,l,h){var E;const V=Mn(_),Y={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=V._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const be=yield Sr(V,Y,"getOobCode",!0);h&&xe(V,be,h),yield ue(V,be)}else h&&xe(V,Y,h),yield ue(V,Y).catch(function(){var be=(0,d.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const yt=yield Sr(V,Y,"getOobCode",!0);h&&xe(V,yt,h),yield ue(V,yt)}});return function($e){return be.apply(this,arguments)}}())}),$n.apply(this,arguments)}function dr(_,l,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(_,l,h){yield Ji((0,B.m9)(_),{oobCode:l,newPassword:h})})).apply(this,arguments)}function mo(_,l){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,d.Z)(function*(_,l){yield function qr(_,l){return Fr.apply(this,arguments)}((0,B.m9)(_),{oobCode:l})}),Gi.apply(this,arguments)}function ui(_,l){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(_,l){const h=(0,B.m9)(_),E=yield Ji(h,{oobCode:l}),V=E.requestType;switch(Re(V,h,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(E.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(E.mfaInfo,h,"internal-error");default:Re(E.email,h,"internal-error")}let Y=null;return E.mfaInfo&&(Y=M._fromServerResponse(Mn(h),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:Y},operation:V}})).apply(this,arguments)}function Jr(_,l){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(_,l){const{data:h}=yield ui((0,B.m9)(_),l);return h.email})).apply(this,arguments)}function _o(_,l,h){return no.apply(this,arguments)}function no(){return no=(0,d.Z)(function*(_,l,h){var E;const V=Mn(_),Y={returnSecureToken:!0,email:l,password:h,clientType:"CLIENT_TYPE_WEB"};let be;if(null!==(E=V._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Nt=yield Sr(V,Y,"signUpPassword");be=ji(V,Nt)}else be=ji(V,Y).catch(function(){var Nt=(0,d.Z)(function*(qt){if("auth/missing-recaptcha-token"===qt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const xn=yield Sr(V,Y,"signUpPassword");return ji(V,xn)}return Promise.reject(qt)});return function(qt){return Nt.apply(this,arguments)}}());const $e=yield be.catch(Nt=>Promise.reject(Nt)),yt=yield ur._fromIdTokenResponse(V,"signIn",$e);return yield V._updateCurrentUser(yt.user),yt}),no.apply(this,arguments)}function yi(_,l,h){return dn((0,B.m9)(_),pn.credential(l,h))}function la(_,l,h){return ro.apply(this,arguments)}function ro(){return ro=(0,d.Z)(function*(_,l,h){var E;const V=Mn(_),Y={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function be($e,yt){Re(yt.handleCodeInApp,V,"argument-error"),yt&&xe(V,$e,yt)}if(null!==(E=V._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const $e=yield Sr(V,Y,"getOobCode",!0);be($e,h),yield Oe(V,$e)}else be(Y,h),yield Oe(V,Y).catch(function(){var $e=(0,d.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield Sr(V,Y,"getOobCode",!0);be(Nt,h),yield Oe(V,Nt)}});return function(yt){return $e.apply(this,arguments)}}())}),ro.apply(this,arguments)}function Uo(_,l){return"EMAIL_SIGNIN"===Xi.parseLink(l)?.operation}function ua(_,l,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_),V=pn.credentialWithLink(l,h||ct());return Re(V._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),dn(E,V)})).apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:createAuthUri",Ee(_,l))})).apply(this,arguments)}function Ps(_,l){return ns.apply(this,arguments)}function ns(){return ns=(0,d.Z)(function*(_,l){const E={identifier:l,continueUri:zt()?ct():"http://localhost"},{signinMethods:V}=yield function Rs(_,l){return Bo.apply(this,arguments)}((0,B.m9)(_),E);return V||[]}),ns.apply(this,arguments)}function _s(_,l){return rs.apply(this,arguments)}function rs(){return rs=(0,d.Z)(function*(_,l){const h=(0,B.m9)(_),V={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};l&&xe(h.auth,V,l);const{email:Y}=yield function Fo(_,l){return De.apply(this,arguments)}(h.auth,V);Y!==_.email&&(yield _.reload())}),rs.apply(this,arguments)}function pi(_,l,h){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:l};h&&xe(E.auth,Y,h);const{email:be}=yield function At(_,l){return nn.apply(this,arguments)}(E.auth,Y);be!==_.email&&(yield _.reload())}),Ho.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(_,l){return Be(_,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function is(_,l){return So.apply(this,arguments)}function So(){return So=(0,d.Z)(function*(_,{displayName:l,photoURL:h}){if(void 0===l&&void 0===h)return;const E=(0,B.m9)(_),Y={idToken:yield E.getIdToken(),displayName:l,photoUrl:h,returnSecureToken:!0},be=yield Ft(E,function ys(_,l){return yo.apply(this,arguments)}(E.auth,Y));E.displayName=be.displayName||null,E.photoURL=be.photoUrl||null;const $e=E.providerData.find(({providerId:yt})=>"password"===yt);$e&&($e.displayName=E.displayName,$e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(be)}),So.apply(this,arguments)}function zi(_,l){return Gr((0,B.m9)(_),l,null)}function Dr(_,l){return Gr((0,B.m9)(_),null,l)}function Gr(_,l,h){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(_,l,h){const{auth:E}=_,Y={idToken:yield _.getIdToken(),returnSecureToken:!0};l&&(Y.email=l),h&&(Y.password=h);const be=yield Ft(_,Fn(E,Y));yield _._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class io{constructor(l,h,E={}){this.isNewUser=l,this.providerId=h,this.profile=E}}class Zs extends io{constructor(l,h,E,V){super(l,h,E),this.username=V}}class $a extends io{constructor(l,h){super(l,"facebook.com",h)}}class vs extends Zs{constructor(l,h){super(l,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Os extends io{constructor(l,h){super(l,"google.com",h)}}class os extends Zs{constructor(l,h,E){super(l,"twitter.com",h,E)}}function ss(_){const{user:l,_tokenResponse:h}=_;return l.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Ks(_){var l,h;if(!_)return null;const{providerId:E}=_,V=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Y=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&_?.idToken){const be=null===(h=null===(l=On(_.idToken))||void 0===l?void 0:l.firebase)||void 0===h?void 0:h.sign_in_provider;if(be)return new io(Y,"anonymous"!==be&&"custom"!==be?be:null)}if(!E)return null;switch(E){case"facebook.com":return new $a(Y,V);case"github.com":return new vs(Y,V);case"google.com":return new Os(Y,V);case"twitter.com":return new os(Y,V,_.screenName||null);case"custom":case"anonymous":return new io(Y,null);default:return new io(Y,E,V)}}(h)}class Vn{constructor(l,h,E){this.type=l,this.credential=h,this.auth=E}static _fromIdtoken(l,h){return new Vn("enroll",l,h)}static _fromMfaPendingCredential(l){return new Vn("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var h,E;if(l?.multiFactorSession){if(null!==(h=l.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Vn._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(E=l.multiFactorSession)&&void 0!==E&&E.idToken)return Vn._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Sn{constructor(l,h,E){this.session=l,this.hints=h,this.signInResolver=E}static _fromError(l,h){const E=Mn(l),V=h.customData._serverResponse,Y=(V.mfaInfo||[]).map($e=>M._fromServerResponse(E,$e));Re(V.mfaPendingCredential,E,"internal-error");const be=Vn._fromMfaPendingCredential(V.mfaPendingCredential);return new Sn(be,Y,function(){var $e=(0,d.Z)(function*(yt){const Nt=yield yt._process(E,be);delete V.mfaInfo,delete V.mfaPendingCredential;const qt=Object.assign(Object.assign({},V),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(h.operationType){case"signIn":const xn=yield ur._fromIdTokenResponse(E,h.operationType,qt);return yield E._updateCurrentUser(xn.user),xn;case"reauthenticate":return Re(h.user,E,"internal-error"),ur._forOperation(h.user,h.operationType,qt);default:ze(E,"internal-error")}});return function(yt){return $e.apply(this,arguments)}}())}resolveSignIn(l){var h=this;return(0,d.Z)(function*(){return h.signInResolver(l)})()}}function Cn(_,l){var h;const E=(0,B.m9)(_),V=l;return Re(l.customData.operationType,E,"argument-error"),Re(null===(h=V.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,E,"argument-error"),Sn._fromError(E,V)}class vo{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(E=>M._fromServerResponse(l.auth,E)))})}static _fromUser(l){return new vo(l)}getSession(){var l=this;return(0,d.Z)(function*(){return Vn._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,h){var E=this;return(0,d.Z)(function*(){const V=l,Y=yield E.getSession(),be=yield Ft(E.user,V._process(E.user.auth,Y,h));return yield E.user._updateTokensIfNecessary(be),E.user.reload()})()}unenroll(l){var h=this;return(0,d.Z)(function*(){const E="string"==typeof l?l:l.uid,V=yield h.user.getIdToken();try{const Y=yield Ft(h.user,function vi(_,l){return Be(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(_,l))}(h.user.auth,{idToken:V,mfaEnrollmentId:E}));h.enrolledFactors=h.enrolledFactors.filter(({uid:be})=>be!==E),yield h.user._updateTokensIfNecessary(Y),yield h.user.reload()}catch(Y){throw Y}})()}}const ei=new WeakMap;function Ei(_){const l=(0,B.m9)(_);return ei.has(l)||ei.set(l,vo._fromUser(l)),ei.get(l)}const Oi="__sak";class di{constructor(l,h){this.storageRetriever=l,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Oi,"1"),this.storage.removeItem(Oi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,h){return this.storage.setItem(l,JSON.stringify(h)),Promise.resolve()}_get(l){const h=this.storage.getItem(l);return Promise.resolve(h?JSON.parse(h):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ks=(()=>{class _ extends di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,E)=>this.onStorageEvent(h,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ns(){const _=(0,B.z$)();return q(_)||me(_)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const E of Object.keys(this.listeners)){const V=this.storage.getItem(E),Y=this.localCache[E];V!==Y&&h(E,Y,V)}}onStorageEvent(h,E=!1){if(!h.key)return void this.forAllChangedKeys(($e,yt,Nt)=>{this.notifyListeners($e,Nt)});const V=h.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $e=this.storage.getItem(V);if(h.newValue!==$e)null!==h.newValue?this.storage.setItem(V,h.newValue):this.storage.removeItem(V);else if(this.localCache[V]===h.newValue&&!E)return}const Y=()=>{const $e=this.storage.getItem(V);!E&&this.localCache[V]===$e||this.notifyListeners(V,$e)},be=this.storage.getItem(V);!function Rt(){return(0,B.w1)()&&10===document.documentMode}()||be===h.newValue||h.newValue===h.oldValue?Y():setTimeout(Y,10)}notifyListeners(h,E){this.localCache[h]=E;const V=this.listeners[h];if(V)for(const Y of Array.from(V))Y(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,E,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:E,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,E){var V=()=>super._set,Y=this;return(0,d.Z)(function*(){yield V().call(Y,h,E),Y.localCache[h]=JSON.stringify(E)})()}_get(h){var E=()=>super._get,V=this;return(0,d.Z)(function*(){const Y=yield E().call(V,h);return V.localCache[h]=JSON.stringify(Y),Y})()}_remove(h){var E=()=>super._remove,V=this;return(0,d.Z)(function*(){yield E().call(V,h),delete V.localCache[h]})()}}return _.type="LOCAL",_})(),Zi=(()=>{class _ extends di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,E){}_removeListener(h,E){}}return _.type="SESSION",_})();let Fs=(()=>{class _{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const E=this.receivers.find(Y=>Y.isListeningto(h));if(E)return E;const V=new _(h);return this.receivers.push(V),V}isListeningto(h){return this.eventTarget===h}handleEvent(h){var E=this;return(0,d.Z)(function*(){const V=h,{eventId:Y,eventType:be,data:$e}=V.data,yt=E.handlersMap[be];if(!yt?.size)return;V.ports[0].postMessage({status:"ack",eventId:Y,eventType:be});const Nt=Array.from(yt).map(function(){var xn=(0,d.Z)(function*(lo){return lo(V.origin,$e)});return function(lo){return xn.apply(this,arguments)}}()),qt=yield function Ll(_){return Promise.all(_.map(function(){var l=(0,d.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(E){return{fulfilled:!1,reason:E}}});return function(h){return l.apply(this,arguments)}}()))}(Nt);V.ports[0].postMessage({status:"done",eventId:Y,eventType:be,response:qt})})()}_subscribe(h,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(E)}_unsubscribe(h,E){this.handlersMap[h]&&E&&this.handlersMap[h].delete(E),(!E||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Eo(_="",l=10){let h="";for(let E=0;E<l;E++)h+=Math.floor(10*Math.random());return _+h}class Ga{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,h,E=50){var V=this;return(0,d.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let be,$e;return new Promise((yt,Nt)=>{const qt=Eo("",20);Y.port1.start();const xn=setTimeout(()=>{Nt(new Error("unsupported_event"))},E);$e={messageChannel:Y,onMessage(lo){const js=lo;if(js.data.eventId===qt)switch(js.data.status){case"ack":clearTimeout(xn),be=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),yt(js.data.response);break;default:clearTimeout(xn),clearTimeout(be),Nt(new Error("invalid_response"))}}},V.handlers.add($e),Y.port1.addEventListener("message",$e.onMessage),V.target.postMessage({eventType:l,eventId:qt,data:h},[Y.port2])}).finally(()=>{$e&&V.removeMessageHandler($e)})})()}}function Rr(){return window}function qs(){return typeof Rr().WorkerGlobalScope<"u"&&"function"==typeof Rr().importScripts}function Es(){return(Es=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zr="firebaseLocalStorageDb",Ls=1,Un="firebaseLocalStorage",Ka="fbase_key";class Mo{constructor(l){this.request=l}toPromise(){return new Promise((l,h)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Vs(_,l){return _.transaction([Un],l?"readwrite":"readonly").objectStore(Un)}function Is(){const _=indexedDB.open(zr,Ls);return new Promise((l,h)=>{_.addEventListener("error",()=>{h(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Un,{keyPath:Ka})}catch(V){h(V)}}),_.addEventListener("success",(0,d.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Un)?l(E):(E.close(),yield function Cs(){const _=indexedDB.deleteDatabase(zr);return new Mo(_).toPromise()}(),l(yield Is()))}))})}function da(_,l,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(_,l,h){const E=Vs(_,!0).put({[Ka]:l,value:h});return new Mo(E).toPromise()})).apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(_,l){const h=Vs(_,!1).get(l),E=yield new Mo(h).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ws(_,l){const h=Vs(_,!0).delete(l);return new Mo(h).toPromise()}const Za=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,d.Z)(function*(){return h.db||(h.db=yield Is()),h.db})()}_withRetries(h){var E=this;return(0,d.Z)(function*(){let V=0;for(;;)try{const Y=yield E._openDb();return yield h(Y)}catch(Y){if(V++>3)throw Y;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,d.Z)(function*(){return qs()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,d.Z)(function*(){h.receiver=Fs._getInstance(function ca(){return qs()?self:null}()),h.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(V,Y){return{keyProcessed:(yield h._poll()).includes(Y.key)}});return function(V,Y){return E.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(V,Y){return["keyChanged"]});return function(V,Y){return E.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,d.Z)(function*(){var E,V;if(h.activeServiceWorker=yield function Sa(){return Es.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ga(h.activeServiceWorker);const Y=yield h.sender._send("ping",{},800);Y&&null!==(E=Y[0])&&void 0!==E&&E.fulfilled&&null!==(V=Y[0])&&void 0!==V&&V.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function za(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:h},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Is();return yield da(h,Oi,"1"),yield ws(h,Oi),!0}catch{}return!1})()}_withPendingWrite(h){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield h()}finally{E.pendingWrites--}})()}_set(h,E){var V=this;return(0,d.Z)(function*(){return V._withPendingWrite((0,d.Z)(function*(){return yield V._withRetries(Y=>da(Y,h,E)),V.localCache[h]=E,V.notifyServiceWorker(h)}))})()}_get(h){var E=this;return(0,d.Z)(function*(){const V=yield E._withRetries(Y=>function yl(_,l){return $o.apply(this,arguments)}(Y,h));return E.localCache[h]=V,V})()}_remove(h){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(V=>ws(V,h)),delete E.localCache[h],E.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,d.Z)(function*(){const E=yield h._withRetries(be=>{const $e=Vs(be,!1).getAll();return new Mo($e).toPromise()});if(!E)return[];if(0!==h.pendingWrites)return[];const V=[],Y=new Set;for(const{fbase_key:be,value:$e}of E)Y.add(be),JSON.stringify(h.localCache[be])!==JSON.stringify($e)&&(h.notifyListeners(be,$e),V.push(be));for(const be of Object.keys(h.localCache))h.localCache[be]&&!Y.has(be)&&(h.notifyListeners(be,null),V.push(be));return V})()}notifyListeners(h,E){this.localCache[h]=E;const V=this.listeners[h];if(V)for(const Y of Array.from(V))Y(E)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Aa=1e12;class fa{constructor(l){this.auth=l,this.counter=Aa,this._widgets=new Map}render(l,h){const E=this.counter;return this._widgets.set(E,new Qa(l,this.auth.name,h||{})),this.counter++,E}reset(l){var h;const E=l||Aa;null===(h=this._widgets.get(E))||void 0===h||h.delete(),this._widgets.delete(E)}getResponse(l){var h;return(null===(h=this._widgets.get(l||Aa))||void 0===h?void 0:h.getResponse())||""}execute(l){var h=this;return(0,d.Z)(function*(){var E;return null===(E=h._widgets.get(l||Aa))||void 0===E||E.execute(),""})()}}class Qa{constructor(l,h,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof l?document.getElementById(l):l;Re(V,"argument-error",{appName:h}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qs(_){const l=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)l.push(h.charAt(Math.floor(Math.random()*h.length)));return l.join("")}(50);const{callback:l,"expired-callback":h}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Js=Tr("rcb"),vl=new dt(3e4,6e4);class as{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Rr().grecaptcha)||void 0===l||!l.render)}load(l,h=""){return Re(function Ul(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(h),l,"argument-error"),this.shouldResolveImmediately(h)&&Zt(Rr().grecaptcha)?Promise.resolve(Rr().grecaptcha):new Promise((E,V)=>{const Y=Rr().setTimeout(()=>{V(Ye(l,"network-request-failed"))},vl.get());Rr()[Js]=()=>{Rr().clearTimeout(Y),delete Rr()[Js];const $e=Rr().grecaptcha;if(!$e||!Zt($e))return void V(Ye(l,"internal-error"));const yt=$e.render;$e.render=(Nt,qt)=>{const xn=yt(Nt,qt);return this.counter++,xn},this.hostLanguage=h,E($e)},gn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Js,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(Y),V(Ye(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var h;return!(null===(h=Rr().grecaptcha)||void 0===h||!h.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(l){return(0,d.Z)(function*(){return new fa(l)})()}clearedOneInstance(){}}const Kr="recaptcha",pa={theme:"light",type:"image"};class Wo{constructor(l,h=Object.assign({},pa),E){this.parameters=h,this.type=Kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(E),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof l?document.getElementById(l):l;Re(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new as,this.validateStartingState()}verify(){var l=this;return(0,d.Z)(function*(){l.assertNotDestroyed();const h=yield l.render(),E=l.getAssertedRecaptcha();return E.getResponse(h)||new Promise(Y=>{const be=$e=>{$e&&(l.tokenChangeListeners.delete(be),Y($e))};l.tokenChangeListeners.add(be),l.isInvisible&&E.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return h=>{if(this.tokenChangeListeners.forEach(E=>E(h)),"function"==typeof l)l(h);else if("string"==typeof l){const E=Rr()[l];"function"==typeof E&&E(h)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,d.Z)(function*(){if(yield l.init(),!l.widgetId){let h=l.container;if(!l.isInvisible){const E=document.createElement("div");h.appendChild(E),h=E}l.widgetId=l.getAssertedRecaptcha().render(h,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,d.Z)(function*(){Re(zt()&&!qs(),l.auth,"internal-error"),yield function Ra(){let _=null;return new Promise(l=>{"complete"!==document.readyState?(_=()=>l(),window.addEventListener("load",_)):l()}).catch(l=>{throw _&&window.removeEventListener("load",_),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const h=yield function Ve(_){return Pe.apply(this,arguments)}(l.auth);Re(h,l.auth,"internal-error"),l.parameters.sitekey=h})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(l,h){this.verificationId=l,this.onConfirmation=h}confirm(l){const h=si._fromVerification(this.verificationId,l);return this.onConfirmation(h)}}function Po(_,l,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(_,l,h){const E=Mn(_),V=yield ea(E,l,(0,B.m9)(h));return new Vr(V,Y=>dn(E,Y))})).apply(this,arguments)}function Yi(_,l,h){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_);yield $i(!1,E,"phone");const V=yield ea(E.auth,l,(0,B.m9)(h));return new Vr(V,Y=>gs(E,Y))})).apply(this,arguments)}function Bs(_,l,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_),V=yield ea(E.auth,l,(0,B.m9)(h));return new Vr(V,Y=>ts(E,Y))})).apply(this,arguments)}function ea(_,l,h){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,d.Z)(function*(_,l,h){var E;const V=yield h.verify();try{let Y;if(Re("string"==typeof V,_,"argument-error"),Re(h.type===Kr,_,"argument-error"),Y="string"==typeof l?{phoneNumber:l}:l,"session"in Y){const be=Y.session;if("phoneNumber"in Y)return Re("enroll"===be.type,_,"internal-error"),(yield function hr(_,l){return Be(_,"POST","/v2/accounts/mfaEnrollment:start",Ee(_,l))}(_,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Re("signin"===be.type,_,"internal-error");const $e=(null===(E=Y.multiFactorHint)||void 0===E?void 0:E.uid)||Y.multiFactorUid;return Re($e,_,"missing-multi-factor-info"),(yield function ha(_,l){return Be(_,"POST","/v2/accounts/mfaSignIn:start",Ee(_,l))}(_,{mfaPendingCredential:be.credential,mfaEnrollmentId:$e,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield function qo(_,l){return Si.apply(this,arguments)}(_,{phoneNumber:Y.phoneNumber,recaptchaToken:V});return be}}finally{h._reset()}}),Pa.apply(this,arguments)}function Ci(_,l){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(_,l){yield Wr((0,B.m9)(_),l)})).apply(this,arguments)}let ta=(()=>{class _{constructor(h){this.providerId=_.PROVIDER_ID,this.auth=Mn(h)}verifyPhoneNumber(h,E){return ea(this.auth,h,(0,B.m9)(E))}static credential(h,E){return si._fromVerification(h,E)}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:E,temporaryProof:V}=h;return E&&V?si._fromTokenResponse(E,V):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function g(_,l){return l?ir(l):(Re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class y extends kr{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Er(l,this._buildIdpRequest())}_linkToIdToken(l,h){return Er(l,this._buildIdpRequest(h))}_getReauthenticationResolver(l){return Er(l,this._buildIdpRequest())}_buildIdpRequest(l){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(h.idToken=l),h}}function f(_){return ni(_.auth,new y(_),_.bypassAuthState)}function I(_){const{auth:l,user:h}=_;return Re(h,l,"internal-error"),Ur(h,new y(_),_.bypassAuthState)}function O(_){return U.apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(_){const{auth:l,user:h}=_;return Re(h,l,"internal-error"),Wr(h,new y(_),_.bypassAuthState)})).apply(this,arguments)}class Z{constructor(l,h,E,V,Y=!1){this.auth=l,this.resolver=E,this.user=V,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var l=this;return new Promise(function(){var h=(0,d.Z)(function*(E,V){l.pendingPromise={resolve:E,reject:V};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(Y){l.reject(Y)}});return function(E,V){return h.apply(this,arguments)}}())}onAuthEvent(l){var h=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:V,postBody:Y,tenantId:be,error:$e,type:yt}=l;if($e)return void h.reject($e);const Nt={auth:h.auth,requestUri:E,sessionId:V,tenantId:be||void 0,postBody:Y||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(yt)(Nt))}catch(qt){h.reject(qt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return f;case"linkViaPopup":case"linkViaRedirect":return O;case"reauthViaPopup":case"reauthViaRedirect":return I;default:ze(this.auth,"internal-error")}}resolve(l){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Te=new dt(2e3,1e4);function Ke(_,l,h){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(_,l,h){const E=Mn(_);ot(_,l,Ai);const V=g(E,h);return new oo(E,"signInViaPopup",l,V).executeNotNull()})).apply(this,arguments)}function Pt(_,l,h){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_);ot(E.auth,l,Ai);const V=g(E.auth,h);return new oo(E.auth,"reauthViaPopup",l,V,E).executeNotNull()})).apply(this,arguments)}function Zr(_,l,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_);ot(E.auth,l,Ai);const V=g(E.auth,h);return new oo(E.auth,"linkViaPopup",l,V,E).executeNotNull()})).apply(this,arguments)}let oo=(()=>{class _ extends Z{constructor(h,E,V,Y,be){super(h,E,Y,be),this.provider=V,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var h=this;return(0,d.Z)(function*(){const E=yield h.execute();return Re(E,h.auth,"internal-error"),E})()}onExecution(){var h=this;return(0,d.Z)(function*(){kt(1===h.filter.length,"Popup operations only handle one event");const E=Eo();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],E),h.authWindow.associatedEvent=E,h.resolver._originValidation(h.auth).catch(V=>{h.reject(V)}),h.resolver._isIframeWebStorageSupported(h.auth,V=>{V||h.reject(Ye(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const h=()=>{var E,V;this.pollId=null!==(V=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Te.get())};h()}}return _.currentPopupAction=null,_})();const so="pendingRedirect",Pr=new Map;class ma extends Z{constructor(l,h,E=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,E),this.eventId=null}execute(){var l=()=>super.execute,h=this;return(0,d.Z)(function*(){let E=Pr.get(h.auth._key());if(!E){try{const Y=(yield function na(_,l){return bs.apply(this,arguments)}(h.resolver,h.auth))?yield l().call(h):null;E=()=>Promise.resolve(Y)}catch(V){E=()=>Promise.reject(V)}Pr.set(h.auth._key(),E)}return h.bypassAuthState||Pr.set(h.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(l){var h=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===l.type)return h().call(E,l);if("unknown"!==l.type){if(l.eventId){const V=yield E.auth._redirectUserForId(l.eventId);if(V)return E.user=V,h().call(E,l);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function bs(){return(bs=(0,d.Z)(function*(_,l){const h=Xa(l),E=Ql(_);if(!(yield E._isAvailable()))return!1;const V="true"===(yield E._get(h));return yield E._remove(h),V})).apply(this,arguments)}function Bl(_,l){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(_,l){return Ql(_)._set(Xa(l),"true")})).apply(this,arguments)}function Ja(){Pr.clear()}function ql(_,l){Pr.set(_._key(),l)}function Ql(_){return ir(_._redirectPersistence)}function Xa(_){return lr(so,_.config.apiKey,_.name)}function el(_,l,h){return function Jl(_,l,h){return tl.apply(this,arguments)}(_,l,h)}function tl(){return(tl=(0,d.Z)(function*(_,l,h){const E=Mn(_);ot(_,l,Ai),yield E._initializationPromise;const V=g(E,h);return yield Bl(V,E),V._openRedirect(E,l,"signInViaRedirect")})).apply(this,arguments)}function Xl(_,l,h){return function eu(_,l,h){return ra.apply(this,arguments)}(_,l,h)}function ra(){return(ra=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_);ot(E.auth,l,Ai),yield E.auth._initializationPromise;const V=g(E.auth,h);yield Bl(V,E.auth);const Y=yield Hl(E);return V._openRedirect(E.auth,l,"reauthViaRedirect",Y)})).apply(this,arguments)}function nl(_,l,h){return function El(_,l,h){return Oa.apply(this,arguments)}(_,l,h)}function Oa(){return(Oa=(0,d.Z)(function*(_,l,h){const E=(0,B.m9)(_);ot(E.auth,l,Ai),yield E.auth._initializationPromise;const V=g(E.auth,h);yield $i(!1,E,l.providerId),yield Bl(V,E.auth);const Y=yield Hl(E);return V._openRedirect(E.auth,l,"linkViaRedirect",Y)})).apply(this,arguments)}function Cl(_,l){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(_,l){return yield Mn(_)._initializationPromise,rl(_,l,!1)})).apply(this,arguments)}function rl(_,l){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(_,l,h=!1){const E=Mn(_),V=g(E,l),be=yield new ma(E,V,h).execute();return be&&!h&&(delete be.user._redirectEventId,yield E._persistUserIfCurrent(be.user),yield E._setRedirectUser(null,l)),be})).apply(this,arguments)}function Hl(_){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(_){const l=Eo(`${_.uid}:::`);return _._redirectEventId=l,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),l})).apply(this,arguments)}class Dl{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let h=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(l,E)&&(h=!0,this.sendToConsumer(l,E),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function jl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Na(_);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=l,h=!0)),h}sendToConsumer(l,h){var E;if(l.error&&!Na(l)){const V=(null===(E=l.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";h.onError(Ye(this.auth,V))}else h.onAuthEvent(l)}isEventForConsumer(l,h){const E=null===h.eventId||!!l.eventId&&l.eventId===h.eventId;return h.filter.includes(l.type)&&E}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cs(l))}saveEventToCache(l){this.cachedEventUids.add(cs(l)),this.lastProcessedEventTime=Date.now()}}function cs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(l=>l).join("-")}function Na({type:_,error:l}){return"unknown"===_&&"auth/no-auth-event"===l?.code}function wl(_){return tu.apply(this,arguments)}function tu(){return(tu=(0,d.Z)(function*(_,l={}){return Be(_,"GET","/v1/projects",l)})).apply(this,arguments)}const nu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bl=/^https?/;function xa(){return(xa=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:l}=yield wl(_);for(const h of l)try{if(Ko(h))return}catch{}ze(_,"unauthorized-domain")})).apply(this,arguments)}function Ko(_){const l=ct(),{protocol:h,hostname:E}=new URL(l);if(_.startsWith("chrome-extension://")){const be=new URL(_);return""===be.hostname&&""===E?"chrome-extension:"===h&&_.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===h&&be.hostname===E}if(!bl.test(h))return!1;if(nu.test(_))return E===_;const V=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(E)}const No=new dt(3e4,6e4);function ia(){const _=Rr().___jsl;if(_?.H)for(const l of Object.keys(_.H))if(_.H[l].r=_.H[l].r||[],_.H[l].L=_.H[l].L||[],_.H[l].r=[..._.H[l].L],_.CP)for(let h=0;h<_.CP.length;h++)_.CP[h]=null}let Zo=null;const Yo=new dt(5e3,15e3),ka="__/auth/iframe",$l="emulator/auth/iframe",Co={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ru(_){const l=_.config;Re(l.authDomain,_,"auth-domain-config-required");const h=l.emulator?Rn(l,$l):`https://${_.config.authDomain}/${ka}`,E={apiKey:l.apiKey,appName:_.name,v:P.SDK_VERSION},V=Wl.get(_.config.apiHost);V&&(E.eid=V);const Y=_._getFrameworks();return Y.length&&(E.fw=Y.join(",")),`${h}?${(0,B.xO)(E).slice(1)}`}function v(){return v=(0,d.Z)(function*(_){const l=yield function Sl(_){return Zo=Zo||function ds(_){return new Promise((l,h)=>{var E,V,Y;function be(){ia(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{ia(),h(Ye(_,"network-request-failed"))},timeout:No.get()})}if(null!==(V=null===(E=Rr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==V&&V.Iframe)l(gapi.iframes.getContext());else{if(null===(Y=Rr().gapi)||void 0===Y||!Y.load){const $e=Tr("iframefcb");return Rr()[$e]=()=>{gapi.load?be():h(Ye(_,"network-request-failed"))},gn(`https://apis.google.com/js/api.js?onload=${$e}`).catch(yt=>h(yt))}be()}}).catch(l=>{throw Zo=null,l})}(_),Zo}(_),h=Rr().gapi;return Re(h,_,"internal-error"),l.open({where:document.body,url:ru(_),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Co,dontclear:!0},E=>new Promise(function(){var V=(0,d.Z)(function*(Y,be){yield E.restyle({setHideOnLeave:!1});const $e=Ye(_,"network-request-failed"),yt=Rr().setTimeout(()=>{be($e)},Yo.get());function Nt(){Rr().clearTimeout(yt),Y(E)}E.ping(Nt).then(Nt,()=>{be($e)})});return function(Y,be){return V.apply(this,arguments)}}()))}),v.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k=500,J=600,ge="_blank",Me="http://localhost";class Le{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wt="__/auth/handler",_n="emulator/auth/handler",yn=encodeURIComponent("fac");function ao(_,l,h,E,V,Y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)(function*(_,l,h,E,V,Y){Re(_.config.authDomain,_,"auth-domain-config-required"),Re(_.config.apiKey,_,"invalid-api-key");const be={apiKey:_.config.apiKey,appName:_.name,authType:h,redirectUrl:E,v:P.SDK_VERSION,eventId:V};if(l instanceof Ai){l.setDefaultLanguage(_.languageCode),be.providerId=l.providerId||"",(0,B.xb)(l.getCustomParameters())||(be.customParameters=JSON.stringify(l.getCustomParameters()));for(const[qt,xn]of Object.entries(Y||{}))be[qt]=xn}if(l instanceof ai){const qt=l.getScopes().filter(xn=>""!==xn);qt.length>0&&(be.scopes=qt.join(","))}_.tenantId&&(be.tid=_.tenantId);const $e=be;for(const qt of Object.keys($e))void 0===$e[qt]&&delete $e[qt];const yt=yield _._getAppCheckToken(),Nt=yt?`#${yn}=${encodeURIComponent(yt)}`:"";return`${function oa({config:_}){return _.emulator?Rn(_,_n):`https://${_.authDomain}/${Wt}`}(_)}?${(0,B.xO)($e).slice(1)}${Nt}`})).apply(this,arguments)}const _a="webStorageSupport",xo=class sa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zi,this._completeRedirectFn=rl,this._overrideRedirectResult=ql}_openPopup(l,h,E,V){var Y=this;return(0,d.Z)(function*(){var be;kt(null===(be=Y.eventManagers[l._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const $e=yield ao(l,h,E,ct(),V);return function Mt(_,l,h,E=k,V=J){const Y=Math.max((window.screen.availHeight-V)/2,0).toString(),be=Math.max((window.screen.availWidth-E)/2,0).toString();let $e="";const yt=Object.assign(Object.assign({},T),{width:E.toString(),height:V.toString(),top:Y,left:be}),Nt=(0,B.z$)().toLowerCase();h&&($e=j(Nt)?ge:h),K(Nt)&&(l=l||Me,yt.scrollbars="yes");const qt=Object.entries(yt).reduce((lo,[js,ll])=>`${lo}${js}=${ll},`,"");if(function tt(_=(0,B.z$)()){var l;return me(_)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Nt)&&"_self"!==$e)return function wt(_,l){const h=document.createElement("a");h.href=_,h.target=l;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(E)}(l||"",$e),new Le(null);const xn=window.open(l||"",$e,qt);Re(xn,_,"popup-blocked");try{xn.focus()}catch{}return new Le(xn)}(l,$e,Eo())})()}_openRedirect(l,h,E,V){var Y=this;return(0,d.Z)(function*(){return yield Y._originValidation(l),function jo(_){Rr().location.href=_}(yield ao(l,h,E,ct(),V)),new Promise(()=>{})})()}_initialize(l){const h=l._key();if(this.eventManagers[h]){const{manager:V,promise:Y}=this.eventManagers[h];return V?Promise.resolve(V):(kt(Y,"If manager is not set, promise should be"),Y)}const E=this.initAndGetManager(l);return this.eventManagers[h]={promise:E},E.catch(()=>{delete this.eventManagers[h]}),E}initAndGetManager(l){var h=this;return(0,d.Z)(function*(){const E=yield function ol(_){return v.apply(this,arguments)}(l),V=new Dl(l);return E.register("authEvent",Y=>(Re(Y?.authEvent,l,"invalid-auth-event"),{status:V.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[l._key()]={manager:V},h.iframes[l._key()]=E,V})()}_isIframeWebStorageSupported(l,h){this.iframes[l._key()].send(_a,{type:_a},V=>{var Y;const be=null===(Y=V?.[0])||void 0===Y?void 0:Y[_a];void 0!==be&&h(!!be),ze(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Tl(_){return xa.apply(this,arguments)}(l)),this.originValidationPromises[h]}get _shouldInitProactively(){return jt()||q()||me()}};class hs{constructor(l){this.factorId=l}_process(l,h,E){switch(h.type){case"enroll":return this._finalizeEnroll(l,h.credential,E);case"signin":return this._finalizeSignIn(l,h.credential);default:return W("unexpected MultiFactorSessionType")}}}class ya extends hs{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new ya(l)}_finalizeEnroll(l,h,E){return function Jn(_,l){return Be(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(_,l))}(l,{idToken:h,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,h){return function Ni(_,l){return Be(_,"POST","/v2/accounts/mfaSignIn:finalize",Ee(_,l))}(l,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Du=(()=>{class _{constructor(){}static assertion(h){return ya._fromCredential(h)}}return _.FACTOR_ID="phone",_})();var Al="@firebase/auth";class Ts{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var h=this;return(0,d.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const h=this.auth.onIdTokenChanged(E=>{l(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,h),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const h=this.internalListeners.get(l);h&&(this.internalListeners.delete(l),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function bu(_){(0,P._registerComponent)(new he.wA("auth",(l,{options:h})=>{const E=l.getProvider("app").getImmediate(),V=l.getProvider("heartbeat"),Y=l.getProvider("app-check-internal"),{apiKey:be,authDomain:$e}=E.options;Re(be&&!be.includes(":"),"invalid-api-key",{appName:E.name});const yt={apiKey:be,authDomain:$e,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(_)},Nt=new jn(E,V,Y,yt);return function wi(_,l){const h=l?.persistence||[],E=(Array.isArray(h)?h:[h]).map(ir);l?.errorMap&&_._updateErrorMap(l.errorMap),_._initializeWithPersistence(E,l?.popupRedirectResolver)}(Nt,h),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,h,E)=>{l.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",l=>{const h=Mn(l.getProvider("auth").getImmediate());return new Ts(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Al,"0.23.2",function Hs(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Al,"0.23.2","esm2017")}("Browser")},2090:(vt,Ne,x)=>{x.d(Ne,{$s:()=>ir,BH:()=>Qe,DV:()=>Tn,Dv:()=>Zn,GJ:()=>vn,L:()=>Ae,LL:()=>je,Pz:()=>Ye,Sg:()=>ot,UG:()=>W,UI:()=>Jt,US:()=>he,Wj:()=>br,Wl:()=>mt,Yr:()=>dt,ZB:()=>fe,ZR:()=>Be,aH:()=>ze,b$:()=>zt,cI:()=>rn,dS:()=>Or,eu:()=>ye,g5:()=>P,gK:()=>yr,gQ:()=>En,h$:()=>ve,hl:()=>_e,hu:()=>B,jU:()=>kt,lb:()=>tn,m9:()=>lr,ne:()=>Ft,p$:()=>oe,pd:()=>On,r3:()=>Ct,ru:()=>ct,tV:()=>se,uI:()=>Re,ug:()=>ln,vZ:()=>gt,w1:()=>Yt,w9:()=>$t,xO:()=>Xn,xb:()=>en,z$:()=>Ze,zI:()=>Se,zd:()=>wr});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},B=function(le,re){if(!le)throw P(re)},P=function(le){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+le)},ce=function(le){const re=[];let K=0;for(let q=0;q<le.length;q++){let j=le.charCodeAt(q);j<128?re[K++]=j:j<2048?(re[K++]=j>>6|192,re[K++]=63&j|128):55296==(64512&j)&&q+1<le.length&&56320==(64512&le.charCodeAt(q+1))?(j=65536+((1023&j)<<10)+(1023&le.charCodeAt(++q)),re[K++]=j>>18|240,re[K++]=j>>12&63|128,re[K++]=j>>6&63|128,re[K++]=63&j|128):(re[K++]=j>>12|224,re[K++]=j>>6&63|128,re[K++]=63&j|128)}return re},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,re){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let j=0;j<le.length;j+=3){const pe=le[j],ee=j+1<le.length,ne=ee?le[j+1]:0,Q=j+2<le.length,me=Q?le[j+2]:0;let Rt=(15&ne)<<2|me>>6,jt=63&me;Q||(jt=64,ee||(Rt=64)),q.push(K[pe>>2],K[(3&pe)<<4|ne>>4],K[Rt],K[jt])}return q.join("")},encodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(le):this.encodeByteArray(ce(le),re)},decodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(le):function(le){const re=[];let K=0,q=0;for(;K<le.length;){const j=le[K++];if(j<128)re[q++]=String.fromCharCode(j);else if(j>191&&j<224){const pe=le[K++];re[q++]=String.fromCharCode((31&j)<<6|63&pe)}else if(j>239&&j<365){const Q=((7&j)<<18|(63&le[K++])<<12|(63&le[K++])<<6|63&le[K++])-65536;re[q++]=String.fromCharCode(55296+(Q>>10)),re[q++]=String.fromCharCode(56320+(1023&Q))}else{const pe=le[K++],ee=le[K++];re[q++]=String.fromCharCode((15&j)<<12|(63&pe)<<6|63&ee)}}return re.join("")}(this.decodeStringToByteArray(le,re))},decodeStringToByteArray(le,re){this.init_();const K=re?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let j=0;j<le.length;){const pe=K[le.charAt(j++)],ne=j<le.length?K[le.charAt(j)]:0;++j;const me=j<le.length?K[le.charAt(j)]:64;++j;const tt=j<le.length?K[le.charAt(j)]:64;if(++j,null==pe||null==ne||null==me||null==tt)throw new Ie;q.push(pe<<2|ne>>4),64!==me&&(q.push(ne<<4&240|me>>2),64!==tt&&q.push(me<<6&192|tt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(le){const re=ce(le);return he.encodeByteArray(re,!0)},Ae=function(le){return ve(le).replace(/\./g,"")},se=function(le){try{return he.decodeString(le,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function oe(le){return fe(void 0,le)}function fe(le,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===le&&(le={});break;case Array:le=[];break;default:return re}for(const K in re)!re.hasOwnProperty(K)||!st(K)||(le[K]=fe(le[K],re[K]));return le}function st(le){return"__proto__"!==le}const Xe=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const le=process.env.__FIREBASE_DEFAULTS__;return le?JSON.parse(le):void 0})()||(()=>{if(typeof document>"u")return;let le;try{le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=le&&se(le[1]);return re&&JSON.parse(re)})()}catch(le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${le}`)}},ze=()=>{var le;return null===(le=Xe())||void 0===le?void 0:le.config},Ye=le=>{var re;return null===(re=Xe())||void 0===re?void 0:re[`_${le}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,K)=>{this.resolve=re,this.reject=K})}wrapCallback(re){return(K,q)=>{K?this.reject(K):this.resolve(q),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(K):re(K,q))}}}function ot(le,re){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=re||"demo-project",j=le.iat||0,pe=le.sub||le.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:j,exp:j+3600,auth_time:j,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(ee)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function W(){var le;const re=null===(le=Xe())||void 0===le?void 0:le.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kt(){return"object"==typeof self&&self.self===self}function ct(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yt(){const le=Ze();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function dt(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((le,re)=>{try{let K=!0;const q="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(q);j.onsuccess=()=>{j.result.close(),K||self.indexedDB.deleteDatabase(q),le(!0)},j.onupgradeneeded=()=>{K=!1},j.onerror=()=>{var pe;re((null===(pe=j.error)||void 0===pe?void 0:pe.message)||"")}}catch(K){re(K)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Be extends Error{constructor(re,K,q){super(K),this.code=re,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(re,K,q){this.service=re,this.serviceName=K,this.errors=q}create(re,...K){const q=K[0]||{},j=`${this.service}/${re}`,pe=this.errors[re],ee=pe?function _t(le,re){return le.replace(bt,(K,q)=>{const j=re[q];return null!=j?String(j):`<${q}?>`})}(pe,q):"Error";return new Be(j,`${this.serviceName}: ${ee} (${j}).`,q)}}const bt=/\{\$([^}]+)}/g;function rn(le){return JSON.parse(le)}function mt(le){return JSON.stringify(le)}const Xt=function(le){let re={},K={},q={},j="";try{const pe=le.split(".");re=rn(se(pe[0])||""),K=rn(se(pe[1])||""),j=pe[2],q=K.d||{},delete K.d}catch{}return{header:re,claims:K,data:q,signature:j}},$t=function(le){const K=Xt(le).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},vn=function(le){const re=Xt(le).claims;return"object"==typeof re&&!0===re.admin};function Ct(le,re){return Object.prototype.hasOwnProperty.call(le,re)}function Tn(le,re){if(Object.prototype.hasOwnProperty.call(le,re))return le[re]}function en(le){for(const re in le)if(Object.prototype.hasOwnProperty.call(le,re))return!1;return!0}function Jt(le,re,K){const q={};for(const j in le)Object.prototype.hasOwnProperty.call(le,j)&&(q[j]=re.call(K,le[j],j,le));return q}function gt(le,re){if(le===re)return!0;const K=Object.keys(le),q=Object.keys(re);for(const j of K){if(!q.includes(j))return!1;const pe=le[j],ee=re[j];if(hn(pe)&&hn(ee)){if(!gt(pe,ee))return!1}else if(pe!==ee)return!1}for(const j of q)if(!K.includes(j))return!1;return!0}function hn(le){return null!==le&&"object"==typeof le}function Xn(le){const re=[];for(const[K,q]of Object.entries(le))Array.isArray(q)?q.forEach(j=>{re.push(encodeURIComponent(K)+"="+encodeURIComponent(j))}):re.push(encodeURIComponent(K)+"="+encodeURIComponent(q));return re.length?"&"+re.join("&"):""}function wr(le){const re={};return le.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[j,pe]=q.split("=");re[decodeURIComponent(j)]=decodeURIComponent(pe)}}),re}function On(le){const re=le.indexOf("?");if(!re)return"";const K=le.indexOf("#",re);return le.substring(re,K>0?K:void 0)}class En{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(re,K){K||(K=0);const q=this.W_;if("string"==typeof re)for(let tt=0;tt<16;tt++)q[tt]=re.charCodeAt(K)<<24|re.charCodeAt(K+1)<<16|re.charCodeAt(K+2)<<8|re.charCodeAt(K+3),K+=4;else for(let tt=0;tt<16;tt++)q[tt]=re[K]<<24|re[K+1]<<16|re[K+2]<<8|re[K+3],K+=4;for(let tt=16;tt<80;tt++){const Rt=q[tt-3]^q[tt-8]^q[tt-14]^q[tt-16];q[tt]=4294967295&(Rt<<1|Rt>>>31)}let me,Fe,j=this.chain_[0],pe=this.chain_[1],ee=this.chain_[2],ne=this.chain_[3],Q=this.chain_[4];for(let tt=0;tt<80;tt++){tt<40?tt<20?(me=ne^pe&(ee^ne),Fe=1518500249):(me=pe^ee^ne,Fe=1859775393):tt<60?(me=pe&ee|ne&(pe|ee),Fe=2400959708):(me=pe^ee^ne,Fe=3395469782);const Rt=(j<<5|j>>>27)+me+Q+Fe+q[tt]&4294967295;Q=ne,ne=ee,ee=4294967295&(pe<<30|pe>>>2),pe=j,j=Rt}this.chain_[0]=this.chain_[0]+j&4294967295,this.chain_[1]=this.chain_[1]+pe&4294967295,this.chain_[2]=this.chain_[2]+ee&4294967295,this.chain_[3]=this.chain_[3]+ne&4294967295,this.chain_[4]=this.chain_[4]+Q&4294967295}update(re,K){if(null==re)return;void 0===K&&(K=re.length);const q=K-this.blockSize;let j=0;const pe=this.buf_;let ee=this.inbuf_;for(;j<K;){if(0===ee)for(;j<=q;)this.compress_(re,j),j+=this.blockSize;if("string"==typeof re){for(;j<K;)if(pe[ee]=re.charCodeAt(j),++ee,++j,ee===this.blockSize){this.compress_(pe),ee=0;break}}else for(;j<K;)if(pe[ee]=re[j],++ee,++j,ee===this.blockSize){this.compress_(pe),ee=0;break}}this.inbuf_=ee,this.total_+=K}digest(){const re=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let j=this.blockSize-1;j>=56;j--)this.buf_[j]=255&K,K/=256;this.compress_(this.buf_);let q=0;for(let j=0;j<5;j++)for(let pe=24;pe>=0;pe-=8)re[q]=this.chain_[j]>>pe&255,++q;return re}}function Ft(le,re){const K=new Tt(le,re);return K.subscribe.bind(K)}class Tt{constructor(re,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{re(this)}).catch(q=>{this.error(q)})}next(re){this.forEachObserver(K=>{K.next(re)})}error(re){this.forEachObserver(K=>{K.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,K,q){let j;if(void 0===re&&void 0===K&&void 0===q)throw new Error("Missing Observer.");j=function or(le,re){if("object"!=typeof le||null===le)return!1;for(const K of re)if(K in le&&"function"==typeof le[K])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:K,complete:q},void 0===j.next&&(j.next=er),void 0===j.error&&(j.error=er),void 0===j.complete&&(j.complete=er);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),pe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,re)}sendOne(re,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{K(this.observers[re])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function er(){}const Zn=function(le,re,K,q){let j;if(q<re?j="at least "+re:q>K&&(j=0===K?"none":"no more than "+K),j)throw new Error(le+" failed: Was called with "+q+(1===q?" argument.":" arguments.")+" Expects "+j+".")};function yr(le,re){return`${le} failed: ${re} argument `}function br(le,re,K,q){if((!q||K)&&"function"!=typeof K)throw new Error(yr(le,re)+"must be a valid function.")}function tn(le,re,K,q){if((!q||K)&&("object"!=typeof K||null===K))throw new Error(yr(le,re)+"must be a valid context object.")}const Or=function(le){const re=[];let K=0;for(let q=0;q<le.length;q++){let j=le.charCodeAt(q);if(j>=55296&&j<=56319){const pe=j-55296;q++,B(q<le.length,"Surrogate pair missing trail surrogate."),j=65536+(pe<<10)+(le.charCodeAt(q)-56320)}j<128?re[K++]=j:j<2048?(re[K++]=j>>6|192,re[K++]=63&j|128):j<65536?(re[K++]=j>>12|224,re[K++]=j>>6&63|128,re[K++]=63&j|128):(re[K++]=j>>18|240,re[K++]=j>>12&63|128,re[K++]=j>>6&63|128,re[K++]=63&j|128)}return re},ln=function(le){let re=0;for(let K=0;K<le.length;K++){const q=le.charCodeAt(K);q<128?re++:q<2048?re+=2:q>=55296&&q<=56319?(re+=4,K++):re+=3}return re},pt=1e3,Yn=2,rr=144e5,Gn=.5;function ir(le,re=pt,K=Yn){const q=re*Math.pow(K,le),j=Math.round(Gn*q*(Math.random()-.5)*2);return Math.min(rr,q+j)}function lr(le){return le&&le._delegate?le._delegate:le}},4288:(vt,Ne,x)=>{x.d(Ne,{e:()=>se});var d=x(1389),he=(x(2090),x(6881),x(1877),x(4859),x(1135)),Ie=x(2340),ve=x(4650),Ae=x(1041);let se=(()=>{class oe{constructor(st){this.auth=st,this.isAdminSubject=new he.X(!1),this.isAdmin=this.isAdminSubject.asObservable(),this.auth.user.subscribe(We=>{this.isAdminSubject.next(We?.uid===Ie.N.adminUid)})}login(){this.auth.signInWithPopup(new d.V)}logout(){this.auth.signOut()}getAuthInfo(){return this.auth.user}static#e=this.\u0275fac=function(We){return new(We||oe)(ve.LFG(Ae.zQ))};static#t=this.\u0275prov=ve.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})()},3788:(vt,Ne,x)=>{x.d(Ne,{G:()=>ce});var d=x(4650),B=x(4288),P=x(7355);let ce=(()=>{class ae{constructor(Ie,ve){this.authService=Ie,this.modalService=ve}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}login(){this.authService.login(),this.authService.getAuthInfo().subscribe(Ie=>Ie&&this.modalService.close("login-form"))}static#e=this.\u0275fac=function(ve){return new(ve||ae)(d.Y36(B.e),d.Y36(P.Z))};static#t=this.\u0275cmp=d.Xpm({type:ae,selectors:[["hp-login"]],decls:9,vars:0,consts:[[1,"hp-login-form"],[1,"hp-login-btn-container"],["alt","","src","https://raw.githubusercontent.com/NikaKlokava/hospital-portal-assets/main/svgs/google.svg",1,"hp-login-img"],[1,"hp-login-btn",3,"click"]],template:function(ve,Ae){1&ve&&(d.TgZ(0,"div",0)(1,"h3"),d._uU(2,"Login to your account"),d.qZA(),d.TgZ(3,"p"),d._uU(4,"Unlock the best of Hospital Portal now!"),d.qZA(),d.TgZ(5,"div",1),d._UZ(6,"img",2),d.TgZ(7,"button",3),d.NdJ("click",function(){return Ae.login()}),d._uU(8,"Login with Google"),d.qZA()()())},styles:['@font-face{font-family:Domine;src:url(https://fonts.gstatic.com/s/domine/v23/L0x8DFMnlVwD4h3htfqndSk.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}textarea[_ngcontent-%COMP%]{resize:none}.valid-message[_ngcontent-%COMP%]{font-size:x-small;color:red}.hp-login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:20px;align-items:center}.hp-login-form[_ngcontent-%COMP%]   .hp-login-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;border-radius:5px;background-color:#fff;min-width:200px;padding:10px;transition:.2s ease-in-out}.hp-login-form[_ngcontent-%COMP%]   .hp-login-btn-container[_ngcontent-%COMP%]   .hp-login-img[_ngcontent-%COMP%]{height:30px;cursor:pointer}.hp-login-form[_ngcontent-%COMP%]   .hp-login-btn-container[_ngcontent-%COMP%]   .hp-login-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;font-family:Domine,sans-serif;cursor:pointer}.hp-login-form[_ngcontent-%COMP%]   .hp-login-btn-container[_ngcontent-%COMP%]:hover{background-color:#a4bc41}']})}return ae})()},312:(vt,Ne,x)=>{x.d(Ne,{z:()=>ce});var d=x(4650),B=x(7355);const P=["*"];let ce=(()=>{class ae{constructor(Ie,ve){this.modalService=Ie,this.el=ve,this.element=ve.nativeElement}ngOnInit(){this.id&&(document.body.appendChild(this.element),this.element.addEventListener("click",Ie=>{"hp-modal"===Ie.target.className&&this.close()}),this.modalService.add(this))}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block"}close(){this.element.style.display="none"}static#e=this.\u0275fac=function(ve){return new(ve||ae)(d.Y36(B.Z),d.Y36(d.SBq))};static#t=this.\u0275cmp=d.Xpm({type:ae,selectors:[["hp-modal"]],inputs:{id:"id"},ngContentSelectors:P,decls:4,vars:0,consts:[[1,"hp-modal"],[1,"hp-modal-body"],[1,"hp-modal-background",3,"click"]],template:function(ve,Ae){1&ve&&(d.F$t(),d.TgZ(0,"div",0)(1,"div",1),d.Hsn(2),d.qZA()(),d.TgZ(3,"button",2),d.NdJ("click",function(){return Ae.close()}),d.qZA())},styles:['@font-face{font-family:Domine;src:url(https://fonts.gstatic.com/s/domine/v23/L0x8DFMnlVwD4h3htfqndSk.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}textarea[_ngcontent-%COMP%]{resize:none}.valid-message[_ngcontent-%COMP%]{font-size:x-small;color:red}[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .hp-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:10;overflow:auto}[_nghost-%COMP%]   .hp-modal[_ngcontent-%COMP%]   .hp-modal-body[_ngcontent-%COMP%]{position:fixed;width:30%;padding:20px;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#d5d6d2;border-radius:20px}[_nghost-%COMP%]   .hp-modal-background[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#353c3f;opacity:.9;z-index:5}']})}return ae})()},21:(vt,Ne,x)=>{x.d(Ne,{u:()=>d});var d=(()=>{return(B=d||(d={})).appointmentForm="appointment-form",B.loginForm="login-form",d;var B})()},7355:(vt,Ne,x)=>{x.d(Ne,{Z:()=>B});var d=x(4650);let B=(()=>{class P{constructor(){this.modals=[]}add(ae){this.modals.push(ae)}remove(ae){this.modals=this.modals.filter(he=>he.id!==ae)}open(ae){this.modals.find(Ie=>Ie.id===ae).open()}close(ae){this.modals.find(Ie=>Ie.id===ae)?.close()}static#e=this.\u0275fac=function(he){return new(he||P)};static#t=this.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},4501:(vt,Ne,x)=>{x.d(Ne,{f:()=>B});var d=x(4650);let B=(()=>{class P{constructor(){this.btnClick=new d.vpe}onClick(){this.btnClick.emit()}static#e=this.\u0275fac=function(he){return new(he||P)};static#t=this.\u0275cmp=d.Xpm({type:P,selectors:[["hp-styled-button"]],inputs:{btnText:"btnText",btnType:"btnType",disabled:"disabled"},outputs:{btnClick:"btnClick"},decls:2,vars:3,consts:[[1,"hp-styled-button",3,"type","disabled","click"]],template:function(he,Ie){1&he&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return Ie.onClick()}),d._uU(1),d.qZA()),2&he&&(d.Q6J("type",Ie.btnType)("disabled",Ie.disabled),d.xp6(1),d.hij(" ",Ie.btnText,"\n"))},styles:['@font-face{font-family:Domine;src:url(https://fonts.gstatic.com/s/domine/v23/L0x8DFMnlVwD4h3htfqndSk.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}textarea[_ngcontent-%COMP%]{resize:none}.valid-message[_ngcontent-%COMP%]{font-size:x-small;color:red}.hp-styled-button[_ngcontent-%COMP%]{border:none;border-radius:20px;background-color:#a4bc41;font-family:Domine,sans-serif;color:#353c3f;padding:8px 20px;transition:.2s ease-in-out;cursor:pointer}.hp-styled-button[_ngcontent-%COMP%]:hover{color:#fff}.hp-styled-button[disabled][_ngcontent-%COMP%]{opacity:.7}']})}return P})()},4466:(vt,Ne,x)=>{x.d(Ne,{m:()=>ae});var d=x(6895),B=x(2254),P=x(433),ce=x(4650);let ae=(()=>{class he{static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275mod=ce.oAB({type:he});static#n=this.\u0275inj=ce.cJS({imports:[d.ez,B.Bz,P.UX]})}return he})()},2340:(vt,Ne,x)=>{x.d(Ne,{N:()=>d});const d={production:!0,apiKey:"AIzaSyCvlnKPZbS_K9MV0lYEV1z-U_1MckBIkKg",authDomain:"hospital-b01b8.firebaseapp.com",projectId:"hospital-b01b8",storageBucket:"hospital-b01b8.appspot.com",messagingSenderId:"889523340046",appId:"1:889523340046:web:2e81b61a951d5983accd5f",measurementId:"G-6NJVRF8JG1",adminUid:"IeO6XjdtI7QI5OQoyioIHfOZgGF2"}},3843:(vt,Ne,x)=>{var d=x(1481),B=x(2254),P=x(4650),ce=x(4004),ae=x(2340),he=x(4288);let Ie=(()=>{class dt{constructor(_e,ye){this.authService=_e,this.router=ye}canActivate(_e,ye){return this.authService.getAuthInfo().pipe((0,ce.U)(Se=>!(!Se||Se.uid!==ae.N.adminUid)||(this.router.navigate(["home"]),!1)))}static#e=this.\u0275fac=function(ye){return new(ye||dt)(P.LFG(he.e),P.LFG(B.F0))};static#t=this.\u0275prov=P.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),Ae=(()=>{class dt{constructor(_e,ye){this.authService=_e,this.router=ye}canActivate(_e,ye){return this.authService.getAuthInfo().pipe((0,ce.U)(Se=>!(!Se||Se.uid===ae.N.adminUid)||(this.router.navigate(["home"]),!1)))}static#e=this.\u0275fac=function(ye){return new(ye||dt)(P.LFG(he.e),P.LFG(B.F0))};static#t=this.\u0275prov=P.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();const oe=[{path:"home",loadChildren:()=>Promise.all([x.e(21),x.e(828)]).then(x.bind(x,3828)).then(dt=>dt.HomeModule)},{path:"about",loadChildren:()=>Promise.all([x.e(21),x.e(407),x.e(364)]).then(x.bind(x,1364)).then(dt=>dt.AboutUsModule)},{path:"doctors",loadChildren:()=>Promise.all([x.e(21),x.e(407),x.e(869)]).then(x.bind(x,2869)).then(dt=>dt.DoctorsModule)},{path:"statistics",loadChildren:()=>x.e(984).then(x.bind(x,1984)).then(dt=>dt.StatisticsModule),canActivate:[(dt,Rn)=>(0,P.f3M)(Ie).canActivate(dt,Rn)]},{path:"profile",loadChildren:()=>Promise.all([x.e(21),x.e(816)]).then(x.bind(x,3816)).then(dt=>dt.ProfileModule),canActivate:[(dt,Rn)=>(0,P.f3M)(Ae).canActivate(dt,Rn)]},{path:"",redirectTo:"home",pathMatch:"full"}];let fe=(()=>{class dt{static#e=this.\u0275fac=function(ye){return new(ye||dt)};static#t=this.\u0275mod=P.oAB({type:dt});static#n=this.\u0275inj=P.cJS({imports:[B.Bz.forRoot(oe),B.Bz]})}return dt})();var st=x(21),We=x(7355),lt=x(6895),Et=x(4501),He=x(312),Xe=x(3788);const et=function(){return["statistics"]};function ut(dt,Rn){1&dt&&(P.TgZ(0,"a",2),P._uU(1,"Statistics"),P.qZA()),2&dt&&P.Q6J("routerLink",P.DdM(1,et))}function ze(dt,Rn){if(1&dt){const _e=P.EpF();P.TgZ(0,"button",9),P.NdJ("click",function(){P.CHM(_e);const Se=P.oxw(2);return P.KtG(Se.onNavigate())}),P._uU(1," My Profile "),P.qZA()}}function Ye(dt,Rn){if(1&dt){const _e=P.EpF();P.TgZ(0,"div",6),P.YNc(1,ze,2,0,"button",7),P.TgZ(2,"hp-styled-button",8),P.NdJ("btnClick",function(){P.CHM(_e);const Se=P.oxw();return P.KtG(Se.logout())}),P.qZA()()}if(2&dt){const _e=P.oxw();P.xp6(1),P.Q6J("ngIf",!_e.isAdmin),P.xp6(1),P.Q6J("btnText","Logout")("btnType","button")}}function Qe(dt,Rn){if(1&dt){const _e=P.EpF();P.TgZ(0,"hp-styled-button",10),P.NdJ("btnClick",function(){P.CHM(_e);const Se=P.oxw();return P.KtG(Se.login())}),P.qZA(),P.TgZ(1,"hp-modal",11),P._UZ(2,"hp-login"),P.qZA()}2&dt&&P.Q6J("btnType","text")("btnText","Login")}const ot=function(){return["home"]},Ze=function(){return["about"]},Re=function(){return["doctors"]};let W=(()=>{class dt{constructor(_e,ye,Se){this.router=_e,this.authService=ye,this.modalService=Se}ngOnInit(){this.userInfo=this.authService.getAuthInfo(),this.authService.isAdmin.subscribe(_e=>{this.isAdmin=_e})}login(){this.modalService.open(st.u.loginForm)}logout(){this.authService.logout(),this.router.navigate(["home"])}onNavigate(){this.router.navigate(["profile"])}static#e=this.\u0275fac=function(ye){return new(ye||dt)(P.Y36(B.F0),P.Y36(he.e),P.Y36(We.Z))};static#t=this.\u0275cmp=P.Xpm({type:dt,selectors:[["hp-header"]],decls:13,vars:11,consts:[[1,"hp-header-container"],[1,"hp-links-container"],["routerLinkActive","router-link-active",1,"hp-link-item",3,"routerLink"],["routerLinkActive","router-link-active","class","hp-link-item",3,"routerLink",4,"ngIf"],["class","hp-logout-btns-container",4,"ngIf","ngIfElse"],["showLogin",""],[1,"hp-logout-btns-container"],["class","hp-profile-btn",3,"click",4,"ngIf"],[1,"hp-logout-btn",3,"btnText","btnType","btnClick"],[1,"hp-profile-btn",3,"click"],[3,"btnType","btnText","btnClick"],["id","login-form"]],template:function(ye,Se){if(1&ye&&(P.TgZ(0,"div",0)(1,"div",1)(2,"a",2),P._uU(3,"Home"),P.qZA(),P.TgZ(4,"a",2),P._uU(5,"About us"),P.qZA(),P.TgZ(6,"a",2),P._uU(7,"Doctors"),P.qZA(),P.YNc(8,ut,2,2,"a",3),P.qZA(),P.YNc(9,Ye,3,3,"div",4),P.ALo(10,"async"),P.YNc(11,Qe,3,2,"ng-template",null,5,P.W1O),P.qZA()),2&ye){const Ee=P.MAs(12);P.xp6(2),P.Q6J("routerLink",P.DdM(8,ot)),P.xp6(2),P.Q6J("routerLink",P.DdM(9,Ze)),P.xp6(2),P.Q6J("routerLink",P.DdM(10,Re)),P.xp6(2),P.Q6J("ngIf",Se.isAdmin),P.xp6(1),P.Q6J("ngIf",P.lcZ(10,6,Se.userInfo))("ngIfElse",Ee)}},dependencies:[lt.O5,B.rH,B.Od,Et.f,He.z,Xe.G,lt.Ov],styles:['@font-face{font-family:Domine;src:url(https://fonts.gstatic.com/s/domine/v23/L0x8DFMnlVwD4h3htfqndSk.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}textarea[_ngcontent-%COMP%]{resize:none}.valid-message[_ngcontent-%COMP%]{font-size:x-small;color:red}.hp-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px;padding:10px 120px;background-color:#353c3f;justify-content:space-between}.hp-header-container[_ngcontent-%COMP%]   .hp-profile-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#fff;cursor:pointer;transition:.2s ease-in-out;font-family:Domine,sans-serif}.hp-header-container[_ngcontent-%COMP%]   .hp-profile-btn[_ngcontent-%COMP%]:hover{color:#a4bc41}.hp-header-container[_ngcontent-%COMP%]   .hp-links-container[_ngcontent-%COMP%]{display:flex;column-gap:20px}.hp-header-container[_ngcontent-%COMP%]   .hp-links-container[_ngcontent-%COMP%]   .hp-link-item[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:14px;transition:.3s ease-in-out;cursor:pointer}.hp-header-container[_ngcontent-%COMP%]   .hp-links-container[_ngcontent-%COMP%]   .hp-link-item[_ngcontent-%COMP%]:hover, .hp-header-container[_ngcontent-%COMP%]   .hp-links-container[_ngcontent-%COMP%]   .hp-link-item.router-link-active[_ngcontent-%COMP%]{color:#a4bc41}.hp-header-container[_ngcontent-%COMP%]   .hp-logout-btns-container[_ngcontent-%COMP%]{display:flex;column-gap:30px}']})}return dt})(),kt=(()=>{class dt{static#e=this.\u0275fac=function(ye){return new(ye||dt)};static#t=this.\u0275cmp=P.Xpm({type:dt,selectors:[["hp-footer"]],decls:3,vars:0,consts:[[1,"hp-footer-container"],[1,"hp-footer-content"]],template:function(ye,Se){1&ye&&(P.TgZ(0,"div",0)(1,"p",1),P._uU(2," \xa9 2024 Hospital portal. All Rights Reserved. Created by Veranika Klokava "),P.qZA()())},styles:['@font-face{font-family:Domine;src:url(https://fonts.gstatic.com/s/domine/v23/L0x8DFMnlVwD4h3htfqndSk.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Yeseva One;src:url(YesevaOne-Regular.2de61558739628c3.ttf) format("truetype");font-weight:400;font-style:normal}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Domine,sans-serif}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#353c3f}p[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#a4bc41}textarea[_ngcontent-%COMP%]{resize:none}.valid-message[_ngcontent-%COMP%]{font-size:x-small;color:red}.hp-footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px;padding:10px 120px;background-color:#353c3f}.hp-footer-container[_ngcontent-%COMP%]   .hp-footer-content[_ngcontent-%COMP%]{color:#fff}']})}return dt})(),ct=(()=>{class dt{static#e=this.\u0275fac=function(ye){return new(ye||dt)};static#t=this.\u0275cmp=P.Xpm({type:dt,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"hp-container"],[1,"hp-content"]],template:function(ye,Se){1&ye&&(P.TgZ(0,"div",0),P._UZ(1,"hp-header"),P.TgZ(2,"div",1),P._UZ(3,"router-outlet"),P.qZA(),P._UZ(4,"hp-footer"),P.qZA())},dependencies:[B.lC,W,kt],styles:[".hp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.hp-container[_ngcontent-%COMP%]   .hp-content[_ngcontent-%COMP%]{flex:auto}"]})}return dt})();var zt=x(4466),ft=x(2011),Yt=x(9532);let Kt=(()=>{class dt{static#e=this.\u0275fac=function(ye){return new(ye||dt)};static#t=this.\u0275mod=P.oAB({type:dt,bootstrap:[ct]});static#n=this.\u0275inj=P.cJS({imports:[d.b2,fe,zt.m,Yt.JS,ft.hO.initializeApp({apiKey:ae.N.apiKey,authDomain:ae.N.authDomain,projectId:ae.N.projectId,storageBucket:ae.N.storageBucket,messagingSenderId:ae.N.messagingSenderId,appId:ae.N.appId,measurementId:ae.N.measurementId})]})}return dt})();d.q6().bootstrapModule(Kt).catch(dt=>console.error(dt))},1135:(vt,Ne,x)=>{x.d(Ne,{X:()=>B});var d=x(7579);class B extends d.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const ae=super._subscribe(ce);return!ae.closed&&ce.next(this._value),ae}getValue(){const{hasError:ce,thrownError:ae,_value:he}=this;if(ce)throw ae;return this._throwIfClosed(),he}next(ce){super.next(this._value=ce)}}},9751:(vt,Ne,x)=>{x.d(Ne,{y:()=>ve});var d=x(930),B=x(727),P=x(8822),ce=x(9635),ae=x(2416),he=x(576),Ie=x(2806);let ve=(()=>{class fe{constructor(We){We&&(this._subscribe=We)}lift(We){const lt=new fe;return lt.source=this,lt.operator=We,lt}subscribe(We,lt,Et){const He=function oe(fe){return fe&&fe instanceof d.Lv||function se(fe){return fe&&(0,he.m)(fe.next)&&(0,he.m)(fe.error)&&(0,he.m)(fe.complete)}(fe)&&(0,B.Nn)(fe)}(We)?We:new d.Hp(We,lt,Et);return(0,Ie.x)(()=>{const{operator:Xe,source:et}=this;He.add(Xe?Xe.call(He,et):et?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(We){try{return this._subscribe(We)}catch(lt){We.error(lt)}}forEach(We,lt){return new(lt=Ae(lt))((Et,He)=>{const Xe=new d.Hp({next:et=>{try{We(et)}catch(ut){He(ut),Xe.unsubscribe()}},error:He,complete:Et});this.subscribe(Xe)})}_subscribe(We){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(We)}[P.L](){return this}pipe(...We){return(0,ce.U)(We)(this)}toPromise(We){return new(We=Ae(We))((lt,Et)=>{let He;this.subscribe(Xe=>He=Xe,Xe=>Et(Xe),()=>lt(He))})}}return fe.create=st=>new fe(st),fe})();function Ae(fe){var st;return null!==(st=fe??ae.v.Promise)&&void 0!==st?st:Promise}},4707:(vt,Ne,x)=>{x.d(Ne,{t:()=>P});var d=x(7579),B=x(6063);class P extends d.x{constructor(ae=1/0,he=1/0,Ie=B.l){super(),this._bufferSize=ae,this._windowTime=he,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=he===1/0,this._bufferSize=Math.max(1,ae),this._windowTime=Math.max(1,he)}next(ae){const{isStopped:he,_buffer:Ie,_infiniteTimeWindow:ve,_timestampProvider:Ae,_windowTime:se}=this;he||(Ie.push(ae),!ve&&Ie.push(Ae.now()+se)),this._trimBuffer(),super.next(ae)}_subscribe(ae){this._throwIfClosed(),this._trimBuffer();const he=this._innerSubscribe(ae),{_infiniteTimeWindow:Ie,_buffer:ve}=this,Ae=ve.slice();for(let se=0;se<Ae.length&&!ae.closed;se+=Ie?1:2)ae.next(Ae[se]);return this._checkFinalizedStatuses(ae),he}_trimBuffer(){const{_bufferSize:ae,_timestampProvider:he,_buffer:Ie,_infiniteTimeWindow:ve}=this,Ae=(ve?1:2)*ae;if(ae<1/0&&Ae<Ie.length&&Ie.splice(0,Ie.length-Ae),!ve){const se=he.now();let oe=0;for(let fe=1;fe<Ie.length&&Ie[fe]<=se;fe+=2)oe=fe;oe&&Ie.splice(0,oe+1)}}}},7579:(vt,Ne,x)=>{x.d(Ne,{x:()=>Ie});var d=x(9751),B=x(727);const ce=(0,x(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=x(8737),he=x(2806);let Ie=(()=>{class Ae extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const fe=new ve(this,this);return fe.operator=oe,fe}_throwIfClosed(){if(this.closed)throw new ce}next(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(oe)}})}error(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:fe}=this;for(;fe.length;)fe.shift().error(oe)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:fe,isStopped:st,observers:We}=this;return fe||st?B.Lc:(this.currentObservers=null,We.push(oe),new B.w0(()=>{this.currentObservers=null,(0,ae.P)(We,oe)}))}_checkFinalizedStatuses(oe){const{hasError:fe,thrownError:st,isStopped:We}=this;fe?oe.error(st):We&&oe.complete()}asObservable(){const oe=new d.y;return oe.source=this,oe}}return Ae.create=(se,oe)=>new ve(se,oe),Ae})();class ve extends Ie{constructor(se,oe){super(),this.destination=se,this.source=oe}next(se){var oe,fe;null===(fe=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===fe||fe.call(oe,se)}error(se){var oe,fe;null===(fe=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===fe||fe.call(oe,se)}complete(){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===oe||oe.call(se)}_subscribe(se){var oe,fe;return null!==(fe=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(se))&&void 0!==fe?fe:B.Lc}}},930:(vt,Ne,x)=>{x.d(Ne,{Hp:()=>Et,Lv:()=>fe});var d=x(576),B=x(727),P=x(2416),ce=x(7849),ae=x(5032);const he=Ae("C",void 0,void 0);function Ae(ze,Ye,Qe){return{kind:ze,value:Ye,error:Qe}}var se=x(3410),oe=x(2806);class fe extends B.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,B.Nn)(Ye)&&Ye.add(this)):this.destination=ut}static create(Ye,Qe,ot){return new Et(Ye,Qe,ot)}next(Ye){this.isStopped?et(function ve(ze){return Ae("N",ze,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?et(function Ie(ze){return Ae("E",void 0,ze)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?et(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function We(ze,Ye){return st.call(ze,Ye)}class lt{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Ye)}catch(ot){He(ot)}}error(Ye){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Ye)}catch(ot){He(ot)}else He(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Qe){He(Qe)}}}class Et extends fe{constructor(Ye,Qe,ot){let Ze;if(super(),(0,d.m)(Ye)||!Ye)Ze={next:Ye??void 0,error:Qe??void 0,complete:ot??void 0};else{let Re;this&&P.v.useDeprecatedNextContext?(Re=Object.create(Ye),Re.unsubscribe=()=>this.unsubscribe(),Ze={next:Ye.next&&We(Ye.next,Re),error:Ye.error&&We(Ye.error,Re),complete:Ye.complete&&We(Ye.complete,Re)}):Ze=Ye}this.destination=new lt(Ze)}}function He(ze){P.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(ze):(0,ce.h)(ze)}function et(ze,Ye){const{onStoppedNotification:Qe}=P.v;Qe&&se.z.setTimeout(()=>Qe(ze,Ye))}const ut={closed:!0,next:ae.Z,error:function Xe(ze){throw ze},complete:ae.Z}},727:(vt,Ne,x)=>{x.d(Ne,{Lc:()=>he,w0:()=>ae,Nn:()=>Ie});var d=x(576);const P=(0,x(3888).d)(Ae=>function(oe){Ae(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((fe,st)=>`${st+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ce=x(8737);class ae{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const We of oe)We.remove(this);else oe.remove(this);const{initialTeardown:fe}=this;if((0,d.m)(fe))try{fe()}catch(We){se=We instanceof P?We.errors:[We]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const We of st)try{ve(We)}catch(lt){se=se??[],lt instanceof P?se=[...se,...lt.errors]:se.push(lt)}}if(se)throw new P(se)}}add(se){var oe;if(se&&se!==this)if(this.closed)ve(se);else{if(se instanceof ae){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(se)}}_hasParent(se){const{_parentage:oe}=this;return oe===se||Array.isArray(oe)&&oe.includes(se)}_addParent(se){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(se),oe):oe?[oe,se]:se}_removeParent(se){const{_parentage:oe}=this;oe===se?this._parentage=null:Array.isArray(oe)&&(0,ce.P)(oe,se)}remove(se){const{_finalizers:oe}=this;oe&&(0,ce.P)(oe,se),se instanceof ae&&se._removeParent(this)}}ae.EMPTY=(()=>{const Ae=new ae;return Ae.closed=!0,Ae})();const he=ae.EMPTY;function Ie(Ae){return Ae instanceof ae||Ae&&"closed"in Ae&&(0,d.m)(Ae.remove)&&(0,d.m)(Ae.add)&&(0,d.m)(Ae.unsubscribe)}function ve(Ae){(0,d.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(vt,Ne,x)=>{x.d(Ne,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ne,x)=>{x.d(Ne,{E:()=>B});const B=new(x(9751).y)(ae=>ae.complete())},8996:(vt,Ne,x)=>{x.d(Ne,{D:()=>Ye});var d=x(8421),B=x(5363),P=x(9468),he=x(9751),ve=x(2202),Ae=x(576),se=x(9672);function fe(Qe,ot){if(!Qe)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,se.f)(Ze,ot,()=>{const Re=Qe[Symbol.asyncIterator]();(0,se.f)(Ze,ot,()=>{Re.next().then(W=>{W.done?Ze.complete():Ze.next(W.value)})},0,!0)})})}var st=x(3670),We=x(8239),lt=x(1144),Et=x(6495),He=x(2206),Xe=x(4532),et=x(3260);function Ye(Qe,ot){return ot?function ze(Qe,ot){if(null!=Qe){if((0,st.c)(Qe))return function ce(Qe,ot){return(0,d.Xf)(Qe).pipe((0,P.R)(ot),(0,B.Q)(ot))}(Qe,ot);if((0,lt.z)(Qe))return function Ie(Qe,ot){return new he.y(Ze=>{let Re=0;return ot.schedule(function(){Re===Qe.length?Ze.complete():(Ze.next(Qe[Re++]),Ze.closed||this.schedule())})})}(Qe,ot);if((0,We.t)(Qe))return function ae(Qe,ot){return(0,d.Xf)(Qe).pipe((0,P.R)(ot),(0,B.Q)(ot))}(Qe,ot);if((0,He.D)(Qe))return fe(Qe,ot);if((0,Et.T)(Qe))return function oe(Qe,ot){return new he.y(Ze=>{let Re;return(0,se.f)(Ze,ot,()=>{Re=Qe[ve.h](),(0,se.f)(Ze,ot,()=>{let W,kt;try{({value:W,done:kt}=Re.next())}catch(ct){return void Ze.error(ct)}kt?Ze.complete():Ze.next(W)},0,!0)}),()=>(0,Ae.m)(Re?.return)&&Re.return()})}(Qe,ot);if((0,et.L)(Qe))return function ut(Qe,ot){return fe((0,et.Q)(Qe),ot)}(Qe,ot)}throw(0,Xe.z)(Qe)}(Qe,ot):(0,d.Xf)(Qe)}},8421:(vt,Ne,x)=>{x.d(Ne,{Xf:()=>st});var d=x(7582),B=x(1144),P=x(8239),ce=x(9751),ae=x(3670),he=x(2206),Ie=x(4532),ve=x(6495),Ae=x(3260),se=x(576),oe=x(7849),fe=x(8822);function st(ze){if(ze instanceof ce.y)return ze;if(null!=ze){if((0,ae.c)(ze))return function We(ze){return new ce.y(Ye=>{const Qe=ze[fe.L]();if((0,se.m)(Qe.subscribe))return Qe.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,B.z)(ze))return function lt(ze){return new ce.y(Ye=>{for(let Qe=0;Qe<ze.length&&!Ye.closed;Qe++)Ye.next(ze[Qe]);Ye.complete()})}(ze);if((0,P.t)(ze))return function Et(ze){return new ce.y(Ye=>{ze.then(Qe=>{Ye.closed||(Ye.next(Qe),Ye.complete())},Qe=>Ye.error(Qe)).then(null,oe.h)})}(ze);if((0,he.D)(ze))return Xe(ze);if((0,ve.T)(ze))return function He(ze){return new ce.y(Ye=>{for(const Qe of ze)if(Ye.next(Qe),Ye.closed)return;Ye.complete()})}(ze);if((0,Ae.L)(ze))return function et(ze){return Xe((0,Ae.Q)(ze))}(ze)}throw(0,Ie.z)(ze)}function Xe(ze){return new ce.y(Ye=>{(function ut(ze,Ye){var Qe,ot,Ze,Re;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,d.KL)(ze);!(ot=yield Qe.next()).done;)if(Ye.next(ot.value),Ye.closed)return}catch(W){Ze={error:W}}finally{try{ot&&!ot.done&&(Re=Qe.return)&&(yield Re.call(Qe))}finally{if(Ze)throw Ze.error}}Ye.complete()})})(ze,Ye).catch(Qe=>Ye.error(Qe))})}},6451:(vt,Ne,x)=>{x.d(Ne,{T:()=>he});var d=x(8189),B=x(8421),P=x(515),ce=x(3269),ae=x(8996);function he(...Ie){const ve=(0,ce.yG)(Ie),Ae=(0,ce._6)(Ie,1/0),se=Ie;return se.length?1===se.length?(0,B.Xf)(se[0]):(0,d.J)(Ae)((0,ae.D)(se,ve)):P.E}},9646:(vt,Ne,x)=>{x.d(Ne,{of:()=>P});var d=x(3269),B=x(8996);function P(...ce){const ae=(0,d.yG)(ce);return(0,B.D)(ce,ae)}},5403:(vt,Ne,x)=>{x.d(Ne,{x:()=>B});var d=x(930);function B(ce,ae,he,Ie,ve){return new P(ce,ae,he,Ie,ve)}class P extends d.Lv{constructor(ae,he,Ie,ve,Ae,se){super(ae),this.onFinalize=Ae,this.shouldUnsubscribe=se,this._next=he?function(oe){try{he(oe)}catch(fe){ae.error(fe)}}:super._next,this._error=ve?function(oe){try{ve(oe)}catch(fe){ae.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(oe){ae.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},6590:(vt,Ne,x)=>{x.d(Ne,{d:()=>P});var d=x(4482),B=x(5403);function P(ce){return(0,d.e)((ae,he)=>{let Ie=!1;ae.subscribe((0,B.x)(he,ve=>{Ie=!0,he.next(ve)},()=>{Ie||he.next(ce),he.complete()}))})}},9300:(vt,Ne,x)=>{x.d(Ne,{h:()=>P});var d=x(4482),B=x(5403);function P(ce,ae){return(0,d.e)((he,Ie)=>{let ve=0;he.subscribe((0,B.x)(Ie,Ae=>ce.call(ae,Ae,ve++)&&Ie.next(Ae)))})}},590:(vt,Ne,x)=>{x.d(Ne,{P:()=>Ie});var d=x(6805),B=x(9300),P=x(5698),ce=x(6590),ae=x(8068),he=x(4671);function Ie(ve,Ae){const se=arguments.length>=2;return oe=>oe.pipe(ve?(0,B.h)((fe,st)=>ve(fe,st,oe)):he.y,(0,P.q)(1),se?(0,ce.d)(Ae):(0,ae.T)(()=>new d.K))}},4004:(vt,Ne,x)=>{x.d(Ne,{U:()=>P});var d=x(4482),B=x(5403);function P(ce,ae){return(0,d.e)((he,Ie)=>{let ve=0;he.subscribe((0,B.x)(Ie,Ae=>{Ie.next(ce.call(ae,Ae,ve++))}))})}},8189:(vt,Ne,x)=>{x.d(Ne,{J:()=>P});var d=x(5577),B=x(4671);function P(ce=1/0){return(0,d.z)(B.y,ce)}},5577:(vt,Ne,x)=>{x.d(Ne,{z:()=>ve});var d=x(4004),B=x(8421),P=x(4482),ce=x(9672),ae=x(5403),Ie=x(576);function ve(Ae,se,oe=1/0){return(0,Ie.m)(se)?ve((fe,st)=>(0,d.U)((We,lt)=>se(fe,We,st,lt))((0,B.Xf)(Ae(fe,st))),oe):("number"==typeof se&&(oe=se),(0,P.e)((fe,st)=>function he(Ae,se,oe,fe,st,We,lt,Et){const He=[];let Xe=0,et=0,ut=!1;const ze=()=>{ut&&!He.length&&!Xe&&se.complete()},Ye=ot=>Xe<fe?Qe(ot):He.push(ot),Qe=ot=>{We&&se.next(ot),Xe++;let Ze=!1;(0,B.Xf)(oe(ot,et++)).subscribe((0,ae.x)(se,Re=>{st?.(Re),We?Ye(Re):se.next(Re)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Xe--;He.length&&Xe<fe;){const Re=He.shift();lt?(0,ce.f)(se,lt,()=>Qe(Re)):Qe(Re)}ze()}catch(Re){se.error(Re)}}))};return Ae.subscribe((0,ae.x)(se,Ye,()=>{ut=!0,ze()})),()=>{Et?.()}}(fe,st,Ae,oe)))}},5363:(vt,Ne,x)=>{x.d(Ne,{Q:()=>ce});var d=x(9672),B=x(4482),P=x(5403);function ce(ae,he=0){return(0,B.e)((Ie,ve)=>{Ie.subscribe((0,P.x)(ve,Ae=>(0,d.f)(ve,ae,()=>ve.next(Ae),he),()=>(0,d.f)(ve,ae,()=>ve.complete(),he),Ae=>(0,d.f)(ve,ae,()=>ve.error(Ae),he)))})}},5026:(vt,Ne,x)=>{x.d(Ne,{R:()=>ce});var d=x(4482),B=x(5403);function ce(ae,he){return(0,d.e)(function P(ae,he,Ie,ve,Ae){return(se,oe)=>{let fe=Ie,st=he,We=0;se.subscribe((0,B.x)(oe,lt=>{const Et=We++;st=fe?ae(st,lt,Et):(fe=!0,lt),ve&&oe.next(st)},Ae&&(()=>{fe&&oe.next(st),oe.complete()})))}}(ae,he,arguments.length>=2,!0))}},3099:(vt,Ne,x)=>{x.d(Ne,{B:()=>ae});var d=x(8421),B=x(7579),P=x(930),ce=x(4482);function ae(Ie={}){const{connector:ve=(()=>new B.x),resetOnError:Ae=!0,resetOnComplete:se=!0,resetOnRefCountZero:oe=!0}=Ie;return fe=>{let st,We,lt,Et=0,He=!1,Xe=!1;const et=()=>{We?.unsubscribe(),We=void 0},ut=()=>{et(),st=lt=void 0,He=Xe=!1},ze=()=>{const Ye=st;ut(),Ye?.unsubscribe()};return(0,ce.e)((Ye,Qe)=>{Et++,!Xe&&!He&&et();const ot=lt=lt??ve();Qe.add(()=>{Et--,0===Et&&!Xe&&!He&&(We=he(ze,oe))}),ot.subscribe(Qe),!st&&Et>0&&(st=new P.Hp({next:Ze=>ot.next(Ze),error:Ze=>{Xe=!0,et(),We=he(ut,Ae,Ze),ot.error(Ze)},complete:()=>{He=!0,et(),We=he(ut,se),ot.complete()}}),(0,d.Xf)(Ye).subscribe(st))})(fe)}}function he(Ie,ve,...Ae){if(!0===ve)return void Ie();if(!1===ve)return;const se=new P.Hp({next:()=>{se.unsubscribe(),Ie()}});return ve(...Ae).subscribe(se)}},9468:(vt,Ne,x)=>{x.d(Ne,{R:()=>B});var d=x(4482);function B(P,ce=0){return(0,d.e)((ae,he)=>{he.add(P.schedule(()=>ae.subscribe(he),ce))})}},3900:(vt,Ne,x)=>{x.d(Ne,{w:()=>ce});var d=x(8421),B=x(4482),P=x(5403);function ce(ae,he){return(0,B.e)((Ie,ve)=>{let Ae=null,se=0,oe=!1;const fe=()=>oe&&!Ae&&ve.complete();Ie.subscribe((0,P.x)(ve,st=>{Ae?.unsubscribe();let We=0;const lt=se++;(0,d.Xf)(ae(st,lt)).subscribe(Ae=(0,P.x)(ve,Et=>ve.next(he?he(st,Et,lt,We++):Et),()=>{Ae=null,fe()}))},()=>{oe=!0,fe()}))})}},5698:(vt,Ne,x)=>{x.d(Ne,{q:()=>ce});var d=x(515),B=x(4482),P=x(5403);function ce(ae){return ae<=0?()=>d.E:(0,B.e)((he,Ie)=>{let ve=0;he.subscribe((0,P.x)(Ie,Ae=>{++ve<=ae&&(Ie.next(Ae),ae<=ve&&Ie.complete())}))})}},8505:(vt,Ne,x)=>{x.d(Ne,{b:()=>ae});var d=x(576),B=x(4482),P=x(5403),ce=x(4671);function ae(he,Ie,ve){const Ae=(0,d.m)(he)||Ie||ve?{next:he,error:Ie,complete:ve}:he;return Ae?(0,B.e)((se,oe)=>{var fe;null===(fe=Ae.subscribe)||void 0===fe||fe.call(Ae);let st=!0;se.subscribe((0,P.x)(oe,We=>{var lt;null===(lt=Ae.next)||void 0===lt||lt.call(Ae,We),oe.next(We)},()=>{var We;st=!1,null===(We=Ae.complete)||void 0===We||We.call(Ae),oe.complete()},We=>{var lt;st=!1,null===(lt=Ae.error)||void 0===lt||lt.call(Ae,We),oe.error(We)},()=>{var We,lt;st&&(null===(We=Ae.unsubscribe)||void 0===We||We.call(Ae)),null===(lt=Ae.finalize)||void 0===lt||lt.call(Ae)}))}):ce.y}},8068:(vt,Ne,x)=>{x.d(Ne,{T:()=>ce});var d=x(6805),B=x(4482),P=x(5403);function ce(he=ae){return(0,B.e)((Ie,ve)=>{let Ae=!1;Ie.subscribe((0,P.x)(ve,se=>{Ae=!0,ve.next(se)},()=>Ae?ve.complete():ve.error(he())))})}function ae(){return new d.K}},4408:(vt,Ne,x)=>{x.d(Ne,{o:()=>ae});var d=x(727);class B extends d.w0{constructor(Ie,ve){super()}schedule(Ie,ve=0){return this}}const P={setInterval(he,Ie,...ve){const{delegate:Ae}=P;return Ae?.setInterval?Ae.setInterval(he,Ie,...ve):setInterval(he,Ie,...ve)},clearInterval(he){const{delegate:Ie}=P;return(Ie?.clearInterval||clearInterval)(he)},delegate:void 0};var ce=x(8737);class ae extends B{constructor(Ie,ve){super(Ie,ve),this.scheduler=Ie,this.work=ve,this.pending=!1}schedule(Ie,ve=0){var Ae;if(this.closed)return this;this.state=Ie;const se=this.id,oe=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(oe,se,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(oe,this.id,ve),this}requestAsyncId(Ie,ve,Ae=0){return P.setInterval(Ie.flush.bind(Ie,this),Ae)}recycleAsyncId(Ie,ve,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return ve;null!=ve&&P.clearInterval(ve)}execute(Ie,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ie,ve);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ve){let se,Ae=!1;try{this.work(Ie)}catch(oe){Ae=!0,se=oe||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:ve}=this,{actions:Ae}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ae,this),null!=Ie&&(this.id=this.recycleAsyncId(ve,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ne,x)=>{x.d(Ne,{v:()=>P});var d=x(6063);class B{constructor(ae,he=B.now){this.schedulerActionCtor=ae,this.now=he}schedule(ae,he=0,Ie){return new this.schedulerActionCtor(this,ae).schedule(Ie,he)}}B.now=d.l.now;class P extends B{constructor(ae,he=B.now){super(ae,he),this.actions=[],this._active=!1}flush(ae){const{actions:he}=this;if(this._active)return void he.push(ae);let Ie;this._active=!0;do{if(Ie=ae.execute(ae.state,ae.delay))break}while(ae=he.shift());if(this._active=!1,Ie){for(;ae=he.shift();)ae.unsubscribe();throw Ie}}}},4986:(vt,Ne,x)=>{x.d(Ne,{P:()=>ce,z:()=>P});var d=x(4408);const P=new(x(7565).v)(d.o),ce=P},6063:(vt,Ne,x)=>{x.d(Ne,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(vt,Ne,x)=>{x.d(Ne,{z:()=>d});const d={setTimeout(B,P,...ce){const{delegate:ae}=d;return ae?.setTimeout?ae.setTimeout(B,P,...ce):setTimeout(B,P,...ce)},clearTimeout(B){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(vt,Ne,x)=>{x.d(Ne,{h:()=>B});const B=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ne,x)=>{x.d(Ne,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vt,Ne,x)=>{x.d(Ne,{K:()=>B});const B=(0,x(3888).d)(P=>function(){P(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(vt,Ne,x)=>{x.d(Ne,{_6:()=>he,jO:()=>ce,yG:()=>ae});var d=x(576),B=x(3532);function P(Ie){return Ie[Ie.length-1]}function ce(Ie){return(0,d.m)(P(Ie))?Ie.pop():void 0}function ae(Ie){return(0,B.K)(P(Ie))?Ie.pop():void 0}function he(Ie,ve){return"number"==typeof P(Ie)?Ie.pop():ve}},4742:(vt,Ne,x)=>{x.d(Ne,{D:()=>ae});const{isArray:d}=Array,{getPrototypeOf:B,prototype:P,keys:ce}=Object;function ae(Ie){if(1===Ie.length){const ve=Ie[0];if(d(ve))return{args:ve,keys:null};if(function he(Ie){return Ie&&"object"==typeof Ie&&B(Ie)===P}(ve)){const Ae=ce(ve);return{args:Ae.map(se=>ve[se]),keys:Ae}}}return{args:Ie,keys:null}}},8737:(vt,Ne,x)=>{function d(B,P){if(B){const ce=B.indexOf(P);0<=ce&&B.splice(ce,1)}}x.d(Ne,{P:()=>d})},3888:(vt,Ne,x)=>{function d(B){const ce=B(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}x.d(Ne,{d:()=>d})},1810:(vt,Ne,x)=>{function d(B,P){return B.reduce((ce,ae,he)=>(ce[ae]=P[he],ce),{})}x.d(Ne,{n:()=>d})},2806:(vt,Ne,x)=>{x.d(Ne,{O:()=>ce,x:()=>P});var d=x(2416);let B=null;function P(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const he=!B;if(he&&(B={errorThrown:!1,error:null}),ae(),he){const{errorThrown:Ie,error:ve}=B;if(B=null,Ie)throw ve}}else ae()}function ce(ae){d.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ae)}},9672:(vt,Ne,x)=>{function d(B,P,ce,ae=0,he=!1){const Ie=P.schedule(function(){ce(),he?B.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(B.add(Ie),!he)return Ie}x.d(Ne,{f:()=>d})},4671:(vt,Ne,x)=>{function d(B){return B}x.d(Ne,{y:()=>d})},1144:(vt,Ne,x)=>{x.d(Ne,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(vt,Ne,x)=>{x.d(Ne,{D:()=>B});var d=x(576);function B(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},576:(vt,Ne,x)=>{function d(B){return"function"==typeof B}x.d(Ne,{m:()=>d})},3670:(vt,Ne,x)=>{x.d(Ne,{c:()=>P});var d=x(8822),B=x(576);function P(ce){return(0,B.m)(ce[d.L])}},6495:(vt,Ne,x)=>{x.d(Ne,{T:()=>P});var d=x(2202),B=x(576);function P(ce){return(0,B.m)(ce?.[d.h])}},8239:(vt,Ne,x)=>{x.d(Ne,{t:()=>B});var d=x(576);function B(P){return(0,d.m)(P?.then)}},3260:(vt,Ne,x)=>{x.d(Ne,{L:()=>ce,Q:()=>P});var d=x(7582),B=x(576);function P(ae){return(0,d.FC)(this,arguments,function*(){const Ie=ae.getReader();try{for(;;){const{value:ve,done:Ae}=yield(0,d.qq)(Ie.read());if(Ae)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ve)}}finally{Ie.releaseLock()}})}function ce(ae){return(0,B.m)(ae?.getReader)}},3532:(vt,Ne,x)=>{x.d(Ne,{K:()=>B});var d=x(576);function B(P){return P&&(0,d.m)(P.schedule)}},4482:(vt,Ne,x)=>{x.d(Ne,{A:()=>B,e:()=>P});var d=x(576);function B(ce){return(0,d.m)(ce?.lift)}function P(ce){return ae=>{if(B(ae))return ae.lift(function(he){try{return ce(he,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vt,Ne,x)=>{x.d(Ne,{Z:()=>ce});var d=x(4004);const{isArray:B}=Array;function ce(ae){return(0,d.U)(he=>function P(ae,he){return B(he)?ae(...he):ae(he)}(ae,he))}},5032:(vt,Ne,x)=>{function d(){}x.d(Ne,{Z:()=>d})},9635:(vt,Ne,x)=>{x.d(Ne,{U:()=>P,z:()=>B});var d=x(4671);function B(...ce){return P(ce)}function P(ce){return 0===ce.length?d.y:1===ce.length?ce[0]:function(he){return ce.reduce((Ie,ve)=>ve(Ie),he)}}},7849:(vt,Ne,x)=>{x.d(Ne,{h:()=>P});var d=x(2416),B=x(3410);function P(ce){B.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw ce;ae(ce)})}},4532:(vt,Ne,x)=>{function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ne,{z:()=>d})},6895:(vt,Ne,x)=>{x.d(Ne,{Do:()=>et,EM:()=>jr,HT:()=>ce,JF:()=>eo,K0:()=>he,Mx:()=>Mr,O5:()=>Li,Ov:()=>Oe,PM:()=>ai,S$:()=>Et,V_:()=>Ae,Ye:()=>ut,b0:()=>Xe,bD:()=>es,ez:()=>co,gd:()=>fn,mk:()=>cn,q:()=>P,sg:()=>wi,w_:()=>ae});var d=x(4650);let B=null;function P(){return B}function ce(D){B||(B=D)}class ae{}const he=new d.OlP("DocumentToken");let Ie=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return function ve(){return(0,d.LFG)(se)}()},providedIn:"platform"}),D})();const Ae=new d.OlP("Location Initialized");let se=(()=>{class D extends Ie{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(S){const H=P().getGlobalEventTarget(this._doc,"window");return H.addEventListener("popstate",S,!1),()=>H.removeEventListener("popstate",S)}onHashChange(S){const H=P().getGlobalEventTarget(this._doc,"window");return H.addEventListener("hashchange",S,!1),()=>H.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,H,ie){oe()?this._history.pushState(S,H,ie):this._location.hash=ie}replaceState(S,H,ie){oe()?this._history.replaceState(S,H,ie):this._location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return D.\u0275fac=function(S){return new(S||D)(d.LFG(he))},D.\u0275prov=d.Yz7({token:D,factory:function(){return function fe(){return new se((0,d.LFG)(he))}()},providedIn:"platform"}),D})();function oe(){return!!window.history.pushState}function st(D,L){if(0==D.length)return L;if(0==L.length)return D;let S=0;return D.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?D+L.substring(1):1==S?D+L:D+"/"+L}function We(D){const L=D.match(/#|\?|$/),S=L&&L.index||D.length;return D.slice(0,S-("/"===D[S-1]?1:0))+D.slice(S)}function lt(D){return D&&"?"!==D[0]?"?"+D:D}let Et=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return(0,d.f3M)(Xe)},providedIn:"root"}),D})();const He=new d.OlP("appBaseHref");let Xe=(()=>{class D extends Et{constructor(S,H){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=H??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return st(this._baseHref,S)}path(S=!1){const H=this._platformLocation.pathname+lt(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&S?`${H}${ie}`:H}pushState(S,H,ie,Ue){const Je=this.prepareExternalUrl(ie+lt(Ue));this._platformLocation.pushState(S,H,Je)}replaceState(S,H,ie,Ue){const Je=this.prepareExternalUrl(ie+lt(Ue));this._platformLocation.replaceState(S,H,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(d.LFG(Ie),d.LFG(He,8))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),et=(()=>{class D extends Et{constructor(S,H){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=H&&(this._baseHref=H)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let H=this._platformLocation.hash;return null==H&&(H="#"),H.length>0?H.substring(1):H}prepareExternalUrl(S){const H=st(this._baseHref,S);return H.length>0?"#"+H:H}pushState(S,H,ie,Ue){let Je=this.prepareExternalUrl(ie+lt(Ue));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.pushState(S,H,Je)}replaceState(S,H,ie,Ue){let Je=this.prepareExternalUrl(ie+lt(Ue));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.replaceState(S,H,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(d.LFG(Ie),d.LFG(He,8))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac}),D})(),ut=(()=>{class D{constructor(S){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const H=this._locationStrategy.getBaseHref();this._basePath=function ot(D){if(new RegExp("^(https?:)?//").test(D)){const[,S]=D.split(/\/\/[^\/]+/);return S}return D}(We(Qe(H))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,H=""){return this.path()==this.normalize(S+lt(H))}normalize(S){return D.stripTrailingSlash(function Ye(D,L){if(!D||!L.startsWith(D))return L;const S=L.substring(D.length);return""===S||["/",";","?","#"].includes(S[0])?S:L}(this._basePath,Qe(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,H="",ie=null){this._locationStrategy.pushState(ie,"",S,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+lt(H)),ie)}replaceState(S,H="",ie=null){this._locationStrategy.replaceState(ie,"",S,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+lt(H)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(H=>{this._notifyUrlChangeListeners(H.url,H.state)})),()=>{const H=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(H,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",H){this._urlChangeListeners.forEach(ie=>ie(S,H))}subscribe(S,H,ie){return this._subject.subscribe({next:S,error:H,complete:ie})}}return D.normalizeQueryParams=lt,D.joinWithSlash=st,D.stripTrailingSlash=We,D.\u0275fac=function(S){return new(S||D)(d.LFG(Et))},D.\u0275prov=d.Yz7({token:D,factory:function(){return function ze(){return new ut((0,d.LFG)(Et))}()},providedIn:"root"}),D})();function Qe(D){return D.replace(/\/index.html$/,"")}function Mr(D,L){L=encodeURIComponent(L);for(const S of D.split(";")){const H=S.indexOf("="),[ie,Ue]=-1==H?[S,""]:[S.slice(0,H),S.slice(H+1)];if(ie.trim()===L)return decodeURIComponent(Ue)}return null}const Sr=/\s+/,St=[];let cn=(()=>{class D{constructor(S,H,ie,Ue){this._iterableDiffers=S,this._keyValueDiffers=H,this._ngEl=ie,this._renderer=Ue,this.initialClasses=St,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(Sr):St}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(Sr):S}ngDoCheck(){for(const H of this.initialClasses)this._updateState(H,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const H of S)this._updateState(H,!0);else if(null!=S)for(const H of Object.keys(S))this._updateState(H,Boolean(S[H]));this._applyStateDiff()}_updateState(S,H){const ie=this.stateMap.get(S);void 0!==ie?(ie.enabled!==H&&(ie.changed=!0,ie.enabled=H),ie.touched=!0):this.stateMap.set(S,{enabled:H,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const H=S[0],ie=S[1];ie.changed?(this._toggleClass(H,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass(H,!1),this.stateMap.delete(H)),ie.touched=!1}}_toggleClass(S,H){(S=S.trim()).length>0&&S.split(Sr).forEach(ie=>{H?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}}return D.\u0275fac=function(S){return new(S||D)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class Ar{constructor(L,S,H,ie){this.$implicit=L,this.ngForOf=S,this.index=H,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class D{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,H,ie){this._viewContainer=S,this._template=H,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const H=this._viewContainer;S.forEachOperation((ie,Ue,Je)=>{if(null==ie.previousIndex)H.createEmbeddedView(this._template,new Ar(ie.item,this._ngForOf,-1,-1),null===Je?void 0:Je);else if(null==Je)H.remove(null===Ue?void 0:Ue);else if(null!==Ue){const Bt=H.get(Ue);H.move(Bt,Je),qn(Bt,ie)}});for(let ie=0,Ue=H.length;ie<Ue;ie++){const Bt=H.get(ie).context;Bt.index=ie,Bt.count=Ue,Bt.ngForOf=this._ngForOf}S.forEachIdentityChange(ie=>{qn(H.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(S,H){return!0}}return D.\u0275fac=function(S){return new(S||D)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function qn(D,L){D.context.$implicit=L.item}let Li=(()=>{class D{constructor(S,H){this._viewContainer=S,this._context=new on,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=H}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Vi("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Vi("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,H){return!0}}return D.\u0275fac=function(S){return new(S||D)(d.Y36(d.s_b),d.Y36(d.Rgc))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class on{constructor(){this.$implicit=null,this.ngIf=null}}function Vi(D,L){if(L&&!L.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.AaK)(L)}'.`)}function Qr(D,L){return new d.vHH(2100,!1)}class Fo{createSubscription(L,S){return L.subscribe({next:S,error:H=>{throw H}})}dispose(L){L.unsubscribe()}}class De{createSubscription(L,S){return L.then(S,H=>{throw H})}dispose(L){}}const ue=new De,Ce=new Fo;let Oe=(()=>{class D{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,H=>this._updateLatestValue(S,H))}_selectStrategy(S){if((0,d.QGY)(S))return ue;if((0,d.F4k)(S))return Ce;throw Qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,H){S===this._obj&&(this._latestValue=H,this._ref.markForCheck())}}return D.\u0275fac=function(S){return new(S||D)(d.Y36(d.sBO,16))},D.\u0275pipe=d.Yjl({name:"async",type:D,pure:!1,standalone:!0}),D})(),fn=(()=>{class D{transform(S){if(null==S)return null;if("string"!=typeof S)throw Qr();return S.toUpperCase()}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275pipe=d.Yjl({name:"uppercase",type:D,pure:!0,standalone:!0}),D})(),co=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=d.oAB({type:D}),D.\u0275inj=d.cJS({}),D})();const es="browser",Xi="server";function ai(D){return D===Xi}let jr=(()=>{class D{}return D.\u0275prov=(0,d.Yz7)({token:D,providedIn:"root",factory:()=>new ps((0,d.LFG)(he),window)}),D})();class ps{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function Pi(D,L){const S=D.getElementById(L)||D.getElementsByName(L)[0];if(S)return S;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const H=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ie=H.currentNode;for(;ie;){const Ue=ie.shadowRoot;if(Ue){const Je=Ue.getElementById(L)||Ue.querySelector(`[name="${L}"]`);if(Je)return Je}ie=H.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=L)}}scrollToElement(L){const S=L.getBoundingClientRect(),H=S.left+this.window.pageXOffset,ie=S.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(H-Ue[0],ie-Ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=mr(this.window.history)||mr(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mr(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class eo{}},4650:(vt,Ne,x)=>{x.d(Ne,{$8M:()=>ws,$WT:()=>Tr,$Z:()=>rp,AFp:()=>r_,ALo:()=>wm,AaK:()=>ve,CHM:()=>R,CRH:()=>xm,CZH:()=>Pd,CqO:()=>Lp,D6c:()=>J0,DdM:()=>_m,EJc:()=>p0,EpF:()=>kp,F$t:()=>$p,F4k:()=>Fp,FYo:()=>fr,FiY:()=>mn,GfV:()=>Nl,Gpc:()=>oe,Hsn:()=>Wp,JOm:()=>ds,KtG:()=>z,LFG:()=>pt,LSH:()=>dc,Lbi:()=>d0,Lck:()=>lC,MAs:()=>Np,MMx:()=>Jh,NdJ:()=>kh,OlP:()=>_r,Oqu:()=>$h,P3R:()=>Xc,PXZ:()=>M0,Q6J:()=>Mh,QGY:()=>xh,Qsj:()=>uo,R0b:()=>ba,RDi:()=>Ud,Rgc:()=>xc,SBq:()=>xt,Sil:()=>m0,Suo:()=>Nm,TTD:()=>Hi,TgZ:()=>yd,Udp:()=>Bh,VKq:()=>ym,W1O:()=>Vm,X6Q:()=>x0,XFs:()=>gt,Xpm:()=>jt,Xts:()=>Ia,Y36:()=>Vu,YKP:()=>lm,YNc:()=>Op,Yjl:()=>sn,Yz7:()=>bt,Z0I:()=>bn,ZZ4:()=>Tf,_Bn:()=>am,_UZ:()=>Ph,_Vd:()=>Ge,_c5:()=>q0,_uU:()=>fg,aQg:()=>Sf,c2e:()=>h0,cJS:()=>mt,cg1:()=>Wh,dDg:()=>b0,dqk:()=>En,eFA:()=>m_,eJc:()=>cf,ekj:()=>Hh,eoX:()=>h_,f3M:()=>rr,g9A:()=>o_,h0i:()=>Ju,hGG:()=>Q0,hij:()=>Id,iGM:()=>Om,ifc:()=>q,ip1:()=>n_,jDz:()=>cm,kL8:()=>Ng,lG2:()=>Zt,lcZ:()=>bm,lqb:()=>Ol,lri:()=>c_,n5z:()=>da,oAB:()=>Pe,oxw:()=>jp,q4F:()=>ad,qLn:()=>Cc,qOj:()=>bh,qZA:()=>vd,rWj:()=>d_,sBO:()=>k0,s_b:()=>Ad,soG:()=>Od,tb:()=>p_,tp0:()=>xi,uIk:()=>Ah,vHH:()=>He,vpe:()=>_l,wAp:()=>In,xi3:()=>Tm,xp6:()=>Wf,z2F:()=>Nd,zSh:()=>_c,zs3:()=>yu});var d=x(7579),B=x(727),P=x(9751),ce=x(6451),ae=x(3099);function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function Ie(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ve(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ae(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const se=he({__forward_ref__:he});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return ve(this())},e}function fe(e){return st(e)?e():e}function st(e){return"function"==typeof e&&e.hasOwnProperty(se)&&e.__forward_ref__===oe}function We(e){return e&&!!e.\u0275providers}const Et="https://g.co/ng/security#xss";class He extends Error{constructor(t,n){super(Xe(t,n)),this.code=t}}function Xe(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function et(e){return"string"==typeof e?e:null==e?"":String(e)}function ot(e,t){throw new He(-201,!1)}function Se(e,t){null==e&&function Ee(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function bt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xt(e){return An(e,Ct)||An(e,en)}function bn(e){return null!==Xt(e)}function An(e,t){return e.hasOwnProperty(t)?e[t]:null}function vn(e){return e&&(e.hasOwnProperty(Tn)||e.hasOwnProperty(Jt))?e[Tn]:null}const Ct=he({\u0275prov:he}),Tn=he({\u0275inj:he}),en=he({ngInjectableDef:he}),Jt=he({ngInjectorDef:he});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let hn;function Xn(e){const t=hn;return hn=e,t}function wr(e,t,n){const r=Xt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&gt.Optional?null:void 0!==t?t:void ot(ve(e))}const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),or={},er="__NG_DI_FLAG__",Zn="ngTempTokenPath",yr="ngTokenPath",Hn=/\n/gm,br="\u0275",tn="__source";let Or;function ln(e){const t=Or;return Or=e,t}function Qn(e,t=gt.Default){if(void 0===Or)throw new He(-203,!1);return null===Or?wr(e,void 0,t):Or.get(e,t&gt.Optional?null:void 0,t)}function pt(e,t=gt.Default){return(function kn(){return hn}()||Qn)(fe(e),t)}function rr(e,t=gt.Default){return pt(e,Gn(t))}function Gn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ir(e){const t=[];for(let n=0;n<e.length;n++){const r=fe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new He(900,!1);let a,c=gt.Default;for(let p=0;p<r.length;p++){const C=r[p],A=tr(C);"number"==typeof A?-1===A?a=C.token:c|=A:a=C}t.push(pt(a,c))}else t.push(pt(r))}return t}function sr(e,t){return e[er]=t,e.prototype[er]=t,e}function tr(e){return e[er]}function re(e){return{toString:e}.toString()}var K=(()=>((K=K||{})[K.OnPush=0]="OnPush",K[K.Default=1]="Default",K))(),q=(()=>{return(e=q||(q={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",q;var e})();const j={},pe=[],ee=he({\u0275cmp:he}),ne=he({\u0275dir:he}),Q=he({\u0275pipe:he}),me=he({\u0275mod:he}),Fe=he({\u0275fac:he}),tt=he({__NG_ELEMENT_ID__:he});let Rt=0;function jt(e){return re(()=>{const t=Fi(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||q.Emulated,id:"c"+Rt++,styles:e.styles||pe,_:null,schemas:e.schemas||null,tView:null};Qi(n);const r=e.dependencies;return n.directiveDefs=Mr(r,!1),n.pipeDefs=Mr(r,!0),n})}function pr(e){return Vt(e)||Pn(e)}function Ve(e){return null!==e}function Pe(e){return re(()=>({type:e.type,bootstrap:e.bootstrap||pe,declarations:e.declarations||pe,imports:e.imports||pe,exports:e.exports||pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ot(e,t){if(null==e)return j;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=r,t&&(t[a]=c)}return n}function Zt(e){return re(()=>{const t=Fi(e);return Qi(t),t})}function sn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Vt(e){return e[ee]||null}function Pn(e){return e[ne]||null}function gn(e){return e[Q]||null}function Tr(e){const t=Vt(e)||Pn(e)||gn(e);return null!==t&&t.standalone}function vr(e,t){const n=e[me]||null;if(!n&&!0===t)throw new Error(`Type ${ve(e)} does not have '\u0275mod' property.`);return n}function Fi(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||pe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ot(e.inputs,t),outputs:Ot(e.outputs)}}function Qi(e){e.features?.forEach(t=>t(e))}function Mr(e,t){if(!e)return null;const n=t?gn:pr;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Ve)}const Sr=0,St=1,cn=2,jn=3,Mn=4,ti=5,Ar=6,wi=7,qn=8,ii=9,Li=10,on=11,Vi=12,kr=13,Ji=14,Hr=15,Fn=16,bi=17,qr=18,Fr=19,Ti=20,Nr=21,nr=22,Fo=1,De=2,ue=7,Ce=8,Oe=9,nt=10;function nn(e){return Array.isArray(e)&&"object"==typeof e[Fo]}function fn(e){return Array.isArray(e)&&!0===e[Fo]}function Dn(e){return 0!=(4&e.flags)}function hi(e){return e.componentOffset>-1}function zn(e){return 1==(1&e.flags)}function Ut(e){return!!e.template}function Er(e){return 0!=(256&e[cn])}function Mi(e,t){return e.hasOwnProperty(Fe)?e[Fe]:null}class Ri{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hi(){return jr}function jr(e){return e.type.prototype.ngOnChanges&&(e.setInput=mr),ps}function ps(){const e=bo(this),t=e?.current;if(t){const n=e.previous;if(n===j)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mr(e,t,n,r){const a=this.declaredInputs[n],c=bo(e)||function eo(e,t){return e[Pi]=t}(e,{previous:j,current:null}),p=c.current||(c.current={}),C=c.previous,A=C[a];p[a]=new Ri(A&&A.currentValue,t,C===j),e[r]=t}Hi.ngInherit=!0;const Pi="__ngSimpleChanges__";function bo(e){return e[Pi]||null}const ur=function(e,t,n){};function Cr(e){for(;Array.isArray(e);)e=e[Sr];return e}function fo(e,t){return Cr(t[e])}function $r(e,t){return Cr(t[e.index])}function Kn(e,t){return e.data[t]}function Wr(e,t){return e[t]}function Lr(e,t){const n=t[e];return nn(n)?n:n[Sr]}function _i(e){return 64==(64&e[cn])}function Br(e,t){return null==t?null:e[t]}function ni(e){e[qr]=0}function an(e,t){e[ti]+=t;let n=e,r=e[jn];for(;null!==r&&(1===t&&1===n[ti]||-1===t&&0===n[ti]);)r[ti]+=t,n=r,r=r[jn]}const dn={lFrame:Ho(null),bindingsEnabled:!0};function go(){return dn.bindingsEnabled}function w(){return dn.lFrame.lView}function M(){return dn.lFrame.tView}function R(e){return dn.lFrame.contextLView=e,e[qn]}function z(e){return dn.lFrame.contextLView=null,e}function xe(){let e=Gt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gt(){return dn.lFrame.currentTNode}function dr(e,t){const n=dn.lFrame;n.currentTNode=e,n.isParent=t}function Wi(){return dn.lFrame.isParent}function mo(){dn.lFrame.isParent=!1}function Jr(){const e=dn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function no(){return dn.lFrame.bindingIndex++}function Uo(e,t){const n=dn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ir(t)}function Ir(e){dn.lFrame.currentDirectiveIndex=e}function Bo(){return dn.lFrame.currentQueryIndex}function Ps(e){dn.lFrame.currentQueryIndex=e}function ns(e){const t=e[St];return 2===t.type?t.declTNode:1===t.type?e[Ar]:null}function _s(e,t,n){if(n&gt.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&gt.Host||(a=ns(c),null===a||(c=c[Hr],10&a.type))););if(null===a)return!1;t=a,e=c}const r=dn.lFrame=pi();return r.currentTNode=t,r.lView=e,!0}function rs(e){const t=pi(),n=e[St];dn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pi(){const e=dn.lFrame,t=null===e?null:e.child;return null===t?Ho(e):t}function Ho(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ys(){const e=dn.lFrame;return dn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const yo=ys;function is(){const e=ys();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dr(){return dn.lFrame.selectedIndex}function Gr(e){dn.lFrame.selectedIndex=e}function ar(){const e=dn.lFrame;return Kn(e.tView,e.selectedIndex)}function os(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:F,ngOnDestroy:G}=c;p&&(e.contentHooks??(e.contentHooks=[])).push(-n,p),C&&((e.contentHooks??(e.contentHooks=[])).push(n,C),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,C)),A&&(e.viewHooks??(e.viewHooks=[])).push(-n,A),F&&((e.viewHooks??(e.viewHooks=[])).push(n,F),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,F)),null!=G&&(e.destroyHooks??(e.destroyHooks=[])).push(n,G)}}function ss(e,t,n){L(e,t,3,n)}function Ao(e,t,n,r){(3&e[cn])===n&&L(e,t,n,r)}function D(e,t){let n=e[cn];(3&n)===t&&(n&=2047,n+=1,e[cn]=n)}function L(e,t,n,r){const c=r??-1,p=t.length-1;let C=0;for(let A=void 0!==r?65535&e[qr]:0;A<p;A++)if("number"==typeof t[A+1]){if(C=t[A],null!=r&&C>=r)break}else t[A]<0&&(e[qr]+=65536),(C<c||-1==c)&&(S(e,n,t,A),e[qr]=(4294901760&e[qr])+A+2),A++}function S(e,t,n,r){const a=n[r]<0,c=n[r+1],C=e[a?-n[r]:n[r]];if(a){if(e[cn]>>11<e[qr]>>16&&(3&e[cn])===t){e[cn]+=2048,ur(4,C,c);try{c.call(C)}finally{ur(5,C,c)}}}else{ur(4,C,c);try{c.call(C)}finally{ur(5,C,c)}}}const H=-1;class ie{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Jn(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const c=n[r++],p=n[r++],C=n[r++];e.setAttribute(t,p,C,c)}else{const c=a,p=n[++r];Ki(c)?e.setProperty(t,c,p):e.setAttribute(t,c,p),r++}}return r}function xr(e){return 3===e||4===e||6===e}function Ki(e){return 64===e.charCodeAt(0)}function vi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||vo(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function vo(e,t,n,r,a){let c=0,p=e.length;if(-1===t)p=-1;else for(;c<e.length;){const C=e[c++];if("number"==typeof C){if(C===t){p=-1;break}if(C>t){p=c-1;break}}}for(;c<e.length;){const C=e[c];if("number"==typeof C)break;if(C===n){if(null===r)return void(null!==a&&(e[c+1]=a));if(r===e[c+1])return void(e[c+2]=a)}c++,null!==r&&c++,null!==a&&c++}-1!==p&&(e.splice(p,0,t),c=p+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==a&&e.splice(c++,0,a)}function ei(e){return e!==H}function Ei(e){return 32767&e}function di(e,t){let n=function Oi(e){return e>>16}(e),r=t;for(;n>0;)r=r[Hr],n--;return r}let Ns=!0;function Ys(e){const t=Ns;return Ns=e,t}const xs=255,ks=5;let Ta=0;const Zi={};function Fs(e,t){const n=Ga(e,t);if(-1!==n)return n;const r=t[St];r.firstCreatePass&&(e.injectorIndex=t.length,Eo(r.data,e),Eo(t,null),Eo(r.blueprint,null));const a=Rr(e,t),c=e.injectorIndex;if(ei(a)){const p=Ei(a),C=di(a,t),A=C[St].data;for(let F=0;F<8;F++)t[c+F]=C[p+F]|A[p+F]}return t[c+8]=a,c}function Eo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ga(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Rr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=$o(a),null===r)return H;if(n++,a=a[Hr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return H}function jo(e,t,n){!function Ll(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tt)&&(r=n[tt]),null==r&&(r=n[tt]=Ta++);const a=r&xs;t.data[e+(a>>ks)]|=1<<a}(e,t,n)}function Sa(e,t,n){if(n&gt.Optional||void 0!==e)return e;ot()}function Es(e,t,n,r){if(n&gt.Optional&&void 0===r&&(r=null),!(n&(gt.Self|gt.Host))){const a=e[ii],c=Xn(void 0);try{return a?a.get(t,r,n&gt.Optional):wr(t,r,n&gt.Optional)}finally{Xn(c)}}return Sa(r,0,n)}function za(e,t,n,r=gt.Default,a){if(null!==e){if(1024&t[cn]){const p=function yl(e,t,n,r,a){let c=e,p=t;for(;null!==c&&null!==p&&1024&p[cn]&&!(256&p[cn]);){const C=ca(c,p,n,r|gt.Self,Zi);if(C!==Zi)return C;let A=c.parent;if(!A){const F=p[Nr];if(F){const G=F.get(n,Zi,r);if(G!==Zi)return G}A=$o(p),p=p[Hr]}c=A}return a}(e,t,n,r,Zi);if(p!==Zi)return p}const c=ca(e,t,n,r,Zi);if(c!==Zi)return c}return Es(t,n,r,a)}function ca(e,t,n,r,a){const c=function Ka(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(tt)?e[tt]:void 0;return"number"==typeof t?t>=0?t&xs:Is:t}(n);if("function"==typeof c){if(!_s(t,e,r))return r&gt.Host?Sa(a,0,r):Es(t,n,r,a);try{const p=c(r);if(null!=p||r&gt.Optional)return p;ot()}finally{yo()}}else if("number"==typeof c){let p=null,C=Ga(e,t),A=H,F=r&gt.Host?t[Fn][Ar]:null;for((-1===C||r&gt.SkipSelf)&&(A=-1===C?Rr(e,t):t[C+8],A!==H&&Vs(r,!1)?(p=t[St],C=Ei(A),t=di(A,t)):C=-1);-1!==C;){const G=t[St];if(Mo(c,C,G.data)){const te=zr(C,t,n,p,r,F);if(te!==Zi)return te}A=t[C+8],A!==H&&Vs(r,t[St].data[C+8]===F)&&Mo(c,C,t)?(p=G,C=Ei(A),t=di(A,t)):C=-1}}return a}function zr(e,t,n,r,a,c){const p=t[St],C=p.data[e+8],G=Ls(C,p,n,null==r?hi(C)&&Ns:r!=p&&0!=(3&C.type),a&gt.Host&&c===C);return null!==G?Un(t,p,G,C):Zi}function Ls(e,t,n,r,a){const c=e.providerIndexes,p=t.data,C=1048575&c,A=e.directiveStart,G=c>>20,we=a?C+G:e.directiveEnd;for(let ke=r?C:C+G;ke<we;ke++){const it=p[ke];if(ke<A&&n===it||ke>=A&&it.type===n)return ke}if(a){const ke=p[A];if(ke&&Ut(ke)&&ke.type===n)return A}return null}function Un(e,t,n,r){let a=e[n];const c=t.data;if(function Ue(e){return e instanceof ie}(a)){const p=a;p.resolving&&function ze(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new He(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ut(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():et(e)}(c[n]));const C=Ys(p.canSeeViewProviders);p.resolving=!0;const A=p.injectImpl?Xn(p.injectImpl):null;_s(e,r,gt.Default);try{a=e[n]=p.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Os(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(r){const p=jr(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,p)}a&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==A&&Xn(A),Ys(C),p.resolving=!1,yo()}}return a}function Mo(e,t,n){return!!(n[t+(e>>ks)]&1<<e)}function Vs(e,t){return!(e&gt.Self||e&gt.Host&&t)}class Cs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return za(this._tNode,this._lView,t,Gn(r),n)}}function Is(){return new Cs(xe(),w())}function da(e){return re(()=>{const t=e.prototype.constructor,n=t[Fe]||Ds(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const c=a[Fe]||Ds(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Ds(e){return st(e)?()=>{const t=Ds(fe(e));return t&&t()}:Mi(e)}function $o(e){const t=e[St],n=t.type;return 2===n?t.declTNode:1===n?e[Ar]:null}function ws(e){return function qs(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const c=n[a];if(xr(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(xe(),e)}const Us="__parameters__";function Ni(e,t,n){return re(()=>{const r=function ha(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...c){if(this instanceof a)return r.apply(this,c),this;const p=new a(...c);return C.annotation=p,C;function C(A,F,G){const te=A.hasOwnProperty(Us)?A[Us]:Object.defineProperty(A,Us,{value:[]})[Us];for(;te.length<=G;)te.push(null);return(te[G]=te[G]||[]).push(p),A}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class _r{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=bt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Po(e,t){e.forEach(n=>Array.isArray(n)?Po(n,t):t(n))}function Xs(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Yi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Oo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Ci(e,t,n){let r=ta(e,t);return r>=0?e[1|r]=n:(r=~r,function ea(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(1===a)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Go(e,t){const n=ta(e,t);if(n>=0)return e[1|n]}function ta(e,t){return function y(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){const c=r+(a-r>>1),p=e[c<<n];if(t===p)return c<<n;p>t?a=c:r=c+1}return~(a<<n)}(e,t,1)}const mn=sr(Ni("Optional"),8),xi=sr(Ni("SkipSelf"),4);var ds=(()=>((ds=ds||{})[ds.Important=1]="Important",ds[ds.DashCase=2]="DashCase",ds))();const $l=new Map;let Co=0;const Me="__ngContext__";function Le(e,t){nn(t)?(e[Me]=t[Ti],function ru(e){$l.set(e[Ti],e)}(t)):e[Me]=t}let hs;function ya(e,t){return hs(e,t)}function Gl(e){const t=e[jn];return fn(t)?t[jn]:t}function va(e){return ou(e[kr])}function Al(e){return ou(e[Mn])}function ou(e){for(;null!==e&&!fn(e);)e=e[Mn];return e}function Ts(e,t,n,r,a){if(null!=r){let c,p=!1;fn(r)?c=r:nn(r)&&(p=!0,r=r[Sr]);const C=Cr(r);0===e&&null!==n?null==a?lo(t,n,C):xn(t,n,C,a||null,!0):1===e&&null!==n?xn(t,n,C,a||null,!0):2===e?function tc(e,t,n){const r=Ii(e,t);r&&function ll(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,C,p):3===e&&t.destroyNode(C),null!=c&&function Vd(e,t,n,r,a){const c=n[ue];c!==Cr(n)&&Ts(t,e,r,c,a);for(let C=nt;C<n.length;C++){const A=n[C];cu(A[St],A,e,t,r,c)}}(t,e,c,n,a)}}function sl(e,t,n){return e.createElement(t,n)}function E(e,t){const n=e[Oe],r=n.indexOf(t),a=t[jn];512&t[cn]&&(t[cn]&=-513,an(a,-1)),n.splice(r,1)}function V(e,t){if(e.length<=nt)return;const n=nt+t,r=e[n];if(r){const a=r[bi];null!==a&&a!==e&&E(a,r),t>0&&(e[n-1][Mn]=r[Mn]);const c=Yi(e,nt+t);!function Tu(e,t){cu(e,t,t[on],2,null,null),t[Sr]=null,t[Ar]=null}(r[St],r);const p=c[Fr];null!==p&&p.detachView(c[St]),r[jn]=null,r[Mn]=null,r[cn]&=-65}return r}function Y(e,t){if(!(128&t[cn])){const n=t[on];n.destroyNode&&cu(e,t,n,3,null,null),function _(e){let t=e[kr];if(!t)return be(e[St],e);for(;t;){let n=null;if(nn(t))n=t[kr];else{const r=t[nt];r&&(n=r)}if(!n){for(;t&&!t[Mn]&&t!==e;)nn(t)&&be(t[St],t),t=t[jn];null===t&&(t=e),nn(t)&&be(t[St],t),n=t&&t[Mn]}t=n}}(t)}}function be(e,t){if(!(128&t[cn])){t[cn]&=-65,t[cn]|=128,function yt(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof ie)){const c=n[r+1];if(Array.isArray(c))for(let p=0;p<c.length;p+=2){const C=a[c[p]],A=c[p+1];ur(4,C,A);try{A.call(C)}finally{ur(5,C,A)}}else{ur(4,a,c);try{c.call(a)}finally{ur(5,a,c)}}}}}(e,t),function $e(e,t){const n=e.cleanup,r=t[wi];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const p=n[c+3];p>=0?r[a=p]():r[a=-p].unsubscribe(),c+=2}else{const p=r[a=n[c+1]];n[c].call(p)}if(null!==r){for(let c=a+1;c<r.length;c++)(0,r[c])();t[wi]=null}}(e,t),1===t[St].type&&t[on].destroy();const n=t[bi];if(null!==n&&fn(t[jn])){n!==t[jn]&&E(n,t);const r=t[Fr];null!==r&&r.detachView(e)}!function v(e){$l.delete(e[Ti])}(t)}}function Nt(e,t,n){return function qt(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Sr];{const{componentOffset:a}=r;if(a>-1){const{encapsulation:c}=e.data[r.directiveStart+a];if(c===q.None||c===q.Emulated)return null}return $r(r,n)}}(e,t.parent,n)}function xn(e,t,n,r,a){e.insertBefore(t,n,r,a)}function lo(e,t,n){e.appendChild(t,n)}function js(e,t,n,r,a){null!==r?xn(e,t,n,r,a):lo(e,t,n)}function Ii(e,t){return e.parentNode(t)}function $s(e,t,n){return ko(e,t,n)}let Ws,nc,fu,ko=function Fa(e,t,n){return 40&e.type?$r(e,n):null};function ul(e,t,n,r){const a=Nt(e,r,t),c=t[on],C=$s(r.parent||t[Ar],r,t);if(null!=a)if(Array.isArray(n))for(let A=0;A<n.length;A++)js(c,a,n[A],C,!1);else js(c,a,n,C,!1);void 0!==Ws&&Ws(c,r,t,n,a)}function Gs(e,t){if(null!==t){const n=t.type;if(3&n)return $r(t,e);if(4&n)return lu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Gs(e,r);{const a=e[t.index];return fn(a)?lu(-1,a):Cr(a)}}if(32&n)return ya(t,e)()||Cr(e[t.index]);{const r=au(e,t);return null!==r?Array.isArray(r)?r[0]:Gs(Gl(e[Fn]),r):Gs(e,t.next)}}return null}function au(e,t){return null!==t?e[Fn][Ar].projection[t.projection]:null}function lu(e,t){const n=nt+e+1;if(n<t.length){const r=t[n],a=r[St].firstChild;if(null!==a)return Gs(r,a)}return t[ue]}function uu(e,t,n,r,a,c,p){for(;null!=n;){const C=r[n.index],A=n.type;if(p&&0===t&&(C&&Le(Cr(C),r),n.flags|=2),32!=(32&n.flags))if(8&A)uu(e,t,n.child,r,a,c,!1),Ts(t,e,a,C,c);else if(32&A){const F=ya(n,r);let G;for(;G=F();)Ts(t,e,a,G,c);Ts(t,e,a,C,c)}else 16&A?Lc(e,t,r,n,a,c):Ts(t,e,a,C,c);n=p?n.projectionNext:n.next}}function cu(e,t,n,r,a,c){uu(n,r,e.firstChild,t,a,c,!1)}function Lc(e,t,n,r,a,c){const p=n[Fn],A=p[Ar].projection[r.projection];if(Array.isArray(A))for(let F=0;F<A.length;F++)Ts(t,e,a,A[F],c);else uu(e,t,A,p[jn],a,c,!0)}function zl(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Mu(e,t,n){const{mergedAttrs:r,classes:a,styles:c}=n;null!==r&&Jn(e,t,r),null!==a&&zl(e,t,a),null!==c&&function Au(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Ud(e){nc=e}function Wc(e){return function rc(){if(void 0===fu&&(fu=null,En.trustedTypes))try{fu=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fu}()?.createScriptURL(e)||e}class Gc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}function cl(e){return e instanceof Gc?e.changingThisBreaksApplicationSecurity:e}function pu(e,t){const n=function Gd(e){return e instanceof Gc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Et})`)}return n===t}const Zc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function dc(e){const t=_u();return t?t.sanitize(Di.URL,e)||"":pu(e,"URL")?cl(e):function oc(e){return(e=String(e)).match(Zc)?e:"unsafe:"+e}(et(e))}function Jc(e){const t=_u();if(t)return Wc(t.sanitize(Di.RESOURCE_URL,e)||"");if(pu(e,"ResourceURL"))return Wc(cl(e));throw new He(904,!1)}function Xc(e,t,n){return function mu(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Jc:dc}(t,n)(e)}function _u(){const e=w();return e&&e[Vi]}const Ia=new _r("ENVIRONMENT_INITIALIZER"),ed=new _r("INJECTOR",-1),td=new _r("INJECTOR_DEF_TYPES");class nd{get(t,n=or){if(n===or){const r=new Error(`NullInjectorError: No provider for ${ve(t)}!`);throw r.name="NullInjectorError",r}return n}}function rd(...e){return{\u0275providers:hc(0,e),\u0275fromNgModule:!0}}function hc(e,...t){const n=[],r=new Set;let a;return Po(t,c=>{const p=c;Pu(p,n,[],r)&&(a||(a=[]),a.push(p))}),void 0!==a&&fc(a,n),n}function fc(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];pc(a,c=>{t.push(c)})}}function Pu(e,t,n,r){if(!(e=fe(e)))return!1;let a=null,c=vn(e);const p=!c&&Vt(e);if(c||p){if(p&&!p.standalone)return!1;a=e}else{const A=e.ngModule;if(c=vn(A),!c)return!1;a=A}const C=r.has(a);if(p){if(C)return!1;if(r.add(a),p.dependencies){const A="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const F of A)Pu(F,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!C){let F;r.add(a);try{Po(c.imports,G=>{Pu(G,t,n,r)&&(F||(F=[]),F.push(G))})}finally{}void 0!==F&&fc(F,t)}if(!C){const F=Mi(a)||(()=>new a);t.push({provide:a,useFactory:F,deps:pe},{provide:td,useValue:a,multi:!0},{provide:Ia,useValue:()=>pt(a),multi:!0})}const A=c.providers;null==A||C||pc(A,G=>{t.push(G)})}}return a!==e&&void 0!==e.providers}function pc(e,t){for(let n of e)We(n)&&(n=n.\u0275providers),Array.isArray(n)?pc(n,t):t(n)}const id=he({provide:String,useValue:he});function gc(e){return null!==e&&"object"==typeof e&&id in e}function hl(e){return"function"==typeof e}const _c=new _r("Set Injector scope."),Nu={},rh={};let xu;function ku(){return void 0===xu&&(xu=new nd),xu}class Ol{}class yc extends Ol{get destroyed(){return this._destroyed}constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,u(t,p=>this.processProvider(p)),this.records.set(ed,Kl(void 0,this)),a.has("environment")&&this.records.set(Ol,Kl(void 0,this));const c=this.records.get(_c);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(td.multi,pe,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=ln(this),r=Xn(void 0);try{return t()}finally{ln(n),Xn(r)}}get(t,n=or,r=gt.Default){this.assertNotDestroyed(),r=Gn(r);const a=ln(this),c=Xn(void 0);try{if(!(r&gt.SkipSelf)){let C=this.records.get(t);if(void 0===C){const A=function o(e){return"function"==typeof e||"object"==typeof e&&e instanceof _r}(t)&&Xt(t);C=A&&this.injectableDefInScope(A)?Kl(vc(t),Nu):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(r&gt.Self?ku():this.parent).get(t,n=r&gt.Optional&&n===or?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[Zn]=p[Zn]||[]).unshift(ve(t)),a)throw p;return function lr(e,t,n,r){const a=e[Zn];throw t[tn]&&a.unshift(t[tn]),e.message=function le(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==br?e.slice(2):e;let a=ve(t);if(Array.isArray(t))a=t.map(ve).join(" -> ");else if("object"==typeof t){let c=[];for(let p in t)if(t.hasOwnProperty(p)){let C=t[p];c.push(p+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}a=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(Hn,"\n  ")}`}("\n"+e.message,a,n,r),e[yr]=a,e[Zn]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{Xn(c),ln(a)}}resolveInjectorInitializers(){const t=ln(this),n=Xn(void 0);try{const r=this.get(Ia.multi,pe,gt.Self);for(const a of r)a()}finally{ln(t),Xn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ve(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(t){let n=hl(t=fe(t))?t:fe(t&&t.provide);const r=function oh(e){return gc(e)?Kl(void 0,e.useValue):Kl(Ec(e),Nu)}(t);if(hl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Kl(void 0,Nu,!0),a.factory=()=>ir(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Nu&&(n.value=rh,n.value=n.factory()),"object"==typeof n.value&&n.value&&function i(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=fe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function vc(e){const t=Xt(e),n=null!==t?t.factory:Mi(e);if(null!==n)return n;if(e instanceof _r)throw new He(204,!1);if(e instanceof Function)return function ih(e){const t=e.length;if(t>0)throw Oo(t,"?"),new He(204,!1);const n=function $t(e){return e&&(e[Ct]||e[en])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new He(204,!1)}function Ec(e,t,n){let r;if(hl(e)){const a=fe(e);return Mi(a)||vc(a)}if(gc(e))r=()=>fe(e.useValue);else if(function mc(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ir(e.deps||[]));else if(function od(e){return!(!e||!e.useExisting)}(e))r=()=>pt(fe(e.useExisting));else{const a=fe(e&&(e.useClass||e.provide));if(!function s(e){return!!e.deps}(e))return Mi(a)||vc(a);r=()=>new a(...ir(e.deps))}return r}function Kl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function u(e,t){for(const n of e)Array.isArray(n)?u(n,t):n&&We(n)?u(n.\u0275providers,t):t(n)}class m{}class b{}class de{resolveComponentFactory(t){throw function N(e){const t=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ge=(()=>{class e{}return e.NULL=new de,e})();function qe(){return rt(xe(),w())}function rt(e,t){return new xt($r(e,t))}let xt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qe,e})();function un(e){return e instanceof xt?e.nativeElement:e}class fr{}let uo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Da(){const e=w(),n=Lr(xe().index,e);return(nn(n)?n:e)[on]}(),e})(),Va=(()=>{class e{}return e.\u0275prov=bt({token:e,providedIn:"root",factory:()=>null}),e})();class Nl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ad=new Nl("15.2.10"),sh={},ah="ngOriginalError";function lh(e){return e[ah]}class Cc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&lh(t);for(;n&&lh(n);)n=lh(n);return n||null}}function xl(e){return e instanceof Function?e():e}function Uf(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===r||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Bf="ng-template";function W_(e,t,n){let r=0,a=!0;for(;r<e.length;){let c=e[r++];if("string"==typeof c&&a){const p=e[r++];if(n&&"class"===c&&-1!==Uf(p.toLowerCase(),t,0))return!0}else{if(1===c){for(;r<e.length&&"string"==typeof(c=e[r++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(a=!1)}}return!1}function Hf(e){return 4===e.type&&e.value!==Bf}function G_(e,t,n){return t===(4!==e.type||n?e.value:Bf)}function z_(e,t,n){let r=4;const a=e.attrs||[],c=function Y_(e){for(let t=0;t<e.length;t++)if(xr(e[t]))return t;return e.length}(a);let p=!1;for(let C=0;C<t.length;C++){const A=t[C];if("number"!=typeof A){if(!p)if(4&r){if(r=2|1&r,""!==A&&!G_(e,A,n)||""===A&&1===t.length){if(Ua(r))return!1;p=!0}}else{const F=8&r?A:t[++C];if(8&r&&null!==e.attrs){if(!W_(e.attrs,F,n)){if(Ua(r))return!1;p=!0}continue}const te=K_(8&r?"class":A,a,Hf(e),n);if(-1===te){if(Ua(r))return!1;p=!0;continue}if(""!==F){let we;we=te>c?"":a[te+1].toLowerCase();const ke=8&r?we:null;if(ke&&-1!==Uf(ke,F,0)||2&r&&F!==we){if(Ua(r))return!1;p=!0}}}}else{if(!p&&!Ua(r)&&!Ua(A))return!1;if(p&&Ua(A))continue;p=!1,r=A|1&r}}return Ua(r)||p}function Ua(e){return 0==(1&e)}function K_(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let c=!1;for(;a<t.length;){const p=t[a];if(p===e)return a;if(3===p||6===p)c=!0;else{if(1===p||2===p){let C=t[++a];for(;"string"==typeof C;)C=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=c?1:2}return-1}return function q_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function jf(e,t,n=!1){for(let r=0;r<t.length;r++)if(z_(e,t[r],n))return!0;return!1}function Q_(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let a=0;a<e.length;a++)if(e[a]!==r[a])continue e;return!0}}return!1}function $f(e,t){return e?":not("+t.trim()+")":t}function J_(e){let t=e[0],n=1,r=2,a="",c=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const C=e[++n];a+="["+p+(C.length>0?'="'+C+'"':"")+"]"}else 8&r?a+="."+p:4&r&&(a+=" "+p);else""!==a&&!Ua(p)&&(t+=$f(c,a),a=""),r=p,c=c||!Ua(r);n++}return""!==a&&(t+=$f(c,a)),t}const Wn={};function Wf(e){Gf(M(),w(),Dr()+e,!1)}function Gf(e,t,n,r){if(!r)if(3==(3&t[cn])){const c=e.preOrderCheckHooks;null!==c&&ss(t,c,n)}else{const c=e.preOrderHooks;null!==c&&Ao(t,c,0,n)}Gr(n)}function Yf(e,t=null,n=null,r){const a=qf(e,t,n,r);return a.resolveInjectorInitializers(),a}function qf(e,t=null,n=null,r,a=new Set){const c=[n||pe,rd(e)];return r=r||("object"==typeof e?void 0:ve(e)),new yc(c,t||ku(),r||null,a)}let yu=(()=>{class e{static create(n,r){if(Array.isArray(n))return Yf({name:""},r,n,"");{const a=n.name??"";return Yf({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=or,e.NULL=new nd,e.\u0275prov=bt({token:e,providedIn:"any",factory:()=>pt(ed)}),e.__NG_ELEMENT_ID__=-1,e})();function Vu(e,t=gt.Default){const n=w();return null===n?pt(e,t):za(xe(),n,fe(e),t)}function rp(){throw new Error("invalid")}function ip(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const c=n[r+1];if(-1!==c){const p=e.data[c];Ps(n[r]),p.contentQueries(2,t[c],c)}}}function ud(e,t,n,r,a,c,p,C,A,F,G){const te=t.blueprint.slice();return te[Sr]=a,te[cn]=76|r,(null!==G||e&&1024&e[cn])&&(te[cn]|=1024),ni(te),te[jn]=te[Hr]=e,te[qn]=n,te[Li]=p||e&&e[Li],te[on]=C||e&&e[on],te[Vi]=A||e&&e[Vi]||null,te[ii]=F||e&&e[ii]||null,te[Ar]=c,te[Ti]=function Wl(){return Co++}(),te[Nr]=G,te[Fn]=2==t.type?e[Fn]:te,te}function Uu(e,t,n,r,a){let c=e.data[t];if(null===c)c=function fh(e,t,n,r,a){const c=Gt(),p=Wi(),A=e.data[t]=function wy(e,t,n,r,a,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?c:c&&c.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=A),null!==c&&(p?null==c.child&&null!==A.parent&&(c.child=A):null===c.next&&(c.next=A,A.prev=c)),A}(e,t,n,r,a),function la(){return dn.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=a;const p=function $n(){const e=dn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===p?-1:p.injectorIndex}return dr(c,!0),c}function Ic(e,t,n,r){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function ph(e,t,n){rs(t);try{const r=e.viewQuery;null!==r&&Dh(1,r,n);const a=e.template;null!==a&&op(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ip(e,t),e.staticViewQueries&&Dh(2,e.viewQuery,n);const c=e.components;null!==c&&function Cy(e,t){for(let n=0;n<t.length;n++)Wy(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[cn]&=-5,is()}}function cd(e,t,n,r){const a=t[cn];if(128!=(128&a)){rs(t);try{ni(t),function _o(e){return dn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&op(e,t,n,2,r);const p=3==(3&a);if(p){const F=e.preOrderCheckHooks;null!==F&&ss(t,F,null)}else{const F=e.preOrderHooks;null!==F&&Ao(t,F,0,null),D(t,0)}if(function jy(e){for(let t=va(e);null!==t;t=Al(t)){if(!t[De])continue;const n=t[Oe];for(let r=0;r<n.length;r++){const a=n[r];512&a[cn]||an(a[jn],1),a[cn]|=512}}}(t),function Hy(e){for(let t=va(e);null!==t;t=Al(t))for(let n=nt;n<t.length;n++){const r=t[n],a=r[St];_i(r)&&cd(a,r,a.template,r[qn])}}(t),null!==e.contentQueries&&ip(e,t),p){const F=e.contentCheckHooks;null!==F&&ss(t,F)}else{const F=e.contentHooks;null!==F&&Ao(t,F,1),D(t,1)}!function vy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)Gr(~a);else{const c=a,p=n[++r],C=n[++r];Uo(p,c),C(2,t[c])}}}finally{Gr(-1)}}(e,t);const C=e.components;null!==C&&function Ey(e,t){for(let n=0;n<t.length;n++)$y(e,t[n])}(t,C);const A=e.viewQuery;if(null!==A&&Dh(2,A,r),p){const F=e.viewCheckHooks;null!==F&&ss(t,F)}else{const F=e.viewHooks;null!==F&&Ao(t,F,2),D(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[cn]&=-41,512&t[cn]&&(t[cn]&=-513,an(t[jn],-1))}finally{is()}}}function op(e,t,n,r,a){const c=Dr(),p=2&r;try{Gr(-1),p&&t.length>nr&&Gf(e,t,nr,!1),ur(p?2:0,a),n(r,a)}finally{Gr(c),ur(p?3:1,a)}}function gh(e,t,n){if(Dn(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const p=e.data[c];p.contentQueries&&p.contentQueries(1,n[c],c)}}}function mh(e,t,n){go()&&(function Py(e,t,n,r){const a=n.directiveStart,c=n.directiveEnd;hi(n)&&function Vy(e,t,n){const r=$r(t,e),a=sp(n),c=e[Li],p=dd(e,ud(e,a,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Fs(n,t),Le(r,t);const p=n.initialInputs;for(let C=a;C<c;C++){const A=e.data[C],F=Un(t,e,C,n);Le(F,t),null!==p&&Uy(0,C-a,F,A,0,p),Ut(A)&&(Lr(n.index,t)[qn]=Un(t,e,C,n))}}(e,t,n,$r(n,t)),64==(64&n.flags)&&dp(e,t,n))}function _h(e,t,n=$r){const r=t.localNames;if(null!==r){let a=t.index+1;for(let c=0;c<r.length;c+=2){const p=r[c+1],C=-1===p?n(t,e):e[p];e[a++]=C}}}function sp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yh(e,t,n,r,a,c,p,C,A,F){const G=nr+r,te=G+a,we=function Iy(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Wn);return n}(G,te),ke="function"==typeof F?F():F;return we[St]={type:e,blueprint:we,template:n,queries:null,viewQuery:C,declTNode:t,data:we.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:A,consts:ke,incompleteFirstPass:!1}}function ap(e,t,n,r){const a=fp(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&pp(e).push(r,a.length-1))}function lp(e,t,n,r){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===r?up(n,t,a,c):r.hasOwnProperty(a)&&up(n,t,r[a],c)}return n}function up(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function vh(e,t,n,r){if(go()){const a=null===r?null:{"":-1},c=function Ny(e,t){const n=e.directiveRegistry;let r=null,a=null;if(n)for(let c=0;c<n.length;c++){const p=n[c];if(jf(t,p.selectors,!1))if(r||(r=[]),Ut(p))if(null!==p.findHostDirectiveDefs){const C=[];a=a||new Map,p.findHostDirectiveDefs(p,C,a),r.unshift(...C,p),Eh(e,t,C.length)}else r.unshift(p),Eh(e,t,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,r,a),r.push(p)}return null===r?null:[r,a]}(e,n);let p,C;null===c?p=C=null:[p,C]=c,null!==p&&cp(e,t,n,p,a,C),a&&function xy(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new He(-301,!1);r.push(t[a],c)}}}(n,r,a)}n.mergedAttrs=vi(n.mergedAttrs,n.attrs)}function cp(e,t,n,r,a,c){for(let F=0;F<r.length;F++)jo(Fs(n,t),e,r[F].type);!function Fy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let F=0;F<r.length;F++){const G=r[F];G.providersResolver&&G.providersResolver(G)}let p=!1,C=!1,A=Ic(e,t,r.length,null);for(let F=0;F<r.length;F++){const G=r[F];n.mergedAttrs=vi(n.mergedAttrs,G.hostAttrs),Ly(e,n,t,A,G),ky(A,G,a),null!==G.contentQueries&&(n.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(n.flags|=64);const te=G.type.prototype;!p&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),p=!0),!C&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),C=!0),A++}!function by(e,t,n){const a=t.directiveEnd,c=e.data,p=t.attrs,C=[];let A=null,F=null;for(let G=t.directiveStart;G<a;G++){const te=c[G],we=n?n.get(te):null,it=we?we.outputs:null;A=lp(te.inputs,G,A,we?we.inputs:null),F=lp(te.outputs,G,F,it);const Dt=null===A||null===p||Hf(t)?null:By(A,G,p);C.push(Dt)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=C,t.inputs=A,t.outputs=F}(e,n,c)}function dp(e,t,n){const r=n.directiveStart,a=n.directiveEnd,c=n.index,p=function ua(){return dn.lFrame.currentDirectiveIndex}();try{Gr(c);for(let C=r;C<a;C++){const A=e.data[C],F=t[C];Ir(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Oy(A,F)}}finally{Gr(-1),Ir(p)}}function Oy(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Eh(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function ky(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ut(t)&&(n[""]=e)}}function Ly(e,t,n,r,a){e.data[r]=a;const c=a.factory||(a.factory=Mi(a.type)),p=new ie(c,Ut(a),Vu);e.blueprint[r]=p,n[r]=p,function My(e,t,n,r,a){const c=a.hostBindings;if(c){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const C=~t.index;(function Ry(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=C&&p.push(C),p.push(n,r,c)}}(e,t,r,Ic(e,n,a.hostVars,Wn),a)}function fl(e,t,n,r,a,c){const p=$r(e,t);!function Ch(e,t,n,r,a,c,p){if(null==c)e.removeAttribute(t,a,n);else{const C=null==p?et(c):p(c,r||"",a);e.setAttribute(t,a,C,n)}}(t[on],p,c,e.value,n,r,a)}function Uy(e,t,n,r,a,c){const p=c[t];if(null!==p){const C=r.setInput;for(let A=0;A<p.length;){const F=p[A++],G=p[A++],te=p[A++];null!==C?r.setInput(n,te,F,G):n[G]=te}}}function By(e,t,n){let r=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===r&&(r=[]);const p=e[c];for(let C=0;C<p.length;C+=2)if(p[C]===t){r.push(c,p[C+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return r}function hp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function $y(e,t){const n=Lr(t,e);if(_i(n)){const r=n[St];48&n[cn]?cd(r,n,r.template,n[qn]):n[ti]>0&&Ih(n)}}function Ih(e){for(let r=va(e);null!==r;r=Al(r))for(let a=nt;a<r.length;a++){const c=r[a];if(_i(c))if(512&c[cn]){const p=c[St];cd(p,c,p.template,c[qn])}else c[ti]>0&&Ih(c)}const n=e[St].components;if(null!==n)for(let r=0;r<n.length;r++){const a=Lr(n[r],e);_i(a)&&a[ti]>0&&Ih(a)}}function Wy(e,t){const n=Lr(t,e),r=n[St];(function Gy(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),ph(r,n,n[qn])}function dd(e,t){return e[kr]?e[Ji][Mn]=t:e[kr]=t,e[Ji]=t,t}function hd(e){for(;e;){e[cn]|=32;const t=Gl(e);if(Er(e)&&!t)return e;e=t}return null}function fd(e,t,n,r=!0){const a=t[Li];a.begin&&a.begin();try{cd(e,t,e.template,n)}catch(p){throw r&&mp(t,p),p}finally{a.end&&a.end()}}function Dh(e,t,n){Ps(0),t(e,n)}function fp(e){return e[wi]||(e[wi]=[])}function pp(e){return e.cleanup||(e.cleanup=[])}function mp(e,t){const n=e[ii],r=n?n.get(Cc,null):null;r&&r.handleError(t)}function wh(e,t,n,r,a){for(let c=0;c<n.length;){const p=n[c++],C=n[c++],A=t[p],F=e.data[p];null!==F.setInput?F.setInput(A,a,r,C):A[C]=a}}function pd(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let p=0;p<t.length;p++){const C=t[p];"number"==typeof C?c=C:1==c?a=Ae(a,C):2==c&&(r=Ae(r,C+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function gd(e,t,n,r,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(Cr(c)),fn(c))for(let C=nt;C<c.length;C++){const A=c[C],F=A[St].firstChild;null!==F&&gd(A[St],A,F,r)}const p=n.type;if(8&p)gd(e,t,n.child,r);else if(32&p){const C=ya(n,t);let A;for(;A=C();)r.push(A)}else if(16&p){const C=au(t,n);if(Array.isArray(C))r.push(...C);else{const A=Gl(t[Fn]);gd(A[St],A,C,r,!0)}}n=a?n.projectionNext:n.next}return r}class Dc{get rootNodes(){const t=this._lView,n=t[St];return gd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qn]}set context(t){this._lView[qn]=t}get destroyed(){return 128==(128&this._lView[cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[jn];if(fn(t)){const n=t[Ce],r=n?n.indexOf(this):-1;r>-1&&(V(t,r),Yi(n,r))}this._attachedToViewContainer=!1}Y(this._lView[St],this._lView)}onDestroy(t){ap(this._lView[St],this._lView,null,t)}markForCheck(){hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[cn]&=-65}reattach(){this._lView[cn]|=64}detectChanges(){fd(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fc(e,t){cu(e,t,t[on],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=t}}class zy extends Dc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;fd(t[St],t,t[qn],!1)}checkNoChanges(){}get context(){return null}}class _p extends Ge{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Vt(t);return new wc(n,this.ngModule)}}function yp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Zy{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Gn(r);const a=this.injector.get(t,sh,r);return a!==sh||n===sh?a:this.parentInjector.get(t,n,r)}}class wc extends b{get inputs(){return yp(this.componentDef.inputs)}get outputs(){return yp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function X_(e){return e.map(J_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,a){let c=(a=a||this.ngModule)instanceof Ol?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const p=c?new Zy(t,c):t,C=p.get(fr,null);if(null===C)throw new He(407,!1);const A=p.get(Va,null),F=C.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",te=r?function Dy(e,t,n){return e.selectRootElement(t,n===q.ShadowDom)}(F,r,this.componentDef.encapsulation):sl(F,G,function Ky(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(G)),we=this.componentDef.onPush?288:272,ke=yh(0,null,null,1,0,null,null,null,null,null),it=ud(null,ke,null,we,null,null,C,F,A,p,null);let Dt,Ht;rs(it);try{const Qt=this.componentDef;let wn,ht=null;Qt.findHostDirectiveDefs?(wn=[],ht=new Map,Qt.findHostDirectiveDefs(Qt,wn,ht),wn.push(Qt)):wn=[Qt];const Bn=function qy(e,t){const n=e[St],r=nr;return e[r]=t,Uu(n,r,2,"#host",null)}(it,te),gi=function Qy(e,t,n,r,a,c,p,C){const A=a[St];!function Jy(e,t,n,r){for(const a of e)t.mergedAttrs=vi(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(pd(t,t.mergedAttrs,!0),null!==n&&Mu(r,n,t))}(r,e,t,p);const F=c.createRenderer(t,n),G=ud(a,sp(n),null,n.onPush?32:16,a[e.index],e,c,F,C||null,null,null);return A.firstCreatePass&&Eh(A,e,r.length-1),dd(a,G),a[e.index]=G}(Bn,te,Qt,wn,it,C,F);Ht=Kn(ke,nr),te&&function ev(e,t,n,r){if(r)Jn(e,n,["ng-version",ad.full]);else{const{attrs:a,classes:c}=function ey(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++r]):8===a&&n.push(c);else{if(!Ua(a))break;a=c}r++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Jn(e,n,a),c&&c.length>0&&zl(e,n,c.join(" "))}}(F,Qt,te,r),void 0!==n&&function tv(e,t,n){const r=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];r.push(null!=c?Array.from(c):null)}}(Ht,this.ngContentSelectors,n),Dt=function Xy(e,t,n,r,a,c){const p=xe(),C=a[St],A=$r(p,a);cp(C,a,p,n,null,r);for(let G=0;G<n.length;G++)Le(Un(a,C,p.directiveStart+G,p),a);dp(C,a,p),A&&Le(A,a);const F=Un(a,C,p.directiveStart+p.componentOffset,p);if(e[qn]=a[qn]=F,null!==c)for(const G of c)G(F,t);return gh(C,p,e),F}(gi,Qt,wn,ht,it,[nv]),ph(ke,it,null)}finally{is()}return new Yy(this.componentType,Dt,rt(Ht,it),it,Ht)}}class Yy extends m{constructor(t,n,r,a,c){super(),this.location=r,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new zy(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){const c=this._rootLView;wh(c[St],c,a,t,n),hd(Lr(this._tNode.index,c))}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function nv(){const e=xe();os(w()[St],e)}function bh(e){let t=function vp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let a;if(Ut(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new He(903,!1);a=t.\u0275dir}if(a){if(n){r.push(a);const p=e;p.inputs=Th(e.inputs),p.declaredInputs=Th(e.declaredInputs),p.outputs=Th(e.outputs);const C=a.hostBindings;C&&sv(e,C);const A=a.viewQuery,F=a.contentQueries;if(A&&iv(e,A),F&&ov(e,F),Ie(e.inputs,a.inputs),Ie(e.declaredInputs,a.declaredInputs),Ie(e.outputs,a.outputs),Ut(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let p=0;p<c.length;p++){const C=c[p];C&&C.ngInherit&&C(e),C===bh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function rv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=vi(a.hostAttrs,n=vi(n,a.hostAttrs))}}(r)}function Th(e){return e===j?{}:e===pe?[]:e}function iv(e,t){const n=e.viewQuery;e.viewQuery=n?(r,a)=>{t(r,a),n(r,a)}:t}function ov(e,t){const n=e.contentQueries;e.contentQueries=n?(r,a,c)=>{t(r,a,c),n(r,a,c)}:t}function sv(e,t){const n=e.hostBindings;e.hostBindings=n?(r,a)=>{t(r,a),n(r,a)}:t}function md(e){return!!Sh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Sh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function pl(e,t,n){return e[t]=n}function fs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ah(e,t,n,r){const a=w();return fs(a,no(),t)&&(M(),fl(ar(),a,e,t,n,r)),Ah}function Op(e,t,n,r,a,c,p,C){const A=w(),F=M(),G=e+nr,te=F.firstCreatePass?function mv(e,t,n,r,a,c,p,C,A){const F=t.consts,G=Uu(t,e,4,p||null,Br(F,C));vh(t,n,G,Br(F,A)),os(t,G);const te=G.tView=yh(2,G,r,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F);return null!==t.queries&&(t.queries.template(t,G),te.queries=t.queries.embeddedTView(G)),G}(G,F,A,t,n,r,a,c,p):F.data[G];dr(te,!1);const we=A[on].createComment("");ul(F,A,we,te),Le(we,A),dd(A,A[G]=hp(we,A,we,te)),zn(te)&&mh(F,A,te),null!=p&&_h(A,te,C)}function Np(e){return Wr(function Gi(){return dn.lFrame.contextLView}(),nr+e)}function Mh(e,t,n){const r=w();return fs(r,no(),t)&&function aa(e,t,n,r,a,c,p,C){const A=$r(t,n);let G,F=t.inputs;!C&&null!=F&&(G=F[r])?(wh(e,n,G,r,a),hi(t)&&function Sy(e,t){const n=Lr(t,e);16&n[cn]||(n[cn]|=32)}(n,t.index)):3&t.type&&(r=function Ty(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=p?p(a,t.value||"",r):a,c.setProperty(A,r,a))}(M(),ar(),r,e,t,r[on],n,!1),Mh}function Rh(e,t,n,r,a){const p=a?"class":"style";wh(e,n,t.inputs[p],p,r)}function yd(e,t,n,r){const a=w(),c=M(),p=nr+e,C=a[on],A=c.firstCreatePass?function yv(e,t,n,r,a,c){const p=t.consts,A=Uu(t,e,2,r,Br(p,a));return vh(t,n,A,Br(p,c)),null!==A.attrs&&pd(A,A.attrs,!1),null!==A.mergedAttrs&&pd(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(p,c,a,t,n,r):c.data[p],F=a[p]=sl(C,t,function vs(){return dn.lFrame.currentNamespace}()),G=zn(A);return dr(A,!0),Mu(C,F,A),32!=(32&A.flags)&&ul(c,a,F,A),0===function cr(){return dn.lFrame.elementDepthCount}()&&Le(F,a),function ts(){dn.lFrame.elementDepthCount++}(),G&&(mh(c,a,A),gh(c,A,a)),null!==r&&_h(a,A),yd}function vd(){let e=xe();Wi()?mo():(e=e.parent,dr(e,!1));const t=e;!function po(){dn.lFrame.elementDepthCount--}();const n=M();return n.firstCreatePass&&(os(n,e),Dn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Vn(e){return 0!=(8&e.flags)}(t)&&Rh(n,t,w(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Sn(e){return 0!=(16&e.flags)}(t)&&Rh(n,t,w(),t.stylesWithoutHost,!1),vd}function Ph(e,t,n,r){return yd(e,t,n,r),vd(),Ph}function kp(){return w()}function xh(e){return!!e&&"function"==typeof e.then}function Fp(e){return!!e&&"function"==typeof e.subscribe}const Lp=Fp;function kh(e,t,n,r){const a=w(),c=M(),p=xe();return function Up(e,t,n,r,a,c,p){const C=zn(r),F=e.firstCreatePass&&pp(e),G=t[qn],te=fp(t);let we=!0;if(3&r.type||p){const Dt=$r(r,t),Ht=p?p(Dt):Dt,Qt=te.length,wn=p?Bn=>p(Cr(Bn[r.index])):r.index;let ht=null;if(!p&&C&&(ht=function Ev(e,t,n,r){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const p=a[c];if(p===n&&a[c+1]===r){const C=t[wi],A=a[c+2];return C.length>A?C[A]:null}"string"==typeof p&&(c+=2)}return null}(e,t,a,r.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=c,ht.__ngLastListenerFn__=c,we=!1;else{c=Hp(r,t,G,c,!1);const Bn=n.listen(Ht,a,c);te.push(c,Bn),F&&F.push(a,wn,Qt,Qt+1)}}else c=Hp(r,t,G,c,!1);const ke=r.outputs;let it;if(we&&null!==ke&&(it=ke[a])){const Dt=it.length;if(Dt)for(let Ht=0;Ht<Dt;Ht+=2){const gi=t[it[Ht]][it[Ht+1]].subscribe(c),qi=te.length;te.push(c,gi),F&&F.push(a,r.index,qi,-(qi+1))}}}(c,a,a[on],p,e,t,r),kh}function Bp(e,t,n,r){try{return ur(6,t,n),!1!==n(r)}catch(a){return mp(e,a),!1}finally{ur(7,t,n)}}function Hp(e,t,n,r,a){return function c(p){if(p===Function)return r;hd(e.componentOffset>-1?Lr(e.index,t):t);let A=Bp(t,n,r,p),F=c.__ngNextListenerFn__;for(;F;)A=Bp(t,n,F,p)&&A,F=F.__ngNextListenerFn__;return a&&!1===A&&(p.preventDefault(),p.returnValue=!1),A}}function jp(e=1){return function So(e){return(dn.lFrame.contextLView=function zi(e,t){for(;e>0;)t=t[Hr],e--;return t}(e,dn.lFrame.contextLView))[qn]}(e)}function Cv(e,t){let n=null;const r=function Z_(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===r?jf(e,c,!0):Q_(r,c))return a}else n=a}return n}function $p(e){const t=w()[Fn][Ar];if(!t.projection){const r=t.projection=Oo(e?e.length:1,null),a=r.slice();let c=t.child;for(;null!==c;){const p=e?Cv(c,e):0;null!==p&&(a[p]?a[p].projectionNext=c:r[p]=c,a[p]=c),c=c.next}}}function Wp(e,t=0,n){const r=w(),a=M(),c=Uu(a,nr+e,16,null,n||null);null===c.projection&&(c.projection=t),mo(),32!=(32&c.flags)&&function Ld(e,t,n){Lc(t[on],0,t,n,Nt(e,n,t),$s(n.parent||t[Ar],n,t))}(a,r,c)}function Ed(e,t){return e<<17|t<<2}function Zl(e){return e>>17&32767}function Lh(e){return 2|e}function Eu(e){return(131068&e)>>2}function Vh(e,t){return-131069&e|t<<2}function Uh(e){return 1|e}function eg(e,t,n,r,a){const c=e[n+1],p=null===t;let C=r?Zl(c):Eu(c),A=!1;for(;0!==C&&(!1===A||p);){const G=e[C+1];Sv(e[C],t)&&(A=!0,e[C+1]=r?Uh(G):Lh(G)),C=r?Zl(G):Eu(G)}A&&(e[n+1]=r?Lh(c):Uh(c))}function Sv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ta(e,t)>=0}function Bh(e,t,n){return Ba(e,t,n,!1),Bh}function Hh(e,t){return Ba(e,t,null,!0),Hh}function Ba(e,t,n,r){const a=w(),c=M(),p=function yi(e){const t=dn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);c.firstUpdatePass&&function lg(e,t,n,r){const a=e.data;if(null===a[n+1]){const c=a[Dr()],p=function ag(e,t){return t>=e.expandoStartIndex}(e,n);(function hg(e,t){return 0!=(e.flags&(t?8:16))})(c,r)&&null===t&&!p&&(t=!1),t=function Fv(e,t,n,r){const a=function Rs(e){const t=dn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(n=Tc(n=jh(null,e,t,n,r),t.attrs,r),c=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==a)if(n=jh(a,e,t,n,r),null===c){let A=function Lv(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Eu(r))return e[Zl(r)]}(e,t,r);void 0!==A&&Array.isArray(A)&&(A=jh(null,e,t,A[1],r),A=Tc(A,t.attrs,r),function Vv(e,t,n,r){e[Zl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,A))}else c=function Uv(e,t,n){let r;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)r=Tc(r,e[c].hostAttrs,n);return Tc(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,r),function bv(e,t,n,r,a,c){let p=c?t.classBindings:t.styleBindings,C=Zl(p),A=Eu(p);e[r]=n;let G,F=!1;if(Array.isArray(n)?(G=n[1],(null===G||ta(n,G)>0)&&(F=!0)):G=n,a)if(0!==A){const we=Zl(e[C+1]);e[r+1]=Ed(we,C),0!==we&&(e[we+1]=Vh(e[we+1],r)),e[C+1]=function Dv(e,t){return 131071&e|t<<17}(e[C+1],r)}else e[r+1]=Ed(C,0),0!==C&&(e[C+1]=Vh(e[C+1],r)),C=r;else e[r+1]=Ed(A,0),0===C?C=r:e[A+1]=Vh(e[A+1],r),A=r;F&&(e[r+1]=Lh(e[r+1])),eg(e,G,r,!0),eg(e,G,r,!1),function Tv(e,t,n,r,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&ta(c,t)>=0&&(n[r+1]=Uh(n[r+1]))}(t,G,e,r,c),p=Ed(C,A),c?t.classBindings=p:t.styleBindings=p}(a,c,t,n,p,r)}}(c,e,p,r),t!==Wn&&fs(a,p,t)&&function cg(e,t,n,r,a,c,p,C){if(!(3&t.type))return;const A=e.data,F=A[C+1],G=function wv(e){return 1==(1&e)}(F)?dg(A,t,n,a,Eu(F),p):void 0;Cd(G)||(Cd(c)||function Iv(e){return 2==(2&e)}(F)&&(c=dg(A,null,n,a,C,p)),function du(e,t,n,r,a){if(t)a?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:ds.DashCase;null==a?e.removeStyle(n,r,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=ds.Important),e.setStyle(n,r,a,c))}}(r,p,fo(Dr(),n),a,c))}(c,c.data[Dr()],a,a[on],e,a[p+1]=function $v(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ve(cl(e)))),e}(t,n),r,p)}function jh(e,t,n,r,a){let c=null;const p=n.directiveEnd;let C=n.directiveStylingLast;for(-1===C?C=n.directiveStart:C++;C<p&&(c=t[C],r=Tc(r,c.hostAttrs,a),c!==e);)C++;return null!==e&&(n.directiveStylingLast=C),r}function Tc(e,t,n){const r=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const p=t[c];"number"==typeof p?a=p:a===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ci(e,p,!!n||t[++c]))}return void 0===e?null:e}function dg(e,t,n,r,a,c){const p=null===t;let C;for(;a>0;){const A=e[a],F=Array.isArray(A),G=F?A[1]:A,te=null===G;let we=n[a+1];we===Wn&&(we=te?pe:void 0);let ke=te?Go(we,r):G===r?we:void 0;if(F&&!Cd(ke)&&(ke=Go(A,r)),Cd(ke)&&(C=ke,p))return C;const it=e[a+1];a=p?Zl(it):Eu(it)}if(null!==t){let A=c?t.residualClasses:t.residualStyles;null!=A&&(C=Go(A,r))}return C}function Cd(e){return void 0!==e}function fg(e,t=""){const n=w(),r=M(),a=e+nr,c=r.firstCreatePass?Uu(r,a,1,t,null):r.data[a],p=n[a]=function Hs(e,t){return e.createText(t)}(n[on],t);ul(r,n,p,c),dr(c,!1)}function $h(e){return Id("",e,""),$h}function Id(e,t,n){const r=w(),a=function Hu(e,t,n,r){return fs(e,no(),n)?t+et(n)+r:Wn}(r,e,t,n);return a!==Wn&&function kl(e,t,n){const r=fo(t,e);!function bu(e,t,n){e.setValue(t,n)}(e[on],r,n)}(r,Dr(),a),Id}const Cu=void 0;var uE=["en",[["a","p"],["AM","PM"],Cu],[["AM","PM"],Cu,Cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cu,"{1} 'at' {0}",Cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let qu={};function Wh(e){const t=function cE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=xg(t);if(n)return n;const r=t.split("-")[0];if(n=xg(r),n)return n;if("en"===r)return uE;throw new He(701,!1)}function Ng(e){return Wh(e)[In.PluralCase]}function xg(e){return e in qu||(qu[e]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[e]),qu[e]}var In=(()=>((In=In||{})[In.LocaleId=0]="LocaleId",In[In.DayPeriodsFormat=1]="DayPeriodsFormat",In[In.DayPeriodsStandalone=2]="DayPeriodsStandalone",In[In.DaysFormat=3]="DaysFormat",In[In.DaysStandalone=4]="DaysStandalone",In[In.MonthsFormat=5]="MonthsFormat",In[In.MonthsStandalone=6]="MonthsStandalone",In[In.Eras=7]="Eras",In[In.FirstDayOfWeek=8]="FirstDayOfWeek",In[In.WeekendRange=9]="WeekendRange",In[In.DateFormat=10]="DateFormat",In[In.TimeFormat=11]="TimeFormat",In[In.DateTimeFormat=12]="DateTimeFormat",In[In.NumberSymbols=13]="NumberSymbols",In[In.NumberFormats=14]="NumberFormats",In[In.CurrencyCode=15]="CurrencyCode",In[In.CurrencySymbol=16]="CurrencySymbol",In[In.CurrencyName=17]="CurrencyName",In[In.Currencies=18]="Currencies",In[In.Directionality=19]="Directionality",In[In.PluralCase=20]="PluralCase",In[In.ExtraData=21]="ExtraData",In))();const Qu="en-US";let kg=Qu;function Kh(e,t,n,r,a){if(e=fe(e),Array.isArray(e))for(let c=0;c<e.length;c++)Kh(e[c],t,n,r,a);else{const c=M(),p=w();let C=hl(e)?e:fe(e.provide),A=Ec(e);const F=xe(),G=1048575&F.providerIndexes,te=F.directiveStart,we=F.providerIndexes>>20;if(hl(e)||!e.multi){const ke=new ie(A,a,Vu),it=Yh(C,t,a?G:G+we,te);-1===it?(jo(Fs(F,p),c,C),Zh(c,e,t.length),t.push(C),F.directiveStart++,F.directiveEnd++,a&&(F.providerIndexes+=1048576),n.push(ke),p.push(ke)):(n[it]=ke,p[it]=ke)}else{const ke=Yh(C,t,G+we,te),it=Yh(C,t,G,G+we),Ht=it>=0&&n[it];if(a&&!Ht||!a&&!(ke>=0&&n[ke])){jo(Fs(F,p),c,C);const Qt=function aC(e,t,n,r,a){const c=new ie(e,n,Vu);return c.multi=[],c.index=t,c.componentProviders=0,sm(c,a,r&&!n),c}(a?sC:oC,n.length,a,r,A);!a&&Ht&&(n[it].providerFactory=Qt),Zh(c,e,t.length,0),t.push(C),F.directiveStart++,F.directiveEnd++,a&&(F.providerIndexes+=1048576),n.push(Qt),p.push(Qt)}else Zh(c,e,ke>-1?ke:it,sm(n[a?it:ke],A,!a&&r));!a&&r&&Ht&&n[it].componentProviders++}}}function Zh(e,t,n,r){const a=hl(t),c=function sd(e){return!!e.useClass}(t);if(a||c){const A=(c?fe(t.useClass):t).prototype.ngOnDestroy;if(A){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=F.indexOf(n);-1===G?F.push(n,[r,A]):F[G+1].push(r,A)}else F.push(n,A)}}}function sm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yh(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function oC(e,t,n,r){return qh(this.multi,[])}function sC(e,t,n,r){const a=this.multi;let c;if(this.providerFactory){const p=this.providerFactory.componentProviders,C=Un(n,n[St],this.providerFactory.index,r);c=C.slice(0,p),qh(a,c);for(let A=p;A<C.length;A++)c.push(C[A])}else c=[],qh(a,c);return c}function qh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function am(e,t=[]){return n=>{n.providersResolver=(r,a)=>function iC(e,t,n){const r=M();if(r.firstCreatePass){const a=Ut(e);Kh(n,r.data,r.blueprint,a,!0),Kh(t,r.data,r.blueprint,a,!1)}}(r,a?a(e):e,t)}}class Ju{}class lm{}function lC(e,t){return new um(e,t??null)}class um extends Ju{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _p(this);const r=vr(t);this._bootstrapComponents=xl(r.bootstrap),this._r3Injector=qf(t,n,[{provide:Ju,useValue:this},{provide:Ge,useValue:this.componentFactoryResolver}],ve(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qh extends lm{constructor(t){super(),this.moduleType=t}create(t){return new um(this.moduleType,t)}}class uC extends Ju{constructor(t,n,r){super(),this.componentFactoryResolver=new _p(this),this.instance=null;const a=new yc([...t,{provide:Ju,useValue:this},{provide:Ge,useValue:this.componentFactoryResolver}],n||ku(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Jh(e,t,n=null){return new uC(e,t,n).injector}let cC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=hc(0,n.type),a=r.length>0?Jh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=bt({token:e,providedIn:"environment",factory:()=>new e(pt(Ol))}),e})();function cm(e){e.getStandaloneInjector=t=>t.get(cC).getOrCreateStandaloneInjector(e)}function _m(e,t,n){const r=Jr()+e,a=w();return a[r]===Wn?pl(a,r,n?t.call(n):t()):function bc(e,t){return e[t]}(a,r)}function ym(e,t,n,r){return vm(w(),Jr(),e,t,n,r)}function Oc(e,t){const n=e[t];return n===Wn?void 0:n}function vm(e,t,n,r,a,c){const p=t+n;return fs(e,p,a)?pl(e,p+1,c?r.call(c,a):r(a)):Oc(e,p+1)}function Em(e,t,n,r,a,c,p){const C=t+n;return function vu(e,t,n,r){const a=fs(e,t,n);return fs(e,t+1,r)||a}(e,C,a,c)?pl(e,C+2,p?r.call(p,a,c):r(a,c)):Oc(e,C+2)}function wm(e,t){const n=M();let r;const a=e+nr;n.firstCreatePass?(r=function SC(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[a]=r,r.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(a,r.onDestroy)):r=n.data[a];const c=r.factory||(r.factory=Mi(r.type)),p=Xn(Vu);try{const C=Ys(!1),A=c();return Ys(C),function _v(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,w(),a,A),A}finally{Xn(p)}}function bm(e,t,n){const r=e+nr,a=w(),c=Wr(a,r);return Nc(a,r)?vm(a,Jr(),t,c.transform,n,c):c.transform(n)}function Tm(e,t,n,r){const a=e+nr,c=w(),p=Wr(c,a);return Nc(c,a)?Em(c,Jr(),t,p.transform,n,r,p):p.transform(n,r)}function Nc(e,t){return e[St].data[t].pure}function ef(e){return t=>{setTimeout(e,void 0,t)}}const _l=class PC extends d.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,c=n||(()=>null),p=r;if(t&&"object"==typeof t){const A=t;a=A.next?.bind(A),c=A.error?.bind(A),p=A.complete?.bind(A)}this.__isAsync&&(c=ef(c),a&&(a=ef(a)),p&&(p=ef(p)));const C=super.subscribe({next:a,error:c,complete:p});return t instanceof B.w0&&t.add(C),C}};function OC(){return this._results[Symbol.iterator]()}class tf{get changes(){return this._changes||(this._changes=new _l)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=tf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=OC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=function Vr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ra(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=t[r];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xc=(()=>{class e{}return e.__NG_ELEMENT_ID__=kC,e})();const NC=xc,xC=class extends NC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,a=ud(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);a[bi]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[Fr];return null!==p&&(a[Fr]=p.createEmbeddedView(r)),ph(r,a,t),new Dc(a)}};function kC(){return Sd(xe(),w())}function Sd(e,t){return 4&e.type?new xC(t,e,rt(e,t)):null}let Ad=(()=>{class e{}return e.__NG_ELEMENT_ID__=FC,e})();function FC(){return Mm(xe(),w())}const LC=Ad,Sm=class extends LC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return rt(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Rr(this._hostTNode,this._hostLView);if(ei(t)){const n=di(t,this._hostLView),r=Ei(t);return new Cs(n[St].data[r+8],n)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Am(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(t,n,r){let a,c;"number"==typeof r?a=r:null!=r&&(a=r.index,c=r.injector);const p=t.createEmbeddedView(n||{},c);return this.insert(p,a),p}createComponent(t,n,r,a,c){const p=t&&!function Wo(e){return"function"==typeof e}(t);let C;if(p)C=n;else{const te=n||{};C=te.index,r=te.injector,a=te.projectableNodes,c=te.environmentInjector||te.ngModuleRef}const A=p?t:new wc(Vt(t)),F=r||this.parentInjector;if(!c&&null==A.ngModule){const we=(p?F:this.parentInjector).get(Ol,null);we&&(c=we)}const G=A.create(F,a,void 0,c);return this.insert(G.hostView,C),G}insert(t,n){const r=t._lView,a=r[St];if(function Ur(e){return fn(e[jn])}(r)){const G=this.indexOf(t);if(-1!==G)this.detach(G);else{const te=r[jn],we=new Sm(te,te[Ar],te[jn]);we.detach(we.indexOf(t))}}const c=this._adjustIndex(n),p=this._lContainer;!function l(e,t,n,r){const a=nt+r,c=n.length;r>0&&(n[a-1][Mn]=t),r<c-nt?(t[Mn]=n[a],Xs(n,nt+r,t)):(n.push(t),t[Mn]=null),t[jn]=n;const p=t[bi];null!==p&&n!==p&&function h(e,t){const n=e[Oe];t[Fn]!==t[jn][jn][Fn]&&(e[De]=!0),null===n?e[Oe]=[t]:n.push(t)}(p,t);const C=t[Fr];null!==C&&C.insertView(e),t[cn]|=64}(a,r,p,c);const C=lu(c,p),A=r[on],F=Ii(A,p[ue]);return null!==F&&function al(e,t,n,r,a,c){r[Sr]=a,r[Ar]=t,cu(e,r,n,1,a,c)}(a,p[Ar],A,r,F,C),t.attachToViewContainerRef(),Xs(nf(p),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Am(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=V(this._lContainer,n);r&&(Yi(nf(this._lContainer),n),Y(r[St],r))}detach(t){const n=this._adjustIndex(t,-1),r=V(this._lContainer,n);return r&&null!=Yi(nf(this._lContainer),n)?new Dc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Am(e){return e[Ce]}function nf(e){return e[Ce]||(e[Ce]=[])}function Mm(e,t){let n;const r=t[e.index];if(fn(r))n=r;else{let a;if(8&e.type)a=Cr(r);else{const c=t[on];a=c.createComment("");const p=$r(e,t);xn(c,Ii(c,p),a,function Ml(e,t){return e.nextSibling(t)}(c,p),!1)}t[e.index]=n=hp(r,t,a,e),dd(t,n)}return new Sm(n,e,t)}class rf{constructor(t){this.queryList=t,this.matches=null}clone(){return new rf(this.queryList)}setDirty(){this.queryList.setDirty()}}class sf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<r;c++){const p=n.getByIndex(c);a.push(this.queries[p.indexInDeclarationView].clone())}return new sf(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Lm(t,n).matches&&this.queries[n].setDirty()}}class Rm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class af{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,a);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new af(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lf{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new lf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const c=r[a];this.matchTNodeWithReadOption(t,n,VC(n,c)),this.matchTNodeWithReadOption(t,n,Ls(n,t,c,!1,!1))}else r===xc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ls(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===xt||a===Ad||a===xc&&4&n.type)this.addMatch(n.index,-2);else{const c=Ls(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function VC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function BC(e,t,n,r){return-1===n?function UC(e,t){return 11&e.type?rt(e,t):4&e.type?Sd(e,t):null}(t,e):-2===n?function HC(e,t,n){return n===xt?rt(t,e):n===xc?Sd(t,e):n===Ad?Mm(t,e):void 0}(e,t,r):Un(e,e[St],n,t)}function Pm(e,t,n,r){const a=t[Fr].queries[r];if(null===a.matches){const c=e.data,p=n.matches,C=[];for(let A=0;A<p.length;A+=2){const F=p[A];C.push(F<0?null:BC(t,c[F],p[A+1],n.metadata.read))}a.matches=C}return a.matches}function uf(e,t,n,r){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const p=Pm(e,t,a,n);for(let C=0;C<c.length;C+=2){const A=c[C];if(A>0)r.push(p[C/2]);else{const F=c[C+1],G=t[-A];for(let te=nt;te<G.length;te++){const we=G[te];we[bi]===we[jn]&&uf(we[St],we,F,r)}if(null!==G[Oe]){const te=G[Oe];for(let we=0;we<te.length;we++){const ke=te[we];uf(ke[St],ke,F,r)}}}}}return r}function Om(e){const t=w(),n=M(),r=Bo();Ps(r+1);const a=Lm(n,r);if(e.dirty&&function $i(e){return 4==(4&e[cn])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?uf(n,t,r,[]):Pm(n,t,a,r);e.reset(c,un),e.notifyOnChanges()}return!0}return!1}function Nm(e,t,n,r){const a=M();if(a.firstCreatePass){const c=xe();(function Fm(e,t,n){null===e.queries&&(e.queries=new af),e.queries.track(new lf(t,n))})(a,new Rm(t,n,r),c.index),function WC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function km(e,t,n){const r=new tf(4==(4&n));ap(e,t,r,r.destroy),null===t[Fr]&&(t[Fr]=new sf),t[Fr].queries.push(new rf(r))}(a,w(),n)}function xm(){return function $C(e,t){return e[Fr].queries[t].queryList}(w(),Bo())}function Lm(e,t){return e.queries.getByIndex(t)}function Vm(e,t){return Sd(e,t)}function cf(e){return!!vr(e)}function Rd(...e){}const n_=new _r("Application Initializer");let Pd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Rd,this.reject=Rd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(xh(c))n.push(c);else if(Lp(c)){const p=new Promise((C,A)=>{c.subscribe({complete:C,error:A})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(pt(n_,8))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const r_=new _r("AppId",{providedIn:"root",factory:function i_(){return`${gf()}${gf()}${gf()}`}});function gf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const o_=new _r("Platform Initializer"),d0=new _r("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let h0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Od=new _r("LocaleId",{providedIn:"root",factory:()=>rr(Od,gt.Optional|gt.SkipSelf)||function f0(){return typeof $localize<"u"&&$localize.locale||Qu}()}),p0=new _r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class g0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let m0=(()=>{class e{compileModuleSync(n){return new Qh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=xl(vr(n).declarations).reduce((p,C)=>{const A=Vt(C);return A&&p.push(new wc(A)),p},[]);return new g0(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const v0=(()=>Promise.resolve(0))();function mf(e){typeof Zone>"u"?v0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ba{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _l(!1),this.onMicrotaskEmpty=new _l(!1),this.onStable=new _l(!1),this.onError=new _l(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function E0(){let e=En.requestAnimationFrame,t=En.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function D0(e){const t=()=>{!function I0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(En,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yf(e),e.isCheckStableRunning=!0,_f(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,c,p,C)=>{try{return l_(e),n.invokeTask(a,c,p,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),u_(e)}},onInvoke:(n,r,a,c,p,C,A)=>{try{return l_(e),n.invoke(a,c,p,C,A)}finally{e.shouldCoalesceRunChangeDetection&&t(),u_(e)}},onHasTask:(n,r,a,c)=>{n.hasTask(a,c),r===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,yf(e),_f(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ba.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(ba.isInAngularZone())throw new He(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const c=this._inner,p=c.scheduleEventTask("NgZoneEvent: "+a,t,C0,Rd,Rd);try{return c.runTask(p,n,r)}finally{c.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const C0={};function _f(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function l_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function u_(e){e._nesting--,_f(e)}class w0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _l,this.onMicrotaskEmpty=new _l,this.onStable=new _l,this.onError=new _l}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const c_=new _r(""),d_=new _r("");let vf,b0=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vf||(function T0(e){vf=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ba.assertNotInAngularZone(),mf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(pt(ba),pt(h_),pt(d_))},e.\u0275prov=bt({token:e,factory:e.\u0275fac}),e})(),h_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return vf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fl=!1;let Yl=null;const f_=new _r("AllowMultipleToken"),Ef=new _r("PlatformDestroyListeners"),p_=new _r("appBootstrapListener");class M0{constructor(t,n){this.name=t,this.token=n}}function m_(e,t,n=[]){const r=`Platform: ${t}`,a=new _r(r);return(c=[])=>{let p=Cf();if(!p||p.injector.get(f_,!1)){const C=[...n,...c,{provide:a,useValue:!0}];e?e(C):function R0(e){if(Yl&&!Yl.get(f_,!1))throw new He(400,!1);Yl=e;const t=e.get(y_);(function g_(e){const t=e.get(o_,null);t&&t.forEach(n=>n())})(e)}(function __(e=[],t){return yu.create({name:t,providers:[{provide:_c,useValue:"platform"},{provide:Ef,useValue:new Set([()=>Yl=null])},...e]})}(C,r))}return function O0(e){const t=Cf();if(!t)throw new He(401,!1);return t}()}}function Cf(){return Yl?.get(y_)??null}let y_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function E_(e,t){let n;return n="noop"===e?new w0:("zone.js"===e?void 0:e)||new ba(t),n}(r?.ngZone,function v_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:ba,useValue:a}];return a.run(()=>{const p=yu.create({providers:c,parent:this.injector,name:n.moduleType.name}),C=n.create(p),A=C.injector.get(Cc,null);if(!A)throw new He(402,!1);return a.runOutsideAngular(()=>{const F=a.onError.subscribe({next:G=>{A.handleError(G)}});C.onDestroy(()=>{xd(this._modules,C),F.unsubscribe()})}),function C_(e,t,n){try{const r=n();return xh(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(A,a,()=>{const F=C.injector.get(Pd);return F.runInitializers(),F.donePromise.then(()=>(function Fg(e){Se(e,"Expected localeId to be defined"),"string"==typeof e&&(kg=e.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Od,Qu)||Qu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(n,r=[]){const a=I_({},r);return function S0(e,t,n){const r=new Qh(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const r=n.injector.get(Nd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new He(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ef,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(pt(yu))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function I_(e,t){return Array.isArray(t)?t.reduce(I_,e):{...e,...t}}let Nd=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,a){this._zone=n,this._injector=r,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),p=new P.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ba.assertNotInAngularZone(),mf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ce.T)(c,p.pipe((0,ae.B)()))}bootstrap(n,r){const a=n instanceof b;if(!this._injector.get(Pd).done){!a&&Tr(n);throw new He(405,Fl)}let p;p=a?n:this._injector.get(Ge).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const C=function A0(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Ju),F=p.create(yu.NULL,[],r||p.selector,C),G=F.location.nativeElement,te=F.injector.get(c_,null);return te?.registerApplication(G),F.onDestroy(()=>{this.detachView(F.hostView),xd(this.components,F),te?.unregisterApplication(G)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(p_,[]);r.push(...this._bootstrapListeners),r.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new He(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(pt(ba),pt(Ol),pt(Cc))},e.\u0275prov=bt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function xd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function x0(){return!1}let k0=(()=>{class e{}return e.__NG_ELEMENT_ID__=F0,e})();function F0(e){return function L0(e,t,n){if(hi(e)&&!n){const r=Lr(e.index,t);return new Dc(r,r)}return 47&e.type?new Dc(t[Fn],t):null}(xe(),w(),16==(16&e))}class S_{constructor(){}supports(t){return md(t)}create(t){return new $0(t)}}const j0=(e,t)=>t;class $0{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||j0}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,c=null;for(;n||r;){const p=!r||n&&n.currentIndex<M_(r,a,c)?n:r,C=M_(p,a,c),A=p.currentIndex;if(p===r)a--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)a++;else{c||(c=[]);const F=C-a,G=A-a;if(F!=G){for(let we=0;we<F;we++){const ke=we<c.length?c[we]:c[we]=0,it=ke+we;G<=it&&it<F&&(c[we]=ke+1)}c[p.previousIndex]=G-F}}C!==A&&t(p,C,A)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!md(t))throw new He(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)c=t[C],p=this._trackByFn(C,c),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,c,p,C)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,p,C),r=!0),n=n._next}else a=0,function fv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,C=>{p=this._trackByFn(a,C),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,C,p,a)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,p,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new W0(n,r),c,a),t}_verifyReinsertion(t,n,r,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new A_),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class W0{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G0{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class A_{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new G0,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M_(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class R_{constructor(){}supports(t){return t instanceof Map||Sh(t)}create(){return new z0}}class z0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Sh(t)))throw new He(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,p=a._next;return c&&(c._next=p),p&&(p._prev=c),a._next=null,a._prev=null,a}const r=new K0(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class K0{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function P_(){return new Tf([new S_])}let Tf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||P_()),deps:[[e,new xi,new mn]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new He(901,!1)}}return e.\u0275prov=bt({token:e,providedIn:"root",factory:P_}),e})();function O_(){return new Sf([new R_])}let Sf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||O_()),deps:[[e,new xi,new mn]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(r)return r;throw new He(901,!1)}}return e.\u0275prov=bt({token:e,providedIn:"root",factory:O_}),e})();const q0=m_(null,"core",[]);let Q0=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(pt(Nd))},e.\u0275mod=Pe({type:e}),e.\u0275inj=mt({}),e})();function J0(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},433:(vt,Ne,x)=>{x.d(Ne,{Wl:()=>He,Fj:()=>ze,NI:()=>Fn,oH:()=>qo,u:()=>si,cw:()=>Fe,sg:()=>Ui,u5:()=>ms,Cf:()=>Ze,JU:()=>lt,JJ:()=>En,JL:()=>Ft,On:()=>Oe,YN:()=>pn,_:()=>Ut,UX:()=>Vo,EJ:()=>fi,kI:()=>kt,_Y:()=>nt,Kr:()=>jr});var d=x(4650),B=x(6895),P=x(8996),ce=x(9751),ae=x(4742),he=x(8421),Ie=x(3269),ve=x(5403),Ae=x(3268),se=x(1810),fe=x(4004);let st=(()=>{class w{constructor(R,z){this._renderer=R,this._elementRef=z,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(R,z){this._renderer.setProperty(this._elementRef.nativeElement,R,z)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(d.Qsj),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w}),w})(),We=(()=>{class w extends st{}return w.\u0275fac=function(){let M;return function(z){return(M||(M=d.n5z(w)))(z||w)}}(),w.\u0275dir=d.lG2({type:w,features:[d.qOj]}),w})();const lt=new d.OlP("NgValueAccessor"),Et={provide:lt,useExisting:(0,d.Gpc)(()=>He),multi:!0};let He=(()=>{class w extends We{writeValue(R){this.setProperty("checked",R)}}return w.\u0275fac=function(){let M;return function(z){return(M||(M=d.n5z(w)))(z||w)}}(),w.\u0275dir=d.lG2({type:w,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(R,z){1&R&&d.NdJ("change",function(Gt){return z.onChange(Gt.target.checked)})("blur",function(){return z.onTouched()})},features:[d._Bn([Et]),d.qOj]}),w})();const Xe={provide:lt,useExisting:(0,d.Gpc)(()=>ze),multi:!0},ut=new d.OlP("CompositionEventMode");let ze=(()=>{class w extends st{constructor(R,z,xe){super(R,z),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function et(){const w=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(w.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ut,8))},w.\u0275dir=d.lG2({type:w,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,z){1&R&&d.NdJ("input",function(Gt){return z._handleInput(Gt.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Gt){return z._compositionEnd(Gt.target.value)})},features:[d._Bn([Xe]),d.qOj]}),w})();const Ye=!1;function Qe(w){return null==w||("string"==typeof w||Array.isArray(w))&&0===w.length}function ot(w){return null!=w&&"number"==typeof w.length}const Ze=new d.OlP("NgValidators"),Re=new d.OlP("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(M){return function ct(w){return M=>{if(Qe(M.value)||Qe(w))return null;const R=parseFloat(M.value);return!isNaN(R)&&R<w?{min:{min:w,actual:M.value}}:null}}(M)}static max(M){return function zt(w){return M=>{if(Qe(M.value)||Qe(w))return null;const R=parseFloat(M.value);return!isNaN(R)&&R>w?{max:{max:w,actual:M.value}}:null}}(M)}static required(M){return function ft(w){return Qe(w.value)?{required:!0}:null}(M)}static requiredTrue(M){return function Yt(w){return!0===w.value?null:{required:!0}}(M)}static email(M){return function Kt(w){return Qe(w.value)||W.test(w.value)?null:{email:!0}}(M)}static minLength(M){return function dt(w){return M=>Qe(M.value)||!ot(M.value)?null:M.value.length<w?{minlength:{requiredLength:w,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function Rn(w){return M=>ot(M.value)&&M.value.length>w?{maxlength:{requiredLength:w,actualLength:M.value.length}}:null}(M)}static pattern(M){return function _e(w){if(!w)return ye;let M,R;return"string"==typeof w?(R="","^"!==w.charAt(0)&&(R+="^"),R+=w,"$"!==w.charAt(w.length-1)&&(R+="$"),M=new RegExp(R)):(R=w.toString(),M=w),z=>{if(Qe(z.value))return null;const xe=z.value;return M.test(xe)?null:{pattern:{requiredPattern:R,actualValue:xe}}}}(M)}static nullValidator(M){return null}static compose(M){return rn(M)}static composeAsync(M){return Xt(M)}}function ye(w){return null}function Se(w){return null!=w}function Ee(w){const M=(0,d.QGY)(w)?(0,P.D)(w):w;if(Ye&&!(0,d.CqO)(M)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof w&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,R)}return M}function Be(w){let M={};return w.forEach(R=>{M=null!=R?{...M,...R}:M}),0===Object.keys(M).length?null:M}function je(w,M){return M.map(R=>R(w))}function bt(w){return w.map(M=>function _t(w){return!w.validate}(M)?M:R=>M.validate(R))}function rn(w){if(!w)return null;const M=w.filter(Se);return 0==M.length?null:function(R){return Be(je(R,M))}}function mt(w){return null!=w?rn(bt(w)):null}function Xt(w){if(!w)return null;const M=w.filter(Se);return 0==M.length?null:function(R){return function oe(...w){const M=(0,Ie.jO)(w),{args:R,keys:z}=(0,ae.D)(w),xe=new ce.y(Gt=>{const{length:$n}=R;if(!$n)return void Gt.complete();const dr=new Array($n);let Wi=$n,mo=$n;for(let Gi=0;Gi<$n;Gi++){let ui=!1;(0,he.Xf)(R[Gi]).subscribe((0,ve.x)(Gt,ci=>{ui||(ui=!0,mo--),dr[Gi]=ci},()=>Wi--,void 0,()=>{(!Wi||!ui)&&(mo||Gt.next(z?(0,se.n)(z,dr):dr),Gt.complete())}))}});return M?xe.pipe((0,Ae.Z)(M)):xe}(je(R,M).map(Ee)).pipe((0,fe.U)(Be))}}function bn(w){return null!=w?Xt(bt(w)):null}function An(w,M){return null===w?[M]:Array.isArray(w)?[...w,M]:[w,M]}function $t(w){return w._rawValidators}function vn(w){return w._rawAsyncValidators}function Ct(w){return w?Array.isArray(w)?w:[w]:[]}function Tn(w,M){return Array.isArray(w)?w.includes(M):w===M}function en(w,M){const R=Ct(M);return Ct(w).forEach(xe=>{Tn(R,xe)||R.push(xe)}),R}function Jt(w,M){return Ct(M).filter(R=>!Tn(w,R))}class gt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,R){return!!this.control&&this.control.hasError(M,R)}getError(M,R){return this.control?this.control.getError(M,R):null}}class hn extends gt{get formDirective(){return null}get path(){return null}}class kn extends gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let En=(()=>{class w extends Xn{constructor(R){super(R)}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(kn,2))},w.\u0275dir=d.lG2({type:w,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,z){2&R&&d.ekj("ng-untouched",z.isUntouched)("ng-touched",z.isTouched)("ng-pristine",z.isPristine)("ng-dirty",z.isDirty)("ng-valid",z.isValid)("ng-invalid",z.isInvalid)("ng-pending",z.isPending)},features:[d.qOj]}),w})(),Ft=(()=>{class w extends Xn{constructor(R){super(R)}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(hn,10))},w.\u0275dir=d.lG2({type:w,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,z){2&R&&d.ekj("ng-untouched",z.isUntouched)("ng-touched",z.isTouched)("ng-pristine",z.isPristine)("ng-dirty",z.isDirty)("ng-valid",z.isValid)("ng-invalid",z.isInvalid)("ng-pending",z.isPending)("ng-submitted",z.isSubmitted)},features:[d.qOj]}),w})();function Yn(w,M){return w?`with name: '${M}'`:`at index: ${M}`}const sr=!1,tr="VALID",lr="INVALID",le="PENDING",re="DISABLED";function K(w){return(ee(w)?w.validators:w)||null}function j(w,M){return(ee(M)?M.asyncValidators:w)||null}function ee(w){return null!=w&&!Array.isArray(w)&&"object"==typeof w}class me{constructor(M,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===tr}get invalid(){return this.status===lr}get pending(){return this.status==le}get disabled(){return this.status===re}get enabled(){return this.status!==re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(en(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(en(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Jt(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Jt(M,this._rawAsyncValidators))}hasValidator(M){return Tn(this._rawValidators,M)}hasAsyncValidator(M){return Tn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=le,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=re,this.errors=null,this._forEachChild(z=>{z.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:R}),this._onDisabledChange.forEach(z=>z(!0))}enable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=tr,this._forEachChild(z=>{z.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:R}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tr||this.status===le)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?re:tr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=le,this._hasOwnPendingAsyncValidator=!0;const R=Ee(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,R={}){this.errors=M,this._updateControlsErrors(!1!==R.emitEvent)}get(M){let R=M;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((z,xe)=>z&&z._find(xe),this)}getError(M,R){const z=R?this.get(R):this;return z&&z.errors?z.errors[M]:null}hasError(M,R){return!!this.getError(M,R)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?re:this.errors?lr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(le)?le:this._anyControlsHaveStatus(lr)?lr:tr}_anyControlsHaveStatus(M){return this._anyControls(R=>R.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){ee(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function q(w){return Array.isArray(w)?mt(w):w||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function pe(w){return Array.isArray(w)?bn(w):w||null}(this._rawAsyncValidators)}}class Fe extends me{constructor(M,R,z){super(K(R),j(z,R)),this.controls=M,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,R){return this.controls[M]?this.controls[M]:(this.controls[M]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(M,R,z={}){this.registerControl(M,R),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(M,R={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(M,R,z={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],R&&this.registerControl(M,R),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,R={}){(function Q(w,M,R){w._forEachChild((z,xe)=>{if(void 0===R[xe])throw new d.vHH(1002,sr?function ir(w,M){return`Must supply a value for form control ${Yn(w,M)}`}(M,xe):"")})})(this,!0,M),Object.keys(M).forEach(z=>{(function ne(w,M,R){const z=w.controls;if(!(M?Object.keys(z):z).length)throw new d.vHH(1e3,sr?function rr(w){return`\n    There are no form controls registered with this ${w?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(M):"");if(!z[R])throw new d.vHH(1001,sr?function Gn(w,M){return`Cannot find form control ${Yn(w,M)}`}(M,R):"")})(this,!0,z),this.controls[z].setValue(M[z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(M,R={}){null!=M&&(Object.keys(M).forEach(z=>{const xe=this.controls[z];xe&&xe.patchValue(M[z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(M={},R={}){this._forEachChild((z,xe)=>{z.reset(M[xe],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(M,R,z)=>(M[z]=R.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(R,z)=>!!z._syncPendingControls()||R);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(R=>{const z=this.controls[R];z&&M(z,R)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[R,z]of Object.entries(this.controls))if(this.contains(R)&&M(z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,z,xe)=>((z.enabled||this.disabled)&&(R[xe]=z.value),R))}_reduceChildren(M,R){let z=M;return this._forEachChild((xe,Gt)=>{z=R(z,xe,Gt)}),z}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const pr=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ve}),Ve="always";function Pe(w,M){return[...M.path,w]}function at(w,M,R=Ve){Vt(w,M),M.valueAccessor.writeValue(w.value),(w.disabled||"always"===R)&&M.valueAccessor.setDisabledState?.(w.disabled),function gn(w,M){M.valueAccessor.registerOnChange(R=>{w._pendingValue=R,w._pendingChange=!0,w._pendingDirty=!0,"change"===w.updateOn&&vr(w,M)})}(w,M),function Fi(w,M){const R=(z,xe)=>{M.valueAccessor.writeValue(z),xe&&M.viewToModelUpdate(z)};w.registerOnChange(R),M._registerOnDestroy(()=>{w._unregisterOnChange(R)})}(w,M),function Tr(w,M){M.valueAccessor.registerOnTouched(()=>{w._pendingTouched=!0,"blur"===w.updateOn&&w._pendingChange&&vr(w,M),"submit"!==w.updateOn&&w.markAsTouched()})}(w,M),function sn(w,M){if(M.valueAccessor.setDisabledState){const R=z=>{M.valueAccessor.setDisabledState(z)};w.registerOnDisabledChange(R),M._registerOnDestroy(()=>{w._unregisterOnDisabledChange(R)})}}(w,M)}function Ot(w,M,R=!0){const z=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(z),M.valueAccessor.registerOnTouched(z)),Pn(w,M),w&&(M._invokeOnDestroyCallbacks(),w._registerOnCollectionChange(()=>{}))}function Zt(w,M){w.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(M)})}function Vt(w,M){const R=$t(w);null!==M.validator?w.setValidators(An(R,M.validator)):"function"==typeof R&&w.setValidators([R]);const z=vn(w);null!==M.asyncValidator?w.setAsyncValidators(An(z,M.asyncValidator)):"function"==typeof z&&w.setAsyncValidators([z]);const xe=()=>w.updateValueAndValidity();Zt(M._rawValidators,xe),Zt(M._rawAsyncValidators,xe)}function Pn(w,M){let R=!1;if(null!==w){if(null!==M.validator){const xe=$t(w);if(Array.isArray(xe)&&xe.length>0){const Gt=xe.filter($n=>$n!==M.validator);Gt.length!==xe.length&&(R=!0,w.setValidators(Gt))}}if(null!==M.asyncValidator){const xe=vn(w);if(Array.isArray(xe)&&xe.length>0){const Gt=xe.filter($n=>$n!==M.asyncValidator);Gt.length!==xe.length&&(R=!0,w.setAsyncValidators(Gt))}}}const z=()=>{};return Zt(M._rawValidators,z),Zt(M._rawAsyncValidators,z),R}function vr(w,M){w._pendingDirty&&w.markAsDirty(),w.setValue(w._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(w._pendingValue),w._pendingChange=!1}function ti(w,M){if(!w.hasOwnProperty("model"))return!1;const R=w.model;return!!R.isFirstChange()||!Object.is(M,R.currentValue)}function qn(w,M){if(!M)return null;let R,z,xe;return Array.isArray(M),M.forEach(Gt=>{Gt.constructor===ze?R=Gt:function Ar(w){return Object.getPrototypeOf(w.constructor)===We}(Gt)?z=Gt:xe=Gt}),xe||z||R||null}function Ji(w,M){const R=w.indexOf(M);R>-1&&w.splice(R,1)}function Hr(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}const Fn=class extends me{constructor(M=null,R,z){super(K(R),j(z,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=Hr(M)?M.value:M)}setValue(M,R={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(M,R={}){this.setValue(M,R)}reset(M=this.defaultValue,R={}){this._applyFormState(M),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Ji(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Ji(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){Hr(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},ue={provide:kn,useExisting:(0,d.Gpc)(()=>Oe)},Ce=(()=>Promise.resolve())();let Oe=(()=>{class w extends kn{constructor(R,z,xe,Gt,$n,dr){super(),this._changeDetectorRef=$n,this.callSetDisabledState=dr,this.control=new Fn,this._registered=!1,this.update=new d.vpe,this._parent=R,this._setValidators(z),this._setAsyncValidators(xe),this.valueAccessor=qn(0,Gt)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const z=R.name.previousValue;this.formDirective.removeControl({name:z,path:this._getPath(z)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),ti(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){at(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Ce.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const z=R.isDisabled.currentValue,xe=0!==z&&(0,d.D6c)(z);Ce.then(()=>{xe&&!this.control.disabled?this.control.disable():!xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?Pe(R,this._parent):[R]}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(hn,9),d.Y36(Ze,10),d.Y36(Re,10),d.Y36(lt,10),d.Y36(d.sBO,8),d.Y36(pr,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([ue]),d.qOj,d.TTD]}),w})(),nt=(()=>{class w{}return w.\u0275fac=function(R){return new(R||w)},w.\u0275dir=d.lG2({type:w,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),w})();const fn={provide:lt,useExisting:(0,d.Gpc)(()=>Ut),multi:!0};let hi=(()=>{class w{}return w.\u0275fac=function(R){return new(R||w)},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),w})(),zn=(()=>{class w{constructor(){this._accessors=[]}add(R,z){this._accessors.push([R,z])}remove(R){for(let z=this._accessors.length-1;z>=0;--z)if(this._accessors[z][1]===R)return void this._accessors.splice(z,1)}select(R){this._accessors.forEach(z=>{this._isSameGroup(z,R)&&z[1]!==R&&z[1].fireUncheck(R.value)})}_isSameGroup(R,z){return!!R[0].control&&R[0]._parent===z._control._parent&&R[1].name===z.name}}return w.\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:hi}),w})(),Ut=(()=>{class w extends We{constructor(R,z,xe,Gt){super(R,z),this._registry=xe,this._injector=Gt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,d.f3M)(pr,{optional:!0})??Ve}ngOnInit(){this._control=this._injector.get(kn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(R){this._state=R===this.value,this.setProperty("checked",this._state)}registerOnChange(R){this._fn=R,this.onChange=()=>{R(this.value),this._registry.select(this)}}setDisabledState(R){(this.setDisabledStateFired||R||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",R),this.setDisabledStateFired=!0}fireUncheck(R){this.writeValue(R)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(zn),d.Y36(d.zs3))},w.\u0275dir=d.lG2({type:w,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(R,z){1&R&&d.NdJ("change",function(){return z.onChange()})("blur",function(){return z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[d._Bn([fn]),d.qOj]}),w})();const Lo=new d.OlP("NgModelWithFormControlWarning"),gr={provide:kn,useExisting:(0,d.Gpc)(()=>qo)};let qo=(()=>{class w extends kn{set isDisabled(R){}constructor(R,z,xe,Gt,$n){super(),this._ngModelWarningConfig=Gt,this.callSetDisabledState=$n,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(R),this._setAsyncValidators(z),this.valueAccessor=qn(0,xe)}ngOnChanges(R){if(this._isControlChanged(R)){const z=R.form.previousValue;z&&Ot(z,this,!1),at(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ti(R,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ot(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_isControlChanged(R){return R.hasOwnProperty("form")}}return w._ngModelWarningSentOnce=!1,w.\u0275fac=function(R){return new(R||w)(d.Y36(Ze,10),d.Y36(Re,10),d.Y36(lt,10),d.Y36(Lo,8),d.Y36(pr,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([gr]),d.qOj,d.TTD]}),w})();const Si={provide:hn,useExisting:(0,d.Gpc)(()=>Ui)};let Ui=(()=>{class w extends hn{constructor(R,z,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(R),this._setAsyncValidators(z)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const z=this.form.get(R.path);return at(z,R,this.callSetDisabledState),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),z}getControl(R){return this.form.get(R.path)}removeControl(R){Ot(R.control||null,R,!1),function ii(w,M){const R=w.indexOf(M);R>-1&&w.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,z){this.form.get(R.path).setValue(z)}onSubmit(R){return this.submitted=!0,function wi(w,M){w._syncPendingControls(),M.forEach(R=>{const z=R.control;"submit"===z.updateOn&&z._pendingChange&&(R.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const z=R.control,xe=this.form.get(R.path);z!==xe&&(Ot(z||null,R),(w=>w instanceof Fn)(xe)&&(at(xe,R,this.callSetDisabledState),R.control=xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const z=this.form.get(R.path);(function Qi(w,M){Vt(w,M)})(z,R),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const z=this.form.get(R.path);z&&function Mr(w,M){return Pn(w,M)}(z,R)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vt(this.form,this),this._oldForm&&Pn(this._oldForm,this)}_checkFormPresent(){}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(Ze,10),d.Y36(Re,10),d.Y36(pr,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","formGroup",""]],hostBindings:function(R,z){1&R&&d.NdJ("submit",function(Gt){return z.onSubmit(Gt)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Si]),d.qOj,d.TTD]}),w})();const Ms={provide:kn,useExisting:(0,d.Gpc)(()=>si)};let si=(()=>{class w extends kn{set isDisabled(R){}constructor(R,z,xe,Gt,$n){super(),this._ngModelWarningConfig=$n,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(z),this._setAsyncValidators(xe),this.valueAccessor=qn(0,Gt)}ngOnChanges(R){this._added||this._setUpControl(),ti(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return w._ngModelWarningSentOnce=!1,w.\u0275fac=function(R){return new(R||w)(d.Y36(hn,13),d.Y36(Ze,10),d.Y36(Re,10),d.Y36(lt,10),d.Y36(Lo,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Ms]),d.qOj,d.TTD]}),w})();const co={provide:lt,useExisting:(0,d.Gpc)(()=>fi),multi:!0};function es(w,M){return null==w?`${M}`:(M&&"object"==typeof M&&(M="Object"),`${w}: ${M}`.slice(0,50))}let fi=(()=>{class w extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const xe=es(this._getOptionId(R),R);this.setProperty("value",xe)}registerOnChange(R){this.onChange=z=>{this.value=this._getOptionValue(z),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z),R))return z;return null}_getOptionValue(R){const z=function Xi(w){return w.split(":")[0]}(R);return this._optionMap.has(z)?this._optionMap.get(z):R}}return w.\u0275fac=function(){let M;return function(z){return(M||(M=d.n5z(w)))(z||w)}}(),w.\u0275dir=d.lG2({type:w,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(R,z){1&R&&d.NdJ("change",function(Gt){return z.onChange(Gt.target.value)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([co]),d.qOj]}),w})(),pn=(()=>{class w{constructor(R,z,xe){this._element=R,this._renderer=z,this._select=xe,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(es(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(fi,9))},w.\u0275dir=d.lG2({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})();const Ai={provide:lt,useExisting:(0,d.Gpc)(()=>Hi),multi:!0};function ai(w,M){return null==w?`${M}`:("string"==typeof M&&(M=`'${M}'`),M&&"object"==typeof M&&(M="Object"),`${w}: ${M}`.slice(0,50))}let Hi=(()=>{class w extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let z;if(this.value=R,Array.isArray(R)){const xe=R.map(Gt=>this._getOptionId(Gt));z=(Gt,$n)=>{Gt._setSelected(xe.indexOf($n.toString())>-1)}}else z=(xe,Gt)=>{xe._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(R){this.onChange=z=>{const xe=[],Gt=z.selectedOptions;if(void 0!==Gt){const $n=Gt;for(let dr=0;dr<$n.length;dr++){const mo=this._getOptionValue($n[dr].value);xe.push(mo)}}else{const $n=z.options;for(let dr=0;dr<$n.length;dr++){const Wi=$n[dr];if(Wi.selected){const mo=this._getOptionValue(Wi.value);xe.push(mo)}}}this.value=xe,R(xe)}}_registerOption(R){const z=(this._idCounter++).toString();return this._optionMap.set(z,R),z}_getOptionId(R){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z)._value,R))return z;return null}_getOptionValue(R){const z=function Mi(w){return w.split(":")[0]}(R);return this._optionMap.has(z)?this._optionMap.get(z)._value:R}}return w.\u0275fac=function(){let M;return function(z){return(M||(M=d.n5z(w)))(z||w)}}(),w.\u0275dir=d.lG2({type:w,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(R,z){1&R&&d.NdJ("change",function(Gt){return z.onChange(Gt.target)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ai]),d.qOj]}),w})(),jr=(()=>{class w{constructor(R,z,xe){this._element=R,this._renderer=z,this._select=xe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(ai(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(ai(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(R){return new(R||w)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Hi,9))},w.\u0275dir=d.lG2({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})(),ni=(()=>{class w{}return w.\u0275fac=function(R){return new(R||w)},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({imports:[hi]}),w})(),ms=(()=>{class w{static withConfig(R){return{ngModule:w,providers:[{provide:pr,useValue:R.callSetDisabledState??Ve}]}}}return w.\u0275fac=function(R){return new(R||w)},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({imports:[ni]}),w})(),Vo=(()=>{class w{static withConfig(R){return{ngModule:w,providers:[{provide:Lo,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:pr,useValue:R.callSetDisabledState??Ve}]}}}return w.\u0275fac=function(R){return new(R||w)},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({imports:[ni]}),w})()},1481:(vt,Ne,x)=>{x.d(Ne,{Dx:()=>Ft,b2:()=>kn,q6:()=>en});var d=x(6895),B=x(4650);class P extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends P{static makeCurrent(){(0,d.HT)(new ce)}onAndCancel(ne,Q,me){return ne.addEventListener(Q,me,!1),()=>{ne.removeEventListener(Q,me,!1)}}dispatchEvent(ne,Q){ne.dispatchEvent(Q)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,Q){return(Q=Q||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,Q){return"window"===Q?window:"document"===Q?ne:"body"===Q?ne.body:null}getBaseHref(ne){const Q=function he(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==Q?null:function ve(ee){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",ee);const ne=Ie.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(Q)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,d.Mx)(document.cookie,ne)}}let Ie,ae=null;const Ae=new B.OlP("TRANSITION_ID"),oe=[{provide:B.ip1,useFactory:function se(ee,ne,Q){return()=>{Q.get(B.CZH).donePromise.then(()=>{const me=(0,d.q)(),Fe=ne.querySelectorAll(`style[ng-transition="${ee}"]`);for(let tt=0;tt<Fe.length;tt++)me.remove(Fe[tt])})}},deps:[Ae,d.K0,B.zs3],multi:!0}];let st=(()=>{class ee{build(){return new XMLHttpRequest}}return ee.\u0275fac=function(Q){return new(Q||ee)},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const We=new B.OlP("EventManagerPlugins");let lt=(()=>{class ee{constructor(Q,me){this._zone=me,this._eventNameToPlugin=new Map,Q.forEach(Fe=>{Fe.manager=this}),this._plugins=Q.slice().reverse()}addEventListener(Q,me,Fe){return this._findPluginFor(me).addEventListener(Q,me,Fe)}addGlobalEventListener(Q,me,Fe){return this._findPluginFor(me).addGlobalEventListener(Q,me,Fe)}getZone(){return this._zone}_findPluginFor(Q){const me=this._eventNameToPlugin.get(Q);if(me)return me;const Fe=this._plugins;for(let tt=0;tt<Fe.length;tt++){const Rt=Fe[tt];if(Rt.supports(Q))return this._eventNameToPlugin.set(Q,Rt),Rt}throw new Error(`No event manager plugin found for event ${Q}`)}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(We),B.LFG(B.R0b))},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Et{constructor(ne){this._doc=ne}addGlobalEventListener(ne,Q,me){const Fe=(0,d.q)().getGlobalEventTarget(this._doc,ne);if(!Fe)throw new Error(`Unsupported event target ${Fe} for event ${Q}`);return this.addEventListener(Fe,Q,me)}}let He=(()=>{class ee{constructor(){this.usageCount=new Map}addStyles(Q){for(const me of Q)1===this.changeUsageCount(me,1)&&this.onStyleAdded(me)}removeStyles(Q){for(const me of Q)0===this.changeUsageCount(me,-1)&&this.onStyleRemoved(me)}onStyleRemoved(Q){}onStyleAdded(Q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Q,me){const Fe=this.usageCount;let tt=Fe.get(Q)??0;return tt+=me,tt>0?Fe.set(Q,tt):Fe.delete(Q),tt}ngOnDestroy(){for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.usageCount.clear()}}return ee.\u0275fac=function(Q){return new(Q||ee)},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Xe=(()=>{class ee extends He{constructor(Q){super(),this.doc=Q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Q){for(const me of this.hostNodes)this.addStyleToHost(me,Q)}onStyleRemoved(Q){const me=this.styleRef;me.get(Q)?.forEach(tt=>tt.remove()),me.delete(Q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Q){this.hostNodes.add(Q);for(const me of this.getAllStyles())this.addStyleToHost(Q,me)}removeHost(Q){this.hostNodes.delete(Q)}addStyleToHost(Q,me){const Fe=this.doc.createElement("style");Fe.textContent=me,Q.appendChild(Fe);const tt=this.styleRef.get(me);tt?tt.push(Fe):this.styleRef.set(me,[Fe])}resetHostNodes(){const Q=this.hostNodes;Q.clear(),Q.add(this.doc.head)}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(d.K0))},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g,Re=new B.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ct(ee,ne){return ne.flat(100).map(Q=>Q.replace(ut,ee))}function zt(ee){return ne=>{if("__ngUnwrap__"===ne)return ee;!1===ee(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let ft=(()=>{class ee{constructor(Q,me,Fe,tt){this.eventManager=Q,this.sharedStylesHost=me,this.appId=Fe,this.removeStylesOnCompDestory=tt,this.rendererByCompId=new Map,this.defaultRenderer=new Yt(Q)}createRenderer(Q,me){if(!Q||!me)return this.defaultRenderer;const Fe=this.getOrCreateRenderer(Q,me);return Fe instanceof Se?Fe.applyToHost(Q):Fe instanceof ye&&Fe.applyStyles(),Fe}getOrCreateRenderer(Q,me){const Fe=this.rendererByCompId;let tt=Fe.get(me.id);if(!tt){const Rt=this.eventManager,jt=this.sharedStylesHost,Nn=this.removeStylesOnCompDestory;switch(me.encapsulation){case B.ifc.Emulated:tt=new Se(Rt,jt,me,this.appId,Nn);break;case B.ifc.ShadowDom:return new _e(Rt,jt,Q,me);default:tt=new ye(Rt,jt,me,Nn)}tt.onDestroy=()=>Fe.delete(me.id),Fe.set(me.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(lt),B.LFG(Xe),B.LFG(B.AFp),B.LFG(Re))},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Yt{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,Q){return Q?document.createElementNS(et[Q]||Q,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,Q){(Rn(ne)?ne.content:ne).appendChild(Q)}insertBefore(ne,Q,me){ne&&(Rn(ne)?ne.content:ne).insertBefore(Q,me)}removeChild(ne,Q){ne&&ne.removeChild(Q)}selectRootElement(ne,Q){let me="string"==typeof ne?document.querySelector(ne):ne;if(!me)throw new Error(`The selector "${ne}" did not match any elements`);return Q||(me.textContent=""),me}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,Q,me,Fe){if(Fe){Q=Fe+":"+Q;const tt=et[Fe];tt?ne.setAttributeNS(tt,Q,me):ne.setAttribute(Q,me)}else ne.setAttribute(Q,me)}removeAttribute(ne,Q,me){if(me){const Fe=et[me];Fe?ne.removeAttributeNS(Fe,Q):ne.removeAttribute(`${me}:${Q}`)}else ne.removeAttribute(Q)}addClass(ne,Q){ne.classList.add(Q)}removeClass(ne,Q){ne.classList.remove(Q)}setStyle(ne,Q,me,Fe){Fe&(B.JOm.DashCase|B.JOm.Important)?ne.style.setProperty(Q,me,Fe&B.JOm.Important?"important":""):ne.style[Q]=me}removeStyle(ne,Q,me){me&B.JOm.DashCase?ne.style.removeProperty(Q):ne.style[Q]=""}setProperty(ne,Q,me){ne[Q]=me}setValue(ne,Q){ne.nodeValue=Q}listen(ne,Q,me){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,Q,zt(me)):this.eventManager.addEventListener(ne,Q,zt(me))}}function Rn(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class _e extends Yt{constructor(ne,Q,me,Fe){super(ne),this.sharedStylesHost=Q,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tt=ct(Fe.id,Fe.styles);for(const Rt of tt){const jt=document.createElement("style");jt.textContent=Rt,this.shadowRoot.appendChild(jt)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}appendChild(ne,Q){return super.appendChild(this.nodeOrShadowRoot(ne),Q)}insertBefore(ne,Q,me){return super.insertBefore(this.nodeOrShadowRoot(ne),Q,me)}removeChild(ne,Q){return super.removeChild(this.nodeOrShadowRoot(ne),Q)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ye extends Yt{constructor(ne,Q,me,Fe,tt=me.id){super(ne),this.sharedStylesHost=Q,this.removeStylesOnCompDestory=Fe,this.rendererUsageCount=0,this.styles=ct(tt,me.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Se extends ye{constructor(ne,Q,me,Fe,tt){const Rt=Fe+"-"+me.id;super(ne,Q,me,tt,Rt),this.contentAttr=function W(ee){return"_ngcontent-%COMP%".replace(ut,ee)}(Rt),this.hostAttr=function kt(ee){return"_nghost-%COMP%".replace(ut,ee)}(Rt)}applyToHost(ne){this.applyStyles(),this.setAttribute(ne,this.hostAttr,"")}createElement(ne,Q){const me=super.createElement(ne,Q);return super.setAttribute(me,this.contentAttr,""),me}}let Ee=(()=>{class ee extends Et{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,me,Fe){return Q.addEventListener(me,Fe,!1),()=>this.removeEventListener(Q,me,Fe)}removeEventListener(Q,me,Fe){return Q.removeEventListener(me,Fe)}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(d.K0))},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Be=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let bt=(()=>{class ee extends Et{constructor(Q){super(Q)}supports(Q){return null!=ee.parseEventName(Q)}addEventListener(Q,me,Fe){const tt=ee.parseEventName(me),Rt=ee.eventCallback(tt.fullKey,Fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(Q,tt.domEventName,Rt))}static parseEventName(Q){const me=Q.toLowerCase().split("."),Fe=me.shift();if(0===me.length||"keydown"!==Fe&&"keyup"!==Fe)return null;const tt=ee._normalizeKey(me.pop());let Rt="",jt=me.indexOf("code");if(jt>-1&&(me.splice(jt,1),Rt="code."),Be.forEach(pr=>{const Ve=me.indexOf(pr);Ve>-1&&(me.splice(Ve,1),Rt+=pr+".")}),Rt+=tt,0!=me.length||0===tt.length)return null;const Nn={};return Nn.domEventName=Fe,Nn.fullKey=Rt,Nn}static matchEventFullKeyCode(Q,me){let Fe=je[Q.key]||Q.key,tt="";return me.indexOf("code.")>-1&&(Fe=Q.code,tt="code."),!(null==Fe||!Fe)&&(Fe=Fe.toLowerCase()," "===Fe?Fe="space":"."===Fe&&(Fe="dot"),Be.forEach(Rt=>{Rt!==Fe&&(0,_t[Rt])(Q)&&(tt+=Rt+".")}),tt+=Fe,tt===me)}static eventCallback(Q,me,Fe){return tt=>{ee.matchEventFullKeyCode(tt,Q)&&Fe.runGuarded(()=>me(tt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(d.K0))},ee.\u0275prov=B.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const en=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:d.bD},{provide:B.g9A,useValue:function $t(){ce.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function Ct(){return(0,B.RDi)(document),document},deps:[]}]),Jt=new B.OlP(""),gt=[{provide:B.rWj,useClass:class fe{addToWindow(ne){B.dqk.getAngularTestability=(me,Fe=!0)=>{const tt=ne.findTestabilityInTree(me,Fe);if(null==tt)throw new Error("Could not find testability for element.");return tt},B.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(me=>{const Fe=B.dqk.getAllAngularTestabilities();let tt=Fe.length,Rt=!1;const jt=function(Nn){Rt=Rt||Nn,tt--,0==tt&&me(Rt)};Fe.forEach(function(Nn){Nn.whenStable(jt)})})}findTestabilityInTree(ne,Q,me){return null==Q?null:ne.getTestability(Q)??(me?(0,d.q)().isShadowRoot(Q)?this.findTestabilityInTree(ne,Q.host,!0):this.findTestabilityInTree(ne,Q.parentElement,!0):null)}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],hn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function vn(){return new B.qLn},deps:[]},{provide:We,useClass:Ee,multi:!0,deps:[d.K0,B.R0b,B.Lbi]},{provide:We,useClass:bt,multi:!0,deps:[d.K0]},{provide:ft,useClass:ft,deps:[lt,Xe,B.AFp,Re]},{provide:B.FYo,useExisting:ft},{provide:He,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[d.K0]},{provide:lt,useClass:lt,deps:[We,B.R0b]},{provide:d.JF,useClass:st,deps:[]},[]];let kn=(()=>{class ee{constructor(Q){}static withServerTransition(Q){return{ngModule:ee,providers:[{provide:B.AFp,useValue:Q.appId},{provide:Ae,useExisting:B.AFp},oe]}}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(Jt,12))},ee.\u0275mod=B.oAB({type:ee}),ee.\u0275inj=B.cJS({providers:[...hn,...gt],imports:[d.ez,B.hGG]}),ee})(),Ft=(()=>{class ee{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return ee.\u0275fac=function(Q){return new(Q||ee)(B.LFG(d.K0))},ee.\u0275prov=B.Yz7({token:ee,factory:function(Q){let me=null;return me=Q?new Q:function En(){return new Ft((0,B.LFG)(d.K0))}(),me},providedIn:"root"}),ee})();typeof window<"u"&&window},2254:(vt,Ne,x)=>{x.d(Ne,{F0:()=>Un,rH:()=>Mo,Od:()=>Vs,Bz:()=>Yi,lC:()=>mi});var d=x(4650),B=x(8996),P=x(9646),ce=x(1135),ae=x(6805),he=x(9751),Ie=x(4742),ve=x(4671),Ae=x(3268),se=x(3269),oe=x(1810),fe=x(5403),st=x(9672);function We(...g){const y=(0,se.yG)(g),f=(0,se.jO)(g),{args:I,keys:O}=(0,Ie.D)(g);if(0===I.length)return(0,B.D)([],y);const U=new he.y(function lt(g,y,f=ve.y){return I=>{Et(y,()=>{const{length:O}=g,U=new Array(O);let Z=O,Te=O;for(let Ke=0;Ke<O;Ke++)Et(y,()=>{const It=(0,B.D)(g[Ke],y);let Pt=!1;It.subscribe((0,fe.x)(I,mn=>{U[Ke]=mn,Pt||(Pt=!0,Te--),Te||I.next(f(U.slice()))},()=>{--Z||I.complete()}))},I)},I)}}(I,y,O?Z=>(0,oe.n)(O,Z):ve.y));return f?U.pipe((0,Ae.Z)(f)):U}function Et(g,y,f){g?(0,st.f)(f,g,y):y()}var He=x(8189);function et(...g){return function Xe(){return(0,He.J)(1)}()((0,B.D)(g,(0,se.yG)(g)))}var ut=x(8421);function ze(g){return new he.y(y=>{(0,ut.Xf)(g()).subscribe(y)})}var Ye=x(9635),Qe=x(576);function ot(g,y){const f=(0,Qe.m)(g)?g:()=>g,I=O=>O.error(f());return new he.y(y?O=>y.schedule(I,0,O):I)}var Ze=x(515),Re=x(727),W=x(4482);function kt(){return(0,W.e)((g,y)=>{let f=null;g._refCount++;const I=(0,fe.x)(y,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(f=null);const O=g._connection,U=f;f=null,O&&(!U||O===U)&&O.unsubscribe(),y.unsubscribe()});g.subscribe(I),I.closed||(f=g.connect())})}class ct extends he.y{constructor(y,f){super(),this.source=y,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,W.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Re.w0;const f=this.getSubject();y.add(this.source.subscribe((0,fe.x)(f,void 0,()=>{this._teardown(),f.complete()},I=>{this._teardown(),f.error(I)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Re.w0.EMPTY)}return y}refCount(){return kt()(this)}}var zt=x(7579),ft=x(6895),Yt=x(4004),Kt=x(3900),dt=x(5698),_e=x(9300),ye=x(5577),Se=x(590);function Ee(g,y){return(0,Qe.m)(y)?(0,ye.z)(g,y,1):(0,ye.z)(g,1)}var Be=x(8505);function je(g){return(0,W.e)((y,f)=>{let U,I=null,O=!1;I=y.subscribe((0,fe.x)(f,void 0,void 0,Z=>{U=(0,ut.Xf)(g(Z,je(g)(y))),I?(I.unsubscribe(),I=null,U.subscribe(f)):O=!0})),O&&(I.unsubscribe(),I=null,U.subscribe(f))})}var _t=x(5026);function bt(g){return g<=0?()=>Ze.E:(0,W.e)((y,f)=>{let I=[];y.subscribe((0,fe.x)(f,O=>{I.push(O),g<I.length&&I.shift()},()=>{for(const O of I)f.next(O);f.complete()},void 0,()=>{I=null}))})}var rn=x(8068),mt=x(6590);function Xt(g,y){const f=arguments.length>=2;return I=>I.pipe(g?(0,_e.h)((O,U)=>g(O,U,I)):ve.y,bt(1),f?(0,mt.d)(y):(0,rn.T)(()=>new ae.K))}function $t(g){return(0,W.e)((y,f)=>{try{y.subscribe(f)}finally{f.add(g)}})}var vn=x(1481);const Ct="primary",Tn=Symbol("RouteTitle");class en{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f[0]:f}return null}getAll(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Jt(g){return new en(g)}function gt(g,y,f){const I=f.path.split("/");if(I.length>g.length||"full"===f.pathMatch&&(y.hasChildren()||I.length<g.length))return null;const O={};for(let U=0;U<I.length;U++){const Z=I[U],Te=g[U];if(Z.startsWith(":"))O[Z.substring(1)]=Te;else if(Z!==Te.path)return null}return{consumed:g.slice(0,I.length),posParams:O}}function kn(g,y){const f=g?Object.keys(g):void 0,I=y?Object.keys(y):void 0;if(!f||!I||f.length!=I.length)return!1;let O;for(let U=0;U<f.length;U++)if(O=f[U],!Xn(g[O],y[O]))return!1;return!0}function Xn(g,y){if(Array.isArray(g)&&Array.isArray(y)){if(g.length!==y.length)return!1;const f=[...g].sort(),I=[...y].sort();return f.every((O,U)=>I[U]===O)}return g===y}function wr(g){return Array.prototype.concat.apply([],g)}function On(g){return g.length>0?g[g.length-1]:null}function Ft(g,y){for(const f in g)g.hasOwnProperty(f)&&y(g[f],f)}function Tt(g){return(0,d.CqO)(g)?g:(0,d.QGY)(g)?(0,B.D)(Promise.resolve(g)):(0,P.of)(g)}const Lt=!1,or={exact:function Hn(g,y,f){if(!Gn(g.segments,y.segments)||!ln(g.segments,y.segments,f)||g.numberOfChildren!==y.numberOfChildren)return!1;for(const I in y.children)if(!g.children[I]||!Hn(g.children[I],y.children[I],f))return!1;return!0},subset:tn},er={exact:function yr(g,y){return kn(g,y)},subset:function br(g,y){return Object.keys(y).length<=Object.keys(g).length&&Object.keys(y).every(f=>Xn(g[f],y[f]))},ignored:()=>!0};function Zn(g,y,f){return or[f.paths](g.root,y.root,f.matrixParams)&&er[f.queryParams](g.queryParams,y.queryParams)&&!("exact"===f.fragment&&g.fragment!==y.fragment)}function tn(g,y,f){return Or(g,y,y.segments,f)}function Or(g,y,f,I){if(g.segments.length>f.length){const O=g.segments.slice(0,f.length);return!(!Gn(O,f)||y.hasChildren()||!ln(O,f,I))}if(g.segments.length===f.length){if(!Gn(g.segments,f)||!ln(g.segments,f,I))return!1;for(const O in y.children)if(!g.children[O]||!tn(g.children[O],y.children[O],I))return!1;return!0}{const O=f.slice(0,g.segments.length),U=f.slice(g.segments.length);return!!(Gn(g.segments,O)&&ln(g.segments,O,I)&&g.children[Ct])&&Or(g.children[Ct],y,U,I)}}function ln(g,y,f){return y.every((I,O)=>er[f](g[O].parameters,I.parameters))}class Qn{constructor(y=new pt([],{}),f={},I=null){this.root=y,this.queryParams=f,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return lr.serialize(this)}}class pt{constructor(y,f){this.segments=y,this.children=f,this.parent=null,Ft(f,(I,O)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return le(this)}}class Yn{constructor(y,f){this.path=y,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Jt(this.parameters)),this._parameterMap}toString(){return Q(this)}}function Gn(g,y){return g.length===y.length&&g.every((f,I)=>f.path===y[I].path)}let sr=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:function(){return new tr},providedIn:"root"}),g})();class tr{parse(y){const f=new Pe(y);return new Qn(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(y){const f=`/${re(y.root,!0)}`,I=function Fe(g){const y=Object.keys(g).map(f=>{const I=g[f];return Array.isArray(I)?I.map(O=>`${q(f)}=${q(O)}`).join("&"):`${q(f)}=${q(I)}`}).filter(f=>!!f);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${f}${I}${"string"==typeof y.fragment?`#${function j(g){return encodeURI(g)}(y.fragment)}`:""}`}}const lr=new tr;function le(g){return g.segments.map(y=>Q(y)).join("/")}function re(g,y){if(!g.hasChildren())return le(g);if(y){const f=g.children[Ct]?re(g.children[Ct],!1):"",I=[];return Ft(g.children,(O,U)=>{U!==Ct&&I.push(`${U}:${re(O,!1)}`)}),I.length>0?`${f}(${I.join("//")})`:f}{const f=function ir(g,y){let f=[];return Ft(g.children,(I,O)=>{O===Ct&&(f=f.concat(y(I,O)))}),Ft(g.children,(I,O)=>{O!==Ct&&(f=f.concat(y(I,O)))}),f}(g,(I,O)=>O===Ct?[re(g.children[Ct],!1)]:[`${O}:${re(I,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[Ct]?`${le(g)}/${f[0]}`:`${le(g)}/(${f.join("//")})`}}function K(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q(g){return K(g).replace(/%3B/gi,";")}function pe(g){return K(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ee(g){return decodeURIComponent(g)}function ne(g){return ee(g.replace(/\+/g,"%20"))}function Q(g){return`${pe(g.path)}${function me(g){return Object.keys(g).map(y=>`;${pe(y)}=${pe(g[y])}`).join("")}(g.parameters)}`}const tt=/^[^\/()?;=#]+/;function Rt(g){const y=g.match(tt);return y?y[0]:""}const jt=/^[^=?&#]+/,pr=/^[^&#]+/;class Pe{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(y.length>0||Object.keys(f).length>0)&&(I[Ct]=new pt(y,f)),I}parseSegment(){const y=Rt(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new d.vHH(4009,Lt);return this.capture(y),new Yn(ee(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const f=Rt(this.remaining);if(!f)return;this.capture(f);let I="";if(this.consumeOptional("=")){const O=Rt(this.remaining);O&&(I=O,this.capture(I))}y[ee(f)]=ee(I)}parseQueryParam(y){const f=function Nn(g){const y=g.match(jt);return y?y[0]:""}(this.remaining);if(!f)return;this.capture(f);let I="";if(this.consumeOptional("=")){const Z=function Ve(g){const y=g.match(pr);return y?y[0]:""}(this.remaining);Z&&(I=Z,this.capture(I))}const O=ne(f),U=ne(I);if(y.hasOwnProperty(O)){let Z=y[O];Array.isArray(Z)||(Z=[Z],y[O]=Z),Z.push(U)}else y[O]=U}parseParens(y){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Rt(this.remaining),O=this.remaining[I.length];if("/"!==O&&")"!==O&&";"!==O)throw new d.vHH(4010,Lt);let U;I.indexOf(":")>-1?(U=I.slice(0,I.indexOf(":")),this.capture(U),this.capture(":")):y&&(U=Ct);const Z=this.parseChildren();f[U]=1===Object.keys(Z).length?Z[Ct]:new pt([],Z),this.consumeOptional("//")}return f}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new d.vHH(4011,Lt)}}function at(g){return g.segments.length>0?new pt([],{[Ct]:g}):g}function Ot(g){const y={};for(const I of Object.keys(g.children)){const U=Ot(g.children[I]);(U.segments.length>0||U.hasChildren())&&(y[I]=U)}return function Zt(g){if(1===g.numberOfChildren&&g.children[Ct]){const y=g.children[Ct];return new pt(g.segments.concat(y.segments),y.children)}return g}(new pt(g.segments,y))}function sn(g){return g instanceof Qn}const Vt=!1;function vr(g,y,f,I,O){if(0===f.length)return Mr(y.root,y.root,y.root,I,O);const U=function cn(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new St(!0,0,g);let y=0,f=!1;const I=g.reduce((O,U,Z)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Te={};return Ft(U.outlets,(Ke,It)=>{Te[It]="string"==typeof Ke?Ke.split("/"):Ke}),[...O,{outlets:Te}]}if(U.segmentPath)return[...O,U.segmentPath]}return"string"!=typeof U?[...O,U]:0===Z?(U.split("/").forEach((Te,Ke)=>{0==Ke&&"."===Te||(0==Ke&&""===Te?f=!0:".."===Te?y++:""!=Te&&O.push(Te))}),O):[...O,U]},[]);return new St(f,y,I)}(f);return U.toRoot()?Mr(y.root,y.root,new pt([],{}),I,O):function Z(Ke){const It=function ti(g,y,f,I){if(g.isAbsolute)return new jn(y.root,!0,0);if(-1===I)return new jn(f,f===y.root,0);return function Ar(g,y,f){let I=g,O=y,U=f;for(;U>O;){if(U-=O,I=I.parent,!I)throw new d.vHH(4005,Vt&&"Invalid number of '../'");O=I.segments.length}return new jn(I,!1,O-U)}(f,I+(Fi(g.commands[0])?0:1),g.numberOfDoubleDots)}(U,y,g.snapshot?._urlSegment,Ke),Pt=It.processChildren?ii(It.segmentGroup,It.index,U.commands):qn(It.segmentGroup,It.index,U.commands);return Mr(y.root,It.segmentGroup,Pt,I,O)}(g.snapshot?._lastPathIndex)}function Fi(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Qi(g){return"object"==typeof g&&null!=g&&g.outlets}function Mr(g,y,f,I,O){let Z,U={};I&&Ft(I,(Ke,It)=>{U[It]=Array.isArray(Ke)?Ke.map(Pt=>`${Pt}`):`${Ke}`}),Z=g===y?f:Sr(g,y,f);const Te=at(Ot(Z));return new Qn(Te,U,O)}function Sr(g,y,f){const I={};return Ft(g.children,(O,U)=>{I[U]=O===y?f:Sr(O,y,f)}),new pt(g.segments,I)}class St{constructor(y,f,I){if(this.isAbsolute=y,this.numberOfDoubleDots=f,this.commands=I,y&&I.length>0&&Fi(I[0]))throw new d.vHH(4003,Vt&&"Root segment cannot have matrix parameters");const O=I.find(Qi);if(O&&O!==On(I))throw new d.vHH(4004,Vt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jn{constructor(y,f,I){this.segmentGroup=y,this.processChildren=f,this.index=I}}function qn(g,y,f){if(g||(g=new pt([],{})),0===g.segments.length&&g.hasChildren())return ii(g,y,f);const I=function Li(g,y,f){let I=0,O=y;const U={match:!1,pathIndex:0,commandIndex:0};for(;O<g.segments.length;){if(I>=f.length)return U;const Z=g.segments[O],Te=f[I];if(Qi(Te))break;const Ke=`${Te}`,It=I<f.length-1?f[I+1]:null;if(O>0&&void 0===Ke)break;if(Ke&&It&&"object"==typeof It&&void 0===It.outlets){if(!Ji(Ke,It,Z))return U;I+=2}else{if(!Ji(Ke,{},Z))return U;I++}O++}return{match:!0,pathIndex:O,commandIndex:I}}(g,y,f),O=f.slice(I.commandIndex);if(I.match&&I.pathIndex<g.segments.length){const U=new pt(g.segments.slice(0,I.pathIndex),{});return U.children[Ct]=new pt(g.segments.slice(I.pathIndex),g.children),ii(U,0,O)}return I.match&&0===O.length?new pt(g.segments,{}):I.match&&!g.hasChildren()?on(g,y,f):I.match?ii(g,0,O):on(g,y,f)}function ii(g,y,f){if(0===f.length)return new pt(g.segments,{});{const I=function wi(g){return Qi(g[0])?g[0].outlets:{[Ct]:g}}(f),O={};if(!I[Ct]&&g.children[Ct]&&1===g.numberOfChildren&&0===g.children[Ct].segments.length){const U=ii(g.children[Ct],y,f);return new pt(g.segments,U.children)}return Ft(I,(U,Z)=>{"string"==typeof U&&(U=[U]),null!==U&&(O[Z]=qn(g.children[Z],y,U))}),Ft(g.children,(U,Z)=>{void 0===I[Z]&&(O[Z]=U)}),new pt(g.segments,O)}}function on(g,y,f){const I=g.segments.slice(0,y);let O=0;for(;O<f.length;){const U=f[O];if(Qi(U)){const Ke=Vi(U.outlets);return new pt(I,Ke)}if(0===O&&Fi(f[0])){I.push(new Yn(g.segments[y].path,kr(f[0]))),O++;continue}const Z=Qi(U)?U.outlets[Ct]:`${U}`,Te=O<f.length-1?f[O+1]:null;Z&&Te&&Fi(Te)?(I.push(new Yn(Z,kr(Te))),O+=2):(I.push(new Yn(Z,{})),O++)}return new pt(I,{})}function Vi(g){const y={};return Ft(g,(f,I)=>{"string"==typeof f&&(f=[f]),null!==f&&(y[I]=on(new pt([],{}),0,f))}),y}function kr(g){const y={};return Ft(g,(f,I)=>y[I]=`${f}`),y}function Ji(g,y,f){return g==f.path&&kn(y,f.parameters)}const Hr="imperative";class Fn{constructor(y,f){this.id=y,this.url=f}}class bi extends Fn{constructor(y,f,I="imperative",O=null){super(y,f),this.type=0,this.navigationTrigger=I,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qr extends Fn{constructor(y,f,I){super(y,f),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fr extends Fn{constructor(y,f,I,O){super(y,f),this.reason=I,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ti extends Fn{constructor(y,f,I,O){super(y,f),this.reason=I,this.code=O,this.type=16}}class Nr extends Fn{constructor(y,f,I,O){super(y,f),this.error=I,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nr extends Fn{constructor(y,f,I,O){super(y,f),this.urlAfterRedirects=I,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Fn{constructor(y,f,I,O){super(y,f),this.urlAfterRedirects=I,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends Fn{constructor(y,f,I,O,U){super(y,f),this.urlAfterRedirects=I,this.state=O,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class De extends Fn{constructor(y,f,I,O){super(y,f),this.urlAfterRedirects=I,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ue extends Fn{constructor(y,f,I,O){super(y,f),this.urlAfterRedirects=I,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oe{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nt{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(y,f,I){this.routerEvent=y,this.position=f,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ut=(()=>{class g{createUrlTree(f,I,O,U,Z,Te){return vr(f||I.root,O,U,Z,Te)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac}),g})(),wo=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:function(y){return Ut.\u0275fac(y)},providedIn:"root"}),g})();class Lo{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const f=this.pathFromRoot(y);return f.length>1?f[f.length-2]:null}children(y){const f=gr(y,this._root);return f?f.children.map(I=>I.value):[]}firstChild(y){const f=gr(y,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(y){const f=qo(y,this._root);return f.length<2?[]:f[f.length-2].children.map(O=>O.value).filter(O=>O!==y)}pathFromRoot(y){return qo(y,this._root).map(f=>f.value)}}function gr(g,y){if(g===y.value)return y;for(const f of y.children){const I=gr(g,f);if(I)return I}return null}function qo(g,y){if(g===y.value)return[y];for(const f of y.children){const I=qo(g,f);if(I.length)return I.unshift(y),I}return[]}class Si{constructor(y,f){this.value=y,this.children=f}toString(){return`TreeNode(${this.value})`}}function Ui(g){const y={};return g&&g.children.forEach(f=>y[f.value.outlet]=f),y}class Qo extends Lo{constructor(y,f){super(y),this.snapshot=f,es(this,y)}toString(){return this.snapshot.toString()}}function Bi(g,y){const f=function Jo(g,y){const Z=new si([],{},{},"",{},Ct,y,null,g.root,-1,{});return new co("",new Si(Z,[]))}(g,y),I=new ce.X([new Yn("",{})]),O=new ce.X({}),U=new ce.X({}),Z=new ce.X({}),Te=new ce.X(""),Ke=new oi(I,O,Z,Te,U,Ct,y,f.root);return Ke.snapshot=f.root,new Qo(new Si(Ke,[]),f)}class oi{constructor(y,f,I,O,U,Z,Te,Ke){this.url=y,this.params=f,this.queryParams=I,this.fragment=O,this.data=U,this.outlet=Z,this.component=Te,this.title=this.data?.pipe((0,Yt.U)(It=>It[Tn]))??(0,P.of)(void 0),this._futureSnapshot=Ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Yt.U)(y=>Jt(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Yt.U)(y=>Jt(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xo(g,y="emptyOnly"){const f=g.pathFromRoot;let I=0;if("always"!==y)for(I=f.length-1;I>=1;){const O=f[I],U=f[I-1];if(O.routeConfig&&""===O.routeConfig.path)I--;else{if(U.component)break;I--}}return function Ms(g){return g.reduce((y,f)=>({params:{...y.params,...f.params},data:{...y.data,...f.data},resolve:{...f.data,...y.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(I))}class si{get title(){return this.data?.[Tn]}constructor(y,f,I,O,U,Z,Te,Ke,It,Pt,mn){this.url=y,this.params=f,this.queryParams=I,this.fragment=O,this.data=U,this.outlet=Z,this.component=Te,this.routeConfig=Ke,this._urlSegment=It,this._lastPathIndex=Pt,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class co extends Lo{constructor(y,f){super(f),this.url=y,es(this,f)}toString(){return Xi(this._root)}}function es(g,y){y.value._routerState=g,y.children.forEach(f=>es(g,f))}function Xi(g){const y=g.children.length>0?` { ${g.children.map(Xi).join(", ")} } `:"";return`${g.value}${y}`}function fi(g){if(g.snapshot){const y=g.snapshot,f=g._futureSnapshot;g.snapshot=f,kn(y.queryParams,f.queryParams)||g.queryParams.next(f.queryParams),y.fragment!==f.fragment&&g.fragment.next(f.fragment),kn(y.params,f.params)||g.params.next(f.params),function hn(g,y){if(g.length!==y.length)return!1;for(let f=0;f<g.length;++f)if(!kn(g[f],y[f]))return!1;return!0}(y.url,f.url)||g.url.next(f.url),kn(y.data,f.data)||g.data.next(f.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function pn(g,y){const f=kn(g.params,y.params)&&function rr(g,y){return Gn(g,y)&&g.every((f,I)=>kn(f.parameters,y[I].parameters))}(g.url,y.url);return f&&!(!g.parent!=!y.parent)&&(!g.parent||pn(g.parent,y.parent))}function ai(g,y,f){if(f&&g.shouldReuseRoute(y.value,f.value.snapshot)){const I=f.value;I._futureSnapshot=y.value;const O=function Mi(g,y,f){return y.children.map(I=>{for(const O of f.children)if(g.shouldReuseRoute(I.value,O.value.snapshot))return ai(g,I,O);return ai(g,I)})}(g,y,f);return new Si(I,O)}{if(g.shouldAttach(y.value)){const U=g.retrieve(y.value);if(null!==U){const Z=U.route;return Z.value._futureSnapshot=y.value,Z.children=y.children.map(Te=>ai(g,Te)),Z}}const I=function Ri(g){return new oi(new ce.X(g.url),new ce.X(g.params),new ce.X(g.queryParams),new ce.X(g.fragment),new ce.X(g.data),g.outlet,g.component,g)}(y.value),O=y.children.map(U=>ai(g,U));return new Si(I,O)}}const Hi="ngNavigationCancelingError";function jr(g,y){const{redirectTo:f,navigationBehaviorOptions:I}=sn(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,O=ps(!1,0,y);return O.url=f,O.navigationBehaviorOptions=I,O}function ps(g,y,f){const I=new Error("NavigationCancelingError: "+(g||""));return I[Hi]=!0,I.cancellationCode=y,f&&(I.url=f),I}function mr(g){return Pi(g)&&sn(g.url)}function Pi(g){return g&&g[Hi]}class bo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new eo,this.attachRef=null}}let eo=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(f,I){const O=this.getOrCreateContext(f);O.outlet=I,this.contexts.set(f,O)}onChildOutletDestroyed(f){const I=this.getContext(f);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let I=this.getContext(f);return I||(I=new bo,this.contexts.set(f,I)),I}getContext(f){return this.contexts.get(f)||null}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const ji=!1;let mi=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(eo),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(f){if(f.name){const{firstChange:I,previousValue:O}=f.name;if(I)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ji);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ji);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ji);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,I){this.activated=f,this._activatedRoute=I,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,I){if(this.isActivated)throw new d.vHH(4013,ji);this._activatedRoute=f;const O=this.location,Z=f.snapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,Ke=new ur(f,Te,O.injector);if(I&&function To(g){return!!g.resolveComponentFactory}(I)){const It=I.resolveComponentFactory(Z);this.activated=O.createComponent(It,O.length,Ke)}else this.activated=O.createComponent(Z,{index:O.length,injector:Ke,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275dir=d.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),g})();class ur{constructor(y,f,I){this.route=y,this.childContexts=f,this.parent=I}get(y,f){return y===oi?this.route:y===eo?this.childContexts:this.parent.get(y,f)}}let li=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275cmp=d.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(f,I){1&f&&d._UZ(0,"router-outlet")},dependencies:[mi],encapsulation:2}),g})();function Cr(g,y){return g.providers&&!g._injector&&(g._injector=(0,d.MMx)(g.providers,y,`Route: ${g.path}`)),g._injector??y}function _i(g){const y=g.children&&g.children.map(_i),f=y?{...g,children:y}:{...g};return!f.component&&!f.loadComponent&&(y||f.loadChildren)&&f.outlet&&f.outlet!==Ct&&(f.component=li),f}function Ur(g){return g.outlet||Ct}function Br(g,y){const f=g.filter(I=>Ur(I)===y);return f.push(...g.filter(I=>Ur(I)!==y)),f}function ni(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let y=g.parent;y;y=y.parent){const f=y.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class dn{constructor(y,f,I,O){this.routeReuseStrategy=y,this.futureState=f,this.currState=I,this.forwardEvent=O}activate(y){const f=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,I,y),fi(this.futureState.root),this.activateChildRoutes(f,I,y)}deactivateChildRoutes(y,f,I){const O=Ui(f);y.children.forEach(U=>{const Z=U.value.outlet;this.deactivateRoutes(U,O[Z],I),delete O[Z]}),Ft(O,(U,Z)=>{this.deactivateRouteAndItsChildren(U,I)})}deactivateRoutes(y,f,I){const O=y.value,U=f?f.value:null;if(O===U)if(O.component){const Z=I.getContext(O.outlet);Z&&this.deactivateChildRoutes(y,f,Z.children)}else this.deactivateChildRoutes(y,f,I);else U&&this.deactivateRouteAndItsChildren(f,I)}deactivateRouteAndItsChildren(y,f){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,f):this.deactivateRouteAndOutlet(y,f)}detachAndStoreRouteSubtree(y,f){const I=f.getContext(y.value.outlet),O=I&&y.value.component?I.children:f,U=Ui(y);for(const Z of Object.keys(U))this.deactivateRouteAndItsChildren(U[Z],O);if(I&&I.outlet){const Z=I.outlet.detach(),Te=I.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:Z,route:y,contexts:Te})}}deactivateRouteAndOutlet(y,f){const I=f.getContext(y.value.outlet),O=I&&y.value.component?I.children:f,U=Ui(y);for(const Z of Object.keys(U))this.deactivateRouteAndItsChildren(U[Z],O);I&&(I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated()),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(y,f,I){const O=Ui(f);y.children.forEach(U=>{this.activateRoutes(U,O[U.value.outlet],I),this.forwardEvent(new fn(U.value.snapshot))}),y.children.length&&this.forwardEvent(new At(y.value.snapshot))}activateRoutes(y,f,I){const O=y.value,U=f?f.value:null;if(fi(O),O===U)if(O.component){const Z=I.getOrCreateContext(O.outlet);this.activateChildRoutes(y,f,Z.children)}else this.activateChildRoutes(y,f,I);else if(O.component){const Z=I.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Te=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Z.children.onOutletReAttached(Te.contexts),Z.attachRef=Te.componentRef,Z.route=Te.route.value,Z.outlet&&Z.outlet.attach(Te.componentRef,Te.route.value),fi(Te.route.value),this.activateChildRoutes(y,null,Z.children)}else{const Te=ni(O.snapshot),Ke=Te?.get(d._Vd)??null;Z.attachRef=null,Z.route=O,Z.resolver=Ke,Z.injector=Te,Z.outlet&&Z.outlet.activateWith(O,Z.injector),this.activateChildRoutes(y,null,Z.children)}}else this.activateChildRoutes(y,null,I)}}class to{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class gs{constructor(y,f){this.component=y,this.route=f}}function cr(g,y,f){const I=g._root;return go(I,y?y._root:null,f,[I.value])}function po(g,y){const f=Symbol(),I=y.get(g,f);return I===f?"function"!=typeof g||(0,d.Z0I)(g)?y.get(g):g:I}function go(g,y,f,I,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=Ui(y);return g.children.forEach(Z=>{(function ms(g,y,f,I,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=g.value,Z=y?y.value:null,Te=f?f.getContext(g.value.outlet):null;if(Z&&U.routeConfig===Z.routeConfig){const Ke=function Vo(g,y,f){if("function"==typeof f)return f(g,y);switch(f){case"pathParamsChange":return!Gn(g.url,y.url);case"pathParamsOrQueryParamsChange":return!Gn(g.url,y.url)||!kn(g.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pn(g,y)||!kn(g.queryParams,y.queryParams);default:return!pn(g,y)}}(Z,U,U.routeConfig.runGuardsAndResolvers);Ke?O.canActivateChecks.push(new to(I)):(U.data=Z.data,U._resolvedData=Z._resolvedData),go(g,y,U.component?Te?Te.children:null:f,I,O),Ke&&Te&&Te.outlet&&Te.outlet.isActivated&&O.canDeactivateChecks.push(new gs(Te.outlet.component,Z))}else Z&&w(y,Te,O),O.canActivateChecks.push(new to(I)),go(g,null,U.component?Te?Te.children:null:f,I,O)})(Z,U[Z.value.outlet],f,I.concat([Z.value]),O),delete U[Z.value.outlet]}),Ft(U,(Z,Te)=>w(Z,f.getContext(Te),O)),O}function w(g,y,f){const I=Ui(g),O=g.value;Ft(I,(U,Z)=>{w(U,O.component?y?y.children.getContext(Z):null:y,f)}),f.canDeactivateChecks.push(new gs(O.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,O))}function M(g){return"function"==typeof g}function Gi(g){return g instanceof ae.K||"EmptyError"===g?.name}const ui=Symbol("INITIAL_VALUE");function ci(){return(0,Kt.w)(g=>We(g.map(y=>y.pipe((0,dt.q)(1),function Rn(...g){const y=(0,se.yG)(g);return(0,W.e)((f,I)=>{(y?et(g,f,y):et(g,f)).subscribe(I)})}(ui)))).pipe((0,Yt.U)(y=>{for(const f of y)if(!0!==f){if(f===ui)return ui;if(!1===f||f instanceof Qn)return f}return!0}),(0,_e.h)(y=>y!==ui),(0,dt.q)(1)))}function Ir(g){return(0,Ye.z)((0,Be.b)(y=>{if(sn(y))throw jr(0,y)}),(0,Yt.U)(y=>!0===y))}const Bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ps(g,y,f,I,O){const U=ns(g,y,f);return U.matched?function Rs(g,y,f,I){const O=y.canMatch;if(!O||0===O.length)return(0,P.of)(!0);const U=O.map(Z=>{const Te=po(Z,g);return Tt(function dr(g){return g&&M(g.canMatch)}(Te)?Te.canMatch(y,f):g.runInContext(()=>Te(y,f)))});return(0,P.of)(U).pipe(ci(),Ir())}(I=Cr(y,I),y,f).pipe((0,Yt.U)(Z=>!0===Z?U:{...Bo})):(0,P.of)(U)}function ns(g,y,f){if(""===y.path)return"full"===y.pathMatch&&(g.hasChildren()||f.length>0)?{...Bo}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const O=(y.matcher||gt)(f,g,y);if(!O)return{...Bo};const U={};Ft(O.posParams,(Te,Ke)=>{U[Ke]=Te.path});const Z=O.consumed.length>0?{...U,...O.consumed[O.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:O.consumed,remainingSegments:f.slice(O.consumed.length),parameters:Z,positionalParamSegments:O.posParams??{}}}function _s(g,y,f,I){if(f.length>0&&function Ho(g,y,f){return f.some(I=>yo(g,y,I)&&Ur(I)!==Ct)}(g,f,I)){const U=new pt(y,function pi(g,y,f,I){const O={};O[Ct]=I,I._sourceSegment=g,I._segmentIndexShift=y.length;for(const U of f)if(""===U.path&&Ur(U)!==Ct){const Z=new pt([],{});Z._sourceSegment=g,Z._segmentIndexShift=y.length,O[Ur(U)]=Z}return O}(g,y,I,new pt(f,g.children)));return U._sourceSegment=g,U._segmentIndexShift=y.length,{segmentGroup:U,slicedSegments:[]}}if(0===f.length&&function ys(g,y,f){return f.some(I=>yo(g,y,I))}(g,f,I)){const U=new pt(g.segments,function rs(g,y,f,I,O){const U={};for(const Z of I)if(yo(g,f,Z)&&!O[Ur(Z)]){const Te=new pt([],{});Te._sourceSegment=g,Te._segmentIndexShift=y.length,U[Ur(Z)]=Te}return{...O,...U}}(g,y,f,I,g.children));return U._sourceSegment=g,U._segmentIndexShift=y.length,{segmentGroup:U,slicedSegments:f}}const O=new pt(g.segments,g.children);return O._sourceSegment=g,O._segmentIndexShift=y.length,{segmentGroup:O,slicedSegments:f}}function yo(g,y,f){return(!(g.hasChildren()||y.length>0)||"full"!==f.pathMatch)&&""===f.path}function is(g,y,f,I){return!!(Ur(g)===I||I!==Ct&&yo(y,f,g))&&("**"===g.path||ns(y,g,f).matched)}function So(g,y,f){return 0===y.length&&!g.children[f]}const zi=!1;class Dr{constructor(y){this.segmentGroup=y||null}}class Gr{constructor(y){this.urlTree=y}}function ar(g){return ot(new Dr(g))}function Ks(g){return ot(new Gr(g))}class vs{constructor(y,f,I,O,U){this.injector=y,this.configLoader=f,this.urlSerializer=I,this.urlTree=O,this.config=U,this.allowRedirects=!0}apply(){const y=_s(this.urlTree.root,[],[],this.config).segmentGroup,f=new pt(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,f,Ct).pipe((0,Yt.U)(U=>this.createUrlTree(Ot(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(je(U=>{if(U instanceof Gr)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof Dr?this.noMatchError(U):U}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,Ct).pipe((0,Yt.U)(O=>this.createUrlTree(Ot(O),y.queryParams,y.fragment))).pipe(je(O=>{throw O instanceof Dr?this.noMatchError(O):O}))}noMatchError(y){return new d.vHH(4002,zi)}createUrlTree(y,f,I){const O=at(y);return new Qn(O,f,I)}expandSegmentGroup(y,f,I,O){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(y,f,I).pipe((0,Yt.U)(U=>new pt([],U))):this.expandSegment(y,I,f,I.segments,O,!0)}expandChildren(y,f,I){const O=[];for(const U of Object.keys(I.children))"primary"===U?O.unshift(U):O.push(U);return(0,B.D)(O).pipe(Ee(U=>{const Z=I.children[U],Te=Br(f,U);return this.expandSegmentGroup(y,Te,Z,U).pipe((0,Yt.U)(Ke=>({segment:Ke,outlet:U})))}),(0,_t.R)((U,Z)=>(U[Z.outlet]=Z.segment,U),{}),Xt())}expandSegment(y,f,I,O,U,Z){return(0,B.D)(I).pipe(Ee(Te=>this.expandSegmentAgainstRoute(y,f,I,Te,O,U,Z).pipe(je(It=>{if(It instanceof Dr)return(0,P.of)(null);throw It}))),(0,Se.P)(Te=>!!Te),je((Te,Ke)=>{if(Gi(Te))return So(f,O,U)?(0,P.of)(new pt([],{})):ar(f);throw Te}))}expandSegmentAgainstRoute(y,f,I,O,U,Z,Te){return is(O,f,U,Z)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(y,f,O,U,Z):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,f,I,O,U,Z):ar(f):ar(f)}expandSegmentAgainstRouteUsingRedirect(y,f,I,O,U,Z){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,I,O,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(y,f,I,O,U,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,f,I,O){const U=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?Ks(U):this.lineralizeSegments(I,U).pipe((0,ye.z)(Z=>{const Te=new pt(Z,{});return this.expandSegment(y,Te,f,Z,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,f,I,O,U,Z){const{matched:Te,consumedSegments:Ke,remainingSegments:It,positionalParamSegments:Pt}=ns(f,O,U);if(!Te)return ar(f);const mn=this.applyRedirectCommands(Ke,O.redirectTo,Pt);return O.redirectTo.startsWith("/")?Ks(mn):this.lineralizeSegments(O,mn).pipe((0,ye.z)(Zr=>this.expandSegment(y,f,I,Zr.concat(It),Z,!1)))}matchSegmentAgainstRoute(y,f,I,O,U){return"**"===I.path?(y=Cr(I,y),I.loadChildren?(I._loadedRoutes?(0,P.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(y,I)).pipe((0,Yt.U)(Te=>(I._loadedRoutes=Te.routes,I._loadedInjector=Te.injector,new pt(O,{})))):(0,P.of)(new pt(O,{}))):Ps(f,I,O,y).pipe((0,Kt.w)(({matched:Z,consumedSegments:Te,remainingSegments:Ke})=>Z?this.getChildConfig(y=I._injector??y,I,O).pipe((0,ye.z)(Pt=>{const mn=Pt.injector??y,Zr=Pt.routes,{segmentGroup:xi,slicedSegments:oo}=_s(f,Te,Ke,Zr),so=new pt(xi.segments,xi.children);if(0===oo.length&&so.hasChildren())return this.expandChildren(mn,Zr,so).pipe((0,Yt.U)(bs=>new pt(Te,bs)));if(0===Zr.length&&0===oo.length)return(0,P.of)(new pt(Te,{}));const Pr=Ur(I)===U;return this.expandSegment(mn,so,Zr,oo,Pr?Ct:U,!0).pipe((0,Yt.U)(na=>new pt(Te.concat(na.segments),na.children)))})):ar(f)))}getChildConfig(y,f,I){return f.children?(0,P.of)({routes:f.children,injector:y}):f.loadChildren?void 0!==f._loadedRoutes?(0,P.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function ua(g,y,f,I){const O=y.canLoad;if(void 0===O||0===O.length)return(0,P.of)(!0);const U=O.map(Z=>{const Te=po(Z,g);return Tt(function z(g){return g&&M(g.canLoad)}(Te)?Te.canLoad(y,f):g.runInContext(()=>Te(y,f)))});return(0,P.of)(U).pipe(ci(),Ir())}(y,f,I).pipe((0,ye.z)(O=>O?this.configLoader.loadChildren(y,f).pipe((0,Be.b)(U=>{f._loadedRoutes=U.routes,f._loadedInjector=U.injector})):function Zs(g){return ot(ps(zi,3))}())):(0,P.of)({routes:[],injector:y})}lineralizeSegments(y,f){let I=[],O=f.root;for(;;){if(I=I.concat(O.segments),0===O.numberOfChildren)return(0,P.of)(I);if(O.numberOfChildren>1||!O.children[Ct])return y.redirectTo,ot(new d.vHH(4e3,zi));O=O.children[Ct]}}applyRedirectCommands(y,f,I){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),y,I)}applyRedirectCreateUrlTree(y,f,I,O){const U=this.createSegmentGroup(y,f.root,I,O);return new Qn(U,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(y,f){const I={};return Ft(y,(O,U)=>{if("string"==typeof O&&O.startsWith(":")){const Te=O.substring(1);I[U]=f[Te]}else I[U]=O}),I}createSegmentGroup(y,f,I,O){const U=this.createSegments(y,f.segments,I,O);let Z={};return Ft(f.children,(Te,Ke)=>{Z[Ke]=this.createSegmentGroup(y,Te,I,O)}),new pt(U,Z)}createSegments(y,f,I,O){return f.map(U=>U.path.startsWith(":")?this.findPosParam(y,U,O):this.findOrReturn(U,I))}findPosParam(y,f,I){const O=I[f.path.substring(1)];if(!O)throw new d.vHH(4001,zi);return O}findOrReturn(y,f){let I=0;for(const O of f){if(O.path===y.path)return f.splice(I),O;I++}return y}}class ss{}class L{constructor(y,f,I,O,U,Z,Te){this.injector=y,this.rootComponentType=f,this.config=I,this.urlTree=O,this.url=U,this.paramsInheritanceStrategy=Z,this.urlSerializer=Te}recognize(){const y=_s(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,Ct).pipe((0,Yt.U)(f=>{if(null===f)return null;const I=new si([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Si(I,f),U=new co(this.url,O);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(y){const f=y.value,I=Xo(f,this.paramsInheritanceStrategy);f.params=Object.freeze(I.params),f.data=Object.freeze(I.data),y.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(y,f,I,O){return 0===I.segments.length&&I.hasChildren()?this.processChildren(y,f,I):this.processSegment(y,f,I,I.segments,O)}processChildren(y,f,I){return(0,B.D)(Object.keys(I.children)).pipe(Ee(O=>{const U=I.children[O],Z=Br(f,O);return this.processSegmentGroup(y,Z,U,O)}),(0,_t.R)((O,U)=>O&&U?(O.push(...U),O):null),function bn(g,y=!1){return(0,W.e)((f,I)=>{let O=0;f.subscribe((0,fe.x)(I,U=>{const Z=g(U,O++);(Z||y)&&I.next(U),!Z&&I.complete()}))})}(O=>null!==O),(0,mt.d)(null),Xt(),(0,Yt.U)(O=>{if(null===O)return null;const U=Ue(O);return function S(g){g.sort((y,f)=>y.value.outlet===Ct?-1:f.value.outlet===Ct?1:y.value.outlet.localeCompare(f.value.outlet))}(U),U}))}processSegment(y,f,I,O,U){return(0,B.D)(f).pipe(Ee(Z=>this.processSegmentAgainstRoute(Z._injector??y,Z,I,O,U)),(0,Se.P)(Z=>!!Z),je(Z=>{if(Gi(Z))return So(I,O,U)?(0,P.of)([]):(0,P.of)(null);throw Z}))}processSegmentAgainstRoute(y,f,I,O,U){if(f.redirectTo||!is(f,I,O,U))return(0,P.of)(null);let Z;if("**"===f.path){const Te=O.length>0?On(O).parameters:{},Ke=Ln(I)+O.length,It=new si(O,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sn(f),Ur(f),f.component??f._loadedComponent??null,f,Bt(I),Ke,Cn(f));Z=(0,P.of)({snapshot:It,consumedSegments:[],remainingSegments:[]})}else Z=Ps(I,f,O,y).pipe((0,Yt.U)(({matched:Te,consumedSegments:Ke,remainingSegments:It,parameters:Pt})=>{if(!Te)return null;const mn=Ln(I)+Ke.length;return{snapshot:new si(Ke,Pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sn(f),Ur(f),f.component??f._loadedComponent??null,f,Bt(I),mn,Cn(f)),consumedSegments:Ke,remainingSegments:It}}));return Z.pipe((0,Kt.w)(Te=>{if(null===Te)return(0,P.of)(null);const{snapshot:Ke,consumedSegments:It,remainingSegments:Pt}=Te;y=f._injector??y;const mn=f._loadedInjector??y,Zr=function H(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(f),{segmentGroup:xi,slicedSegments:oo}=_s(I,It,Pt,Zr.filter(Pr=>void 0===Pr.redirectTo));if(0===oo.length&&xi.hasChildren())return this.processChildren(mn,Zr,xi).pipe((0,Yt.U)(Pr=>null===Pr?null:[new Si(Ke,Pr)]));if(0===Zr.length&&0===oo.length)return(0,P.of)([new Si(Ke,[])]);const so=Ur(f)===U;return this.processSegment(mn,Zr,xi,oo,so?Ct:U).pipe((0,Yt.U)(Pr=>null===Pr?null:[new Si(Ke,Pr)]))}))}}function ie(g){const y=g.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Ue(g){const y=[],f=new Set;for(const I of g){if(!ie(I)){y.push(I);continue}const O=y.find(U=>I.value.routeConfig===U.value.routeConfig);void 0!==O?(O.children.push(...I.children),f.add(O)):y.push(I)}for(const I of f){const O=Ue(I.children);y.push(new Si(I.value,O))}return y.filter(I=>!f.has(I))}function Bt(g){let y=g;for(;y._sourceSegment;)y=y._sourceSegment;return y}function Ln(g){let y=g,f=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,f+=y._segmentIndexShift??0;return f-1}function Sn(g){return g.data||{}}function Cn(g){return g.resolve||{}}function ei(g){return"string"==typeof g.title||null===g.title}function Ei(g){return(0,Kt.w)(y=>{const f=g(y);return f?(0,B.D)(f).pipe((0,Yt.U)(()=>y)):(0,P.of)(y)})}const di=new d.OlP("ROUTES");let Ns=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,P.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const I=Tt(f.loadComponent()).pipe((0,Yt.U)(Wa),(0,Be.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=U}),$t(()=>{this.componentLoaders.delete(f)})),O=new ct(I,()=>new zt.x).pipe(kt());return this.componentLoaders.set(f,O),O}loadChildren(f,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,P.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const U=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,Yt.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(I);let Ke,It,Pt=!1;Array.isArray(Te)?It=Te:(Ke=Te.create(f).injector,It=wr(Ke.get(di,[],d.XFs.Self|d.XFs.Optional)));return{routes:It.map(_i),injector:Ke}}),$t(()=>{this.childrenLoaders.delete(I)})),Z=new ct(U,()=>new zt.x).pipe(kt());return this.childrenLoaders.set(I,Z),Z}loadModuleFactoryOrRoutes(f){return Tt(f()).pipe((0,Yt.U)(Wa),(0,ye.z)(I=>I instanceof d.YKP||Array.isArray(I)?(0,P.of)(I):(0,B.D)(this.compiler.compileModuleAsync(I))))}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function Wa(g){return function Ys(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let ks=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new zt.x,this.configLoader=(0,d.f3M)(Ns),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(sr),this.rootContexts=(0,d.f3M)(eo),this.navigationId=0,this.afterPreactivation=()=>(0,P.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Oe(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Ce(O))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const I=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:I})}setupNavigations(f){return this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hr,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_e.h)(I=>0!==I.id),(0,Yt.U)(I=>({...I,extractedUrl:f.urlHandlingStrategy.extract(I.rawUrl)})),(0,Kt.w)(I=>{let O=!1,U=!1;return(0,P.of)(I).pipe((0,Be.b)(Z=>{this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Kt.w)(Z=>{const Te=f.browserUrlTree.toString(),Ke=!f.navigated||Z.extractedUrl.toString()!==Te||Te!==f.currentUrlTree.toString();if(!Ke&&"reload"!==(Z.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Pt="";return this.events.next(new Ti(Z.id,f.serializeUrl(I.rawUrl),Pt,0)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),Ze.E}if(f.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return Ta(Z.source)&&(f.browserUrlTree=Z.extractedUrl),(0,P.of)(Z).pipe((0,Kt.w)(Pt=>{const mn=this.transitions?.getValue();return this.events.next(new bi(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),Pt.source,Pt.restoredState)),mn!==this.transitions?.getValue()?Ze.E:Promise.resolve(Pt)}),function Os(g,y,f,I){return(0,Kt.w)(O=>function $a(g,y,f,I,O){return new vs(g,y,f,I,O).apply()}(g,y,f,O.extractedUrl,I).pipe((0,Yt.U)(U=>({...O,urlAfterRedirects:U}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,Be.b)(Pt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pt.urlAfterRedirects},I.urlAfterRedirects=Pt.urlAfterRedirects}),function hr(g,y,f,I,O){return(0,ye.z)(U=>function D(g,y,f,I,O,U,Z="emptyOnly"){return new L(g,y,f,I,O,Z,U).recognize().pipe((0,Kt.w)(Te=>null===Te?function Ao(g){return new he.y(y=>y.error(g))}(new ss):(0,P.of)(Te)))}(g,y,f,U.urlAfterRedirects,I.serialize(U.urlAfterRedirects),I,O).pipe((0,Yt.U)(Z=>({...U,targetSnapshot:Z}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,Be.b)(Pt=>{if(I.targetSnapshot=Pt.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!Pt.extras.skipLocationChange){const Zr=f.urlHandlingStrategy.merge(Pt.urlAfterRedirects,Pt.rawUrl);f.setBrowserUrl(Zr,Pt)}f.browserUrlTree=Pt.urlAfterRedirects}const mn=new nr(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(mn)}));if(Ke&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:Pt,extractedUrl:mn,source:Zr,restoredState:xi,extras:oo}=Z,so=new bi(Pt,this.urlSerializer.serialize(mn),Zr,xi);this.events.next(so);const Pr=Bi(mn,this.rootComponentType).snapshot;return I={...Z,targetSnapshot:Pr,urlAfterRedirects:mn,extras:{...oo,skipLocationChange:!1,replaceUrl:!1}},(0,P.of)(I)}{const Pt="";return this.events.next(new Ti(Z.id,f.serializeUrl(I.extractedUrl),Pt,1)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),Ze.E}}),(0,Be.b)(Z=>{const Te=new Qr(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(Te)}),(0,Yt.U)(Z=>I={...Z,guards:cr(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)}),function Jr(g,y){return(0,ye.z)(f=>{const{targetSnapshot:I,currentSnapshot:O,guards:{canActivateChecks:U,canDeactivateChecks:Z}}=f;return 0===Z.length&&0===U.length?(0,P.of)({...f,guardsResult:!0}):function Xr(g,y,f,I){return(0,B.D)(g).pipe((0,ye.z)(O=>function Uo(g,y,f,I,O){const U=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,P.of)(!0);const Z=U.map(Te=>{const Ke=ni(y)??O,It=po(Te,Ke);return Tt(function $n(g){return g&&M(g.canDeactivate)}(It)?It.canDeactivate(g,y,f,I):Ke.runInContext(()=>It(g,y,f,I))).pipe((0,Se.P)())});return(0,P.of)(Z).pipe(ci())}(O.component,O.route,f,y,I)),(0,Se.P)(O=>!0!==O,!0))}(Z,I,O,g).pipe((0,ye.z)(Te=>Te&&function R(g){return"boolean"==typeof g}(Te)?function _o(g,y,f,I){return(0,B.D)(y).pipe(Ee(O=>et(function yi(g,y){return null!==g&&y&&y(new nt(g)),(0,P.of)(!0)}(O.route.parent,I),function no(g,y){return null!==g&&y&&y(new nn(g)),(0,P.of)(!0)}(O.route,I),function ro(g,y,f){const I=y[y.length-1],U=y.slice(0,y.length-1).reverse().map(Z=>function ts(g){const y=g.routeConfig?g.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:g,guards:y}:null}(Z)).filter(Z=>null!==Z).map(Z=>ze(()=>{const Te=Z.guards.map(Ke=>{const It=ni(Z.node)??f,Pt=po(Ke,It);return Tt(function Gt(g){return g&&M(g.canActivateChild)}(Pt)?Pt.canActivateChild(I,g):It.runInContext(()=>Pt(I,g))).pipe((0,Se.P)())});return(0,P.of)(Te).pipe(ci())}));return(0,P.of)(U).pipe(ci())}(g,O.path,f),function la(g,y,f){const I=y.routeConfig?y.routeConfig.canActivate:null;if(!I||0===I.length)return(0,P.of)(!0);const O=I.map(U=>ze(()=>{const Z=ni(y)??f,Te=po(U,Z);return Tt(function xe(g){return g&&M(g.canActivate)}(Te)?Te.canActivate(y,g):Z.runInContext(()=>Te(y,g))).pipe((0,Se.P)())}));return(0,P.of)(O).pipe(ci())}(g,O.route,f))),(0,Se.P)(O=>!0!==O,!0))}(I,U,g,y):(0,P.of)(Te)),(0,Yt.U)(Te=>({...f,guardsResult:Te})))})}(this.environmentInjector,Z=>this.events.next(Z)),(0,Be.b)(Z=>{if(I.guardsResult=Z.guardsResult,sn(Z.guardsResult))throw jr(0,Z.guardsResult);const Te=new Fo(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.events.next(Te)}),(0,_e.h)(Z=>!!Z.guardsResult||(f.restoreHistory(Z),this.cancelNavigationTransition(Z,"",3),!1)),Ei(Z=>{if(Z.guards.canActivateChecks.length)return(0,P.of)(Z).pipe((0,Be.b)(Te=>{const Ke=new De(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Ke)}),(0,Kt.w)(Te=>{let Ke=!1;return(0,P.of)(Te).pipe(function Jn(g,y){return(0,ye.z)(f=>{const{targetSnapshot:I,guards:{canActivateChecks:O}}=f;if(!O.length)return(0,P.of)(f);let U=0;return(0,B.D)(O).pipe(Ee(Z=>function xr(g,y,f,I){const O=g.routeConfig,U=g._resolve;return void 0!==O?.title&&!ei(O)&&(U[Tn]=O.title),function Ki(g,y,f,I){const O=function vi(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===O.length)return(0,P.of)({});const U={};return(0,B.D)(O).pipe((0,ye.z)(Z=>function vo(g,y,f,I){const O=ni(y)??I,U=po(g,O);return Tt(U.resolve?U.resolve(y,f):O.runInContext(()=>U(y,f)))}(g[Z],y,f,I).pipe((0,Se.P)(),(0,Be.b)(Te=>{U[Z]=Te}))),bt(1),function An(g){return(0,Yt.U)(()=>g)}(U),je(Z=>Gi(Z)?Ze.E:ot(Z)))}(U,g,y,I).pipe((0,Yt.U)(Z=>(g._resolvedData=Z,g.data=Xo(g,f).resolve,O&&ei(O)&&(g.data[Tn]=O.title),null)))}(Z.route,I,g,y)),(0,Be.b)(()=>U++),bt(1),(0,ye.z)(Z=>U===O.length?(0,P.of)(f):Ze.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,Be.b)({next:()=>Ke=!0,complete:()=>{Ke||(f.restoreHistory(Te),this.cancelNavigationTransition(Te,"",2))}}))}),(0,Be.b)(Te=>{const Ke=new ue(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Ke)}))}),Ei(Z=>{const Te=Ke=>{const It=[];Ke.routeConfig?.loadComponent&&!Ke.routeConfig._loadedComponent&&It.push(this.configLoader.loadComponent(Ke.routeConfig).pipe((0,Be.b)(Pt=>{Ke.component=Pt}),(0,Yt.U)(()=>{})));for(const Pt of Ke.children)It.push(...Te(Pt));return It};return We(Te(Z.targetSnapshot.root)).pipe((0,mt.d)(),(0,dt.q)(1))}),Ei(()=>this.afterPreactivation()),(0,Yt.U)(Z=>{const Te=function Ai(g,y,f){const I=ai(g,y._root,f?f._root:void 0);return new Qo(I,y)}(f.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return I={...Z,targetRouterState:Te}}),(0,Be.b)(Z=>{f.currentUrlTree=Z.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),f.routerState=Z.targetRouterState,"deferred"===f.urlUpdateStrategy&&(Z.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,Z),f.browserUrlTree=Z.urlAfterRedirects)}),((g,y,f)=>(0,Yt.U)(I=>(new dn(y,I.targetRouterState,I.currentRouterState,f).activate(g),I)))(this.rootContexts,f.routeReuseStrategy,Z=>this.events.next(Z)),(0,dt.q)(1),(0,Be.b)({next:Z=>{O=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new qr(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(Z.targetRouterState.snapshot),Z.resolve(!0)},complete:()=>{O=!0}}),$t(()=>{O||U||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),je(Z=>{if(U=!0,Pi(Z)){mr(Z)||(f.navigated=!0,f.restoreHistory(I,!0));const Te=new Fr(I.id,this.urlSerializer.serialize(I.extractedUrl),Z.message,Z.cancellationCode);if(this.events.next(Te),mr(Z)){const Ke=f.urlHandlingStrategy.merge(Z.url,f.rawUrlTree),It={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||Ta(I.source)};f.scheduleNavigation(Ke,Hr,null,It,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{f.restoreHistory(I,!0);const Te=new Nr(I.id,this.urlSerializer.serialize(I.extractedUrl),Z,I.targetSnapshot??void 0);this.events.next(Te);try{I.resolve(f.errorHandler(Z))}catch(Ke){I.reject(Ke)}}return Ze.E}))}))}cancelNavigationTransition(f,I,O){const U=new Fr(f.id,this.urlSerializer.serialize(f.extractedUrl),I,O);this.events.next(U),f.resolve(!1)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function Ta(g){return g!==Hr}let Zi=(()=>{class g{buildTitle(f){let I,O=f.root;for(;void 0!==O;)I=this.getResolvedTitleForRoute(O)??I,O=O.children.find(U=>U.outlet===Ct);return I}getResolvedTitleForRoute(f){return f.data[Tn]}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:function(){return(0,d.f3M)(Ll)},providedIn:"root"}),g})(),Ll=(()=>{class g extends Zi{constructor(f){super(),this.title=f}updateTitle(f){const I=this.buildTitle(f);void 0!==I&&this.title.setTitle(I)}}return g.\u0275fac=function(f){return new(f||g)(d.LFG(vn.Dx))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Fs=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:function(){return(0,d.f3M)(Ga)},providedIn:"root"}),g})();class Eo{shouldDetach(y){return!1}store(y,f){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,f){return y.routeConfig===f.routeConfig}}let Ga=(()=>{class g extends Eo{}return g.\u0275fac=function(){let y;return function(I){return(y||(y=d.n5z(g)))(I||g)}}(),g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const jo=new d.OlP("",{providedIn:"root",factory:()=>({})});let qs=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:function(){return(0,d.f3M)(Sa)},providedIn:"root"}),g})(),Sa=(()=>{class g{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,I){return f}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function za(g){throw g}function ca(g,y,f){return y.parse("/")}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ls={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(jo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||za,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ca,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(qs),this.routeReuseStrategy=(0,d.f3M)(Fs),this.urlCreationStrategy=(0,d.f3M)(wo),this.titleStrategy=(0,d.f3M)(Zi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wr((0,d.f3M)(di,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(ks),this.urlSerializer=(0,d.f3M)(sr),this.location=(0,d.f3M)(ft.Ye),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId??0},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const I="popstate"===f.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,I,f.state)},0)}))}navigateToSyncWithBrowser(f,I,O){const U={replaceUrl:!0},Z=O?.navigationId?O:null;if(O){const Ke={...O};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&(U.state=Ke)}const Te=this.parseUrl(f);this.scheduleNavigation(Te,I,Z,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(_i),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,I={}){const{relativeTo:O,queryParams:U,fragment:Z,queryParamsHandling:Te,preserveFragment:Ke}=I,It=Ke?this.currentUrlTree.fragment:Z;let Pt=null;switch(Te){case"merge":Pt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Pt=this.currentUrlTree.queryParams;break;default:Pt=U||null}return null!==Pt&&(Pt=this.removeEmptyProps(Pt)),this.urlCreationStrategy.createUrlTree(O,this.routerState,this.currentUrlTree,f,Pt,It??null)}navigateByUrl(f,I={skipLocationChange:!1}){const O=sn(f)?f:this.parseUrl(f),U=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(U,Hr,null,I)}navigate(f,I={skipLocationChange:!1}){return function Ka(g){for(let y=0;y<g.length;y++){const f=g[y];if(null==f)throw new d.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,I),I)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let I;try{I=this.urlSerializer.parse(f)}catch(O){I=this.malformedUriErrorHandler(O,this.urlSerializer,f)}return I}isActive(f,I){let O;if(O=!0===I?{...zr}:!1===I?{...Ls}:I,sn(f))return Zn(this.currentUrlTree,f,O);const U=this.parseUrl(f);return Zn(this.currentUrlTree,U,O)}removeEmptyProps(f){return Object.keys(f).reduce((I,O)=>{const U=f[O];return null!=U&&(I[O]=U),I},{})}scheduleNavigation(f,I,O,U,Z){if(this.disposed)return Promise.resolve(!1);let Te,Ke,It,Pt;return Z?(Te=Z.resolve,Ke=Z.reject,It=Z.promise):It=new Promise((mn,Zr)=>{Te=mn,Ke=Zr}),Pt="computed"===this.canceledNavigationResolution?O&&O.\u0275routerPageId?O.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Pt,source:I,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:U,resolve:Te,reject:Ke,promise:It,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),It.catch(mn=>Promise.reject(mn))}setBrowserUrl(f,I){const O=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(O)||I.extras.replaceUrl){const Z={...I.extras.state,...this.generateNgRouterState(I.id,this.browserPageId)};this.location.replaceState(O,"",Z)}else{const U={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.go(O,"",U)}}restoreHistory(f,I=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-(this.browserPageId??this.currentPageId);0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,I){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:I}:{navigationId:f}}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Mo=(()=>{class g{constructor(f,I,O,U,Z,Te){this.router=f,this.route=I,this.tabIndexAttribute=O,this.renderer=U,this.el=Z,this.locationStrategy=Te,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new zt.x;const Ke=Z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ke||"area"===Ke,this.isAnchorElement?this.subscription=f.events.subscribe(It=>{It instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,d.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,d.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,d.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,I,O,U,Z){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||I||O||U||Z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,I){const O=this.renderer,U=this.el.nativeElement;null!==I?O.setAttribute(U,f,I):O.removeAttribute(U,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return g.\u0275fac=function(f){return new(f||g)(d.Y36(Un),d.Y36(oi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ft.S$))},g.\u0275dir=d.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,I){1&f&&d.NdJ("click",function(U){return I.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&f&&d.uIk("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),g})(),Vs=(()=>{class g{get isActive(){return this._isActive}constructor(f,I,O,U,Z){this.router=f,this.element=I,this.renderer=O,this.cdr=U,this.link=Z,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=f.events.subscribe(Te=>{Te instanceof qr&&this.update()})}ngAfterContentInit(){(0,P.of)(this.links.changes,(0,P.of)(null)).pipe((0,He.J)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const f=[...this.links.toArray(),this.link].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,B.D)(f).pipe((0,He.J)()).subscribe(I=>{this._isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(f){const I=Array.isArray(f)?f:f.split(" ");this.classes=I.filter(O=>!!O)}ngOnChanges(f){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const f=this.hasActiveLinks();this._isActive!==f&&(this._isActive=f,this.cdr.markForCheck(),this.classes.forEach(I=>{f?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const I=function Cs(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&f.isActive(O.urlTree,I)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.links.some(f)}}return g.\u0275fac=function(f){return new(f||g)(d.Y36(Un),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Mo,8))},g.\u0275dir=d.lG2({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(f,I,O){if(1&f&&d.Suo(O,Mo,5),2&f){let U;d.iGM(U=d.CRH())&&(I.links=U)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]}),g})();class Is{}let yl=(()=>{class g{constructor(f,I,O,U,Z){this.router=f,this.injector=O,this.preloadingStrategy=U,this.loader=Z}setUpPreloading(){this.subscription=this.router.events.pipe((0,_e.h)(f=>f instanceof qr),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,I){const O=[];for(const U of I){U.providers&&!U._injector&&(U._injector=(0,d.MMx)(U.providers,f,`Route: ${U.path}`));const Z=U._injector??f,Te=U._loadedInjector??Z;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&O.push(this.preloadConfig(Z,U)),(U.children||U._loadedRoutes)&&O.push(this.processRoutes(Te,U.children??U._loadedRoutes))}return(0,B.D)(O).pipe((0,He.J)())}preloadConfig(f,I){return this.preloadingStrategy.preload(I,()=>{let O;O=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(f,I):(0,P.of)(null);const U=O.pipe((0,ye.z)(Z=>null===Z?(0,P.of)(void 0):(I._loadedRoutes=Z.routes,I._loadedInjector=Z.injector,this.processRoutes(Z.injector??f,Z.routes))));if(I.loadComponent&&!I._loadedComponent){const Z=this.loader.loadComponent(I);return(0,B.D)([U,Z]).pipe((0,He.J)())}return U})}}return g.\u0275fac=function(f){return new(f||g)(d.LFG(Un),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Is),d.LFG(Ns))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const $o=new d.OlP("");let ws=(()=>{class g{constructor(f,I,O,U,Z={}){this.urlSerializer=f,this.transitions=I,this.viewportScroller=O,this.zone=U,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof qr&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Dn&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,I){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dn(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(f){d.$Z()},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac}),g})();var ri=(()=>((ri=ri||{})[ri.COMPLETE=0]="COMPLETE",ri[ri.FAILED=1]="FAILED",ri[ri.REDIRECTING=2]="REDIRECTING",ri))();const Ro=!1;function Ni(g,y){return{\u0275kind:g,\u0275providers:y}}const Ya=new d.OlP("",{providedIn:"root",factory:()=>!1});function fa(){const g=(0,d.f3M)(d.zs3);return y=>{const f=g.get(d.z2F);if(y!==f.components[0])return;const I=g.get(Un),O=g.get(Qa);1===g.get(Qs)&&I.initialNavigation(),g.get(as,null,d.XFs.Optional)?.setUpPreloading(),g.get($o,null,d.XFs.Optional)?.init(),I.resetRootComponentType(f.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const Qa=new d.OlP(Ro?"bootstrap done indicator":"",{factory:()=>new zt.x}),Qs=new d.OlP(Ro?"initial navigation":"",{providedIn:"root",factory:()=>1});function Vl(){let g=[];return g=Ro?[{provide:d.Xts,multi:!0,useFactory:()=>{const y=(0,d.f3M)(Un);return()=>y.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(function hi(g){if(!("type"in g))return`Unknown Router Event: ${g.constructor.name}`;switch(g.type){case 14:return`ActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state}, shouldActivate: ${g.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 2:return`NavigationCancel(id: ${g.id}, url: '${g.url}')`;case 16:return`NavigationSkipped(id: ${g.id}, url: '${g.url}')`;case 1:return`NavigationEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${g.id}, url: '${g.url}', error: ${g.error})`;case 0:return`NavigationStart(id: ${g.id}, url: '${g.url}')`;case 6:return`ResolveEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 5:return`ResolveStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 10:return`RouteConfigLoadEnd(path: ${g.route.path})`;case 9:return`RouteConfigLoadStart(path: ${g.route.path})`;case 4:return`RoutesRecognized(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 15:return`Scroll(anchor: '${g.anchor}', position: '${g.position?`${g.position[0]}, ${g.position[1]}`:null}')`}}(f)),console.log(f),console.groupEnd?.()})}}]:[],Ni(1,g)}const as=new d.OlP(Ro?"router preloader":"");function Ul(g){return Ni(0,[{provide:as,useExisting:yl},{provide:Is,useExisting:g}])}const Wo=!1,Vr=new d.OlP(Wo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Po=[ft.Ye,{provide:sr,useClass:tr},Un,eo,{provide:oi,useFactory:function ha(g){return g.routerState.root},deps:[Un]},Ns,Wo?{provide:Ya,useValue:!0}:[]];function Xs(){return new d.PXZ("Router",Un)}let Yi=(()=>{class g{constructor(f){}static forRoot(f,I){return{ngModule:g,providers:[Po,Wo&&I?.enableTracing?Vl().\u0275providers:[],{provide:di,multi:!0,useValue:f},{provide:Vr,useFactory:ea,deps:[[Un,new d.FiY,new d.tp0]]},{provide:jo,useValue:I||{}},I?.useHash?{provide:ft.S$,useClass:ft.Do}:{provide:ft.S$,useClass:ft.b0},{provide:$o,useFactory:()=>{const g=(0,d.f3M)(ft.EM),y=(0,d.f3M)(d.R0b),f=(0,d.f3M)(jo),I=(0,d.f3M)(ks),O=(0,d.f3M)(sr);return f.scrollOffset&&g.setOffset(f.scrollOffset),new ws(O,I,g,y,f)}},I?.preloadingStrategy?Ul(I.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Xs},I?.initialNavigation?Pa(I):[],[{provide:Ci,useFactory:fa},{provide:d.tb,multi:!0,useExisting:Ci}]]}}static forChild(f){return{ngModule:g,providers:[{provide:di,multi:!0,useValue:f}]}}}return g.\u0275fac=function(f){return new(f||g)(d.LFG(Vr,8))},g.\u0275mod=d.oAB({type:g}),g.\u0275inj=d.cJS({imports:[li]}),g})();function ea(g){if(Wo&&g)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Pa(g){return["disabled"===g.initialNavigation?Ni(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const y=(0,d.f3M)(Un);return()=>{y.setUpLocationChangeListener()}}},{provide:Qs,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Ni(2,[{provide:Qs,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:y=>{const f=y.get(ft.V_,Promise.resolve());return()=>f.then(()=>new Promise(I=>{const O=y.get(Un),U=y.get(Qa);(function Us(g,y){g.events.pipe((0,_e.h)(f=>f instanceof qr||f instanceof Fr||f instanceof Nr||f instanceof Ti),(0,Yt.U)(f=>f instanceof qr||f instanceof Ti?ri.COMPLETE:f instanceof Fr&&(0===f.code||1===f.code)?ri.REDIRECTING:ri.FAILED),(0,_e.h)(f=>f!==ri.REDIRECTING),(0,dt.q)(1)).subscribe(()=>{y()})})(O,()=>{I(!0)}),y.get(ks).afterPreactivation=()=>(I(!0),U.closed?(0,P.of)(void 0):U),O.initialNavigation()}))}}]).\u0275providers:[]]}const Ci=new d.OlP(Wo?"Router Initializer":"")},3942:(vt,Ne,x)=>{x.d(Ne,{Z:()=>lt});var d=x(2090),B=x(4859),P=x(6881),ce=x(1877);class ae{constructor(He,Xe){this._delegate=He,this.firebase=Xe,(0,P._addComponent)(He,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(He,Xe=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(He);return!ut.isInitialized()&&"EXPLICIT"===(null===(et=ut.getComponent())||void 0===et?void 0:et.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Xe})}_removeServiceInstance(He,Xe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance(Xe)}_addComponent(He){(0,P._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,P._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ae(){const Et=function ve(Et){const He={},Xe={__esModule:!0,initializeApp:function ze(Ze,Re={}){const W=P.initializeApp(Ze,Re);if((0,d.r3)(He,W.name))return He[W.name];const kt=new Et(W,Xe);return He[W.name]=kt,kt},app:ut,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Ze){const Re=Ze.name,W=Re.replace("-compat","");if(P._registerComponent(Ze)&&"PUBLIC"===Ze.type){const kt=(ct=ut())=>{if("function"!=typeof ct[W])throw Ie.create("invalid-app-argument",{appName:Re});return ct[W]()};void 0!==Ze.serviceProps&&(0,d.ZB)(kt,Ze.serviceProps),Xe[W]=kt,Et.prototype[W]=function(...ct){return this._getService.bind(this,Re).apply(this,Ze.multipleInstances?ct:[])}}return"PUBLIC"===Ze.type?Xe[W]:null},removeApp:function et(Ze){delete He[Ze]},useAsService:function ot(Ze,Re){return"serverAuth"===Re?null:Re},modularAPIs:P}};function ut(Ze){if(!(0,d.r3)(He,Ze=Ze||P._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Ze});return He[Ze]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function Ye(){return Object.keys(He).map(Ze=>He[Ze])}}),ut.App=Et,Xe}(ae);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function He(Xe){(0,d.ZB)(Et,Xe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Et}(),oe=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=se;!function We(Et){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Et)}()},6881:(vt,Ne,x)=>{x.r(Ne),x.d(Ne,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>wr,_addComponent:()=>Tt,_addOrOverwriteComponent:()=>Lt,_apps:()=>En,_clearComponents:()=>yr,_components:()=>Ft,_getProvider:()=>er,_registerComponent:()=>or,_removeServiceInstance:()=>Zn,deleteApp:()=>Yn,getApp:()=>Qn,getApps:()=>pt,initializeApp:()=>ln,onLog:()=>ir,registerVersion:()=>Gn,setLogLevel:()=>sr});var d=x(5861),B=x(4859),P=x(1877),ce=x(2090);const ae=(Ve,Pe)=>Pe.some(at=>Ve instanceof at);let he,Ie;const se=new WeakMap,oe=new WeakMap,fe=new WeakMap,st=new WeakMap,We=new WeakMap;let He={get(Ve,Pe,at){if(Ve instanceof IDBTransaction){if("done"===Pe)return oe.get(Ve);if("objectStoreNames"===Pe)return Ve.objectStoreNames||fe.get(Ve);if("store"===Pe)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return ze(Ve[Pe])},set:(Ve,Pe,at)=>(Ve[Pe]=at,!0),has:(Ve,Pe)=>Ve instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in Ve};function ut(Ve){return"function"==typeof Ve?function et(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Pe){return Ve.apply(Ye(this),Pe),ze(se.get(this))}:function(...Pe){return ze(Ve.apply(Ye(this),Pe))}:function(Pe,...at){const Ot=Ve.call(Ye(this),Pe,...at);return fe.set(Ot,Pe.sort?Pe.sort():[Pe]),ze(Ot)}}(Ve):(Ve instanceof IDBTransaction&&function Et(Ve){if(oe.has(Ve))return;const Pe=new Promise((at,Ot)=>{const Zt=()=>{Ve.removeEventListener("complete",sn),Ve.removeEventListener("error",Vt),Ve.removeEventListener("abort",Vt)},sn=()=>{at(),Zt()},Vt=()=>{Ot(Ve.error||new DOMException("AbortError","AbortError")),Zt()};Ve.addEventListener("complete",sn),Ve.addEventListener("error",Vt),Ve.addEventListener("abort",Vt)});oe.set(Ve,Pe)}(Ve),ae(Ve,function ve(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,He):Ve)}function ze(Ve){if(Ve instanceof IDBRequest)return function lt(Ve){const Pe=new Promise((at,Ot)=>{const Zt=()=>{Ve.removeEventListener("success",sn),Ve.removeEventListener("error",Vt)},sn=()=>{at(ze(Ve.result)),Zt()},Vt=()=>{Ot(Ve.error),Zt()};Ve.addEventListener("success",sn),Ve.addEventListener("error",Vt)});return Pe.then(at=>{at instanceof IDBCursor&&se.set(at,Ve)}).catch(()=>{}),We.set(Pe,Ve),Pe}(Ve);if(st.has(Ve))return st.get(Ve);const Pe=ut(Ve);return Pe!==Ve&&(st.set(Ve,Pe),We.set(Pe,Ve)),Pe}const Ye=Ve=>We.get(Ve),Ze=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],W=new Map;function kt(Ve,Pe){if(!(Ve instanceof IDBDatabase)||Pe in Ve||"string"!=typeof Pe)return;if(W.get(Pe))return W.get(Pe);const at=Pe.replace(/FromIndex$/,""),Ot=Pe!==at,Zt=Re.includes(at);if(!(at in(Ot?IDBIndex:IDBObjectStore).prototype)||!Zt&&!Ze.includes(at))return;const sn=function(){var Vt=(0,d.Z)(function*(Pn,...gn){const Tr=this.transaction(Pn,Zt?"readwrite":"readonly");let vr=Tr.store;return Ot&&(vr=vr.index(gn.shift())),(yield Promise.all([vr[at](...gn),Zt&&Tr.done]))[0]});return function(gn){return Vt.apply(this,arguments)}}();return W.set(Pe,sn),sn}!function Xe(Ve){He=Ve(He)}(Ve=>({...Ve,get:(Pe,at,Ot)=>kt(Pe,at)||Ve.get(Pe,at,Ot),has:(Pe,at)=>!!kt(Pe,at)||Ve.has(Pe,at)}));class ct{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function zt(Ve){return"VERSION"===Ve.getComponent()?.type}(at)){const Ot=at.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(at=>at).join(" ")}}const ft="@firebase/app",Kt=new P.Yd("@firebase/app"),wr="[DEFAULT]",On={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Ft=new Map;function Tt(Ve,Pe){try{Ve.container.addComponent(Pe)}catch(at){Kt.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Ve.name}`,at)}}function Lt(Ve,Pe){Ve.container.addOrOverwriteComponent(Pe)}function or(Ve){const Pe=Ve.name;if(Ft.has(Pe))return Kt.debug(`There were multiple attempts to register component ${Pe}.`),!1;Ft.set(Pe,Ve);for(const at of En.values())Tt(at,Ve);return!0}function er(Ve,Pe){const at=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),Ve.container.getProvider(Pe)}function Zn(Ve,Pe,at=wr){er(Ve,Pe).clearInstance(at)}function yr(){Ft.clear()}const br=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(Pe,at,Ot){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Or="9.23.0";function ln(Ve,Pe={}){let at=Ve;"object"!=typeof Pe&&(Pe={name:Pe});const Ot=Object.assign({name:wr,automaticDataCollectionEnabled:!1},Pe),Zt=Ot.name;if("string"!=typeof Zt||!Zt)throw br.create("bad-app-name",{appName:String(Zt)});if(at||(at=(0,ce.aH)()),!at)throw br.create("no-options");const sn=En.get(Zt);if(sn){if((0,ce.vZ)(at,sn.options)&&(0,ce.vZ)(Ot,sn.config))return sn;throw br.create("duplicate-app",{appName:Zt})}const Vt=new B.H0(Zt);for(const gn of Ft.values())Vt.addComponent(gn);const Pn=new tn(at,Ot,Vt);return En.set(Zt,Pn),Pn}function Qn(Ve=wr){const Pe=En.get(Ve);if(!Pe&&Ve===wr&&(0,ce.aH)())return ln();if(!Pe)throw br.create("no-app",{appName:Ve});return Pe}function pt(){return Array.from(En.values())}function Yn(Ve){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(Ve){const Pe=Ve.name;En.has(Pe)&&(En.delete(Pe),yield Promise.all(Ve.container.getProviders().map(at=>at.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function Gn(Ve,Pe,at){var Ot;let Zt=null!==(Ot=On[Ve])&&void 0!==Ot?Ot:Ve;at&&(Zt+=`-${at}`);const sn=Zt.match(/\s|\//),Vt=Pe.match(/\s|\//);if(sn||Vt){const Pn=[`Unable to register library "${Zt}" with version "${Pe}":`];return sn&&Pn.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),sn&&Vt&&Pn.push("and"),Vt&&Pn.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Kt.warn(Pn.join(" "))}or(new B.wA(`${Zt}-version`,()=>({library:Zt,version:Pe}),"VERSION"))}function ir(Ve,Pe){if(null!==Ve&&"function"!=typeof Ve)throw br.create("invalid-log-argument");(0,P.Am)(Ve,Pe)}function sr(Ve){(0,P.Ub)(Ve)}const tr="firebase-heartbeat-database",lr=1,le="firebase-heartbeat-store";let re=null;function K(){return re||(re=function Qe(Ve,Pe,{blocked:at,upgrade:Ot,blocking:Zt,terminated:sn}={}){const Vt=indexedDB.open(Ve,Pe),Pn=ze(Vt);return Ot&&Vt.addEventListener("upgradeneeded",gn=>{Ot(ze(Vt.result),gn.oldVersion,gn.newVersion,ze(Vt.transaction),gn)}),at&&Vt.addEventListener("blocked",gn=>at(gn.oldVersion,gn.newVersion,gn)),Pn.then(gn=>{sn&&gn.addEventListener("close",()=>sn()),Zt&&gn.addEventListener("versionchange",Tr=>Zt(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),Pn}(tr,lr,{upgrade:(Ve,Pe)=>{0===Pe&&Ve.createObjectStore(le)}}).catch(Ve=>{throw br.create("idb-open",{originalErrorMessage:Ve.message})})),re}function j(){return(j=(0,d.Z)(function*(Ve){try{return yield(yield K()).transaction(le).objectStore(le).get(ne(Ve))}catch(Pe){if(Pe instanceof ce.ZR)Kt.warn(Pe.message);else{const at=br.create("idb-get",{originalErrorMessage:Pe?.message});Kt.warn(at.message)}}})).apply(this,arguments)}function pe(Ve,Pe){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(Ve,Pe){try{const Ot=(yield K()).transaction(le,"readwrite");yield Ot.objectStore(le).put(Pe,ne(Ve)),yield Ot.done}catch(at){if(at instanceof ce.ZR)Kt.warn(at.message);else{const Ot=br.create("idb-set",{originalErrorMessage:at?.message});Kt.warn(Ot.message)}}})).apply(this,arguments)}function ne(Ve){return`${Ve.name}!${Ve.options.appId}`}class Fe{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new jt(at),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Pe=this;return(0,d.Z)(function*(){const Ot=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=tt();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Pe._heartbeatsCache.heartbeats.some(sn=>sn.date===Zt))return Pe._heartbeatsCache.heartbeats.push({date:Zt,agent:Ot}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(sn=>{const Vt=new Date(sn.date).valueOf();return Date.now()-Vt<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,d.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const at=tt(),{heartbeatsToSend:Ot,unsentEntries:Zt}=function Rt(Ve,Pe=1024){const at=[];let Ot=Ve.slice();for(const Zt of Ve){const sn=at.find(Vt=>Vt.agent===Zt.agent);if(sn){if(sn.dates.push(Zt.date),Nn(at)>Pe){sn.dates.pop();break}}else if(at.push({agent:Zt.agent,dates:[Zt.date]}),Nn(at)>Pe){at.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:at,unsentEntries:Ot}}(Pe._heartbeatsCache.heartbeats),sn=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ot}));return Pe._heartbeatsCache.lastSentHeartbeatDate=at,Zt.length>0?(Pe._heartbeatsCache.heartbeats=Zt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),sn})()}}function tt(){return(new Date).toISOString().substring(0,10)}class jt{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,d.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function q(Ve){return j.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var at=this;return(0,d.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const sn=yield at.read();return pe(at.app,{lastSentHeartbeatDate:null!==(Ot=Pe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:sn.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var at=this;return(0,d.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const sn=yield at.read();return pe(at.app,{lastSentHeartbeatDate:null!==(Ot=Pe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Pe.heartbeats]})}})()}}function Nn(Ve){return(0,ce.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function pr(Ve){or(new B.wA("platform-logger",Pe=>new ct(Pe),"PRIVATE")),or(new B.wA("heartbeat",Pe=>new Fe(Pe),"PRIVATE")),Gn(ft,"0.9.13",Ve),Gn(ft,"0.9.13","esm2017"),Gn("fire-js","")}("")},4859:(vt,Ne,x)=>{x.d(Ne,{H0:()=>ve,wA:()=>P,zt:()=>ae});var d=x(5861),B=x(2090);class P{constructor(se,oe,fe){this.name=se,this.instanceFactory=oe,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ce="[DEFAULT]";class ae{constructor(se,oe){this.name=se,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const oe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(oe)){const fe=new B.BH;if(this.instancesDeferred.set(oe,fe),this.isInitialized(oe)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:oe});st&&fe.resolve(st)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(se){var oe;const fe=this.normalizeInstanceIdentifier(se?.identifier),st=null!==(oe=se?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(We){if(st)return null;throw We}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Ie(Ae){return"EAGER"===Ae.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[oe,fe]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(oe);try{const We=this.getOrInitializeService({instanceIdentifier:st});fe.resolve(We)}catch{}}}}clearInstance(se=ce){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,d.Z)(function*(){const oe=Array.from(se.instances.values());yield Promise.all([...oe.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...oe.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ce){return this.instances.has(se)}getOptions(se=ce){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:oe={}}=se,fe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:fe,options:oe});for(const[We,lt]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(We)&&lt.resolve(st);return st}onInit(se,oe){var fe;const st=this.normalizeInstanceIdentifier(oe),We=null!==(fe=this.onInitCallbacks.get(st))&&void 0!==fe?fe:new Set;We.add(se),this.onInitCallbacks.set(st,We);const lt=this.instances.get(st);return lt&&se(lt,st),()=>{We.delete(se)}}invokeOnInitCallbacks(se,oe){const fe=this.onInitCallbacks.get(oe);if(fe)for(const st of fe)try{st(se,oe)}catch{}}getOrInitializeService({instanceIdentifier:se,options:oe={}}){let fe=this.instances.get(se);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=se,Ae===ce?void 0:Ae),options:oe}),this.instances.set(se,fe),this.instancesOptions.set(se,oe),this.invokeOnInitCallbacks(fe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,fe)}catch{}var Ae;return fe||null}normalizeInstanceIdentifier(se=ce){return this.component?this.component.multipleInstances?se:ce:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const oe=this.getProvider(se.name);if(oe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);oe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const oe=new ae(se,this);return this.providers.set(se,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ne,x)=>{x.d(Ne,{Am:()=>Ae,Ub:()=>ve,Yd:()=>Ie,in:()=>B});const d=[];var B=(()=>{return(se=B||(B={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",B;var se})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ce=B.INFO,ae={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},he=(se,oe,...fe)=>{if(oe<se.logLevel)return;const st=(new Date).toISOString(),We=ae[oe];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[We](`[${st}]  ${se.name}:`,...fe)};class Ie{constructor(oe){this.name=oe,this._logLevel=ce,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in B))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?P[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...oe),this._logHandler(this,B.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...oe),this._logHandler(this,B.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,B.INFO,...oe),this._logHandler(this,B.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,B.WARN,...oe),this._logHandler(this,B.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...oe),this._logHandler(this,B.ERROR,...oe)}}function ve(se){d.forEach(oe=>{oe.setLogLevel(se)})}function Ae(se,oe){for(const fe of d){let st=null;oe&&oe.level&&(st=P[oe.level]),fe.userLogHandler=null===se?null:(We,lt,...Et)=>{const He=Et.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch{return null}}).filter(Xe=>Xe).join(" ");lt>=(st??We.logLevel)&&se({level:B[lt].toLowerCase(),message:He,args:Et,type:We.name})}}}},259:(vt,Ne,x)=>{x.d(Ne,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=x(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(vt,Ne,x)=>{x.d(Ne,{Z:()=>d.Z});var d=x(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(vt,Ne,x)=>{x.r(Ne);var d=x(5861),B=x(3942),P=x(1389),ce=x(2090),Ie=(x(6881),x(1877),x(4859));function ve(){return window}const Ae=2e3;function oe(){return oe=(0,d.Z)(function*(K,q,j){var pe;const{BuildInfo:ee}=ve();(0,P.as)(q.sessionId,"AuthEvent did not contain a session ID");const ne=yield function Xe(K){return et.apply(this,arguments)}(q.sessionId),Q={};return(0,P.at)()?Q.ibi=ee.packageName:(0,P.au)()?Q.apn=ee.packageName:(0,P.av)(K,"operation-not-supported-in-this-environment"),ee.displayName&&(Q.appDisplayName=ee.displayName),Q.sessionId=ne,(0,P.aw)(K,j,q.type,void 0,null!==(pe=q.eventId)&&void 0!==pe?pe:void 0,Q)}),oe.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(K){const{BuildInfo:q}=ve(),j={};(0,P.at)()?j.iosBundleId=q.packageName:(0,P.au)()?j.androidPackageName=q.packageName:(0,P.av)(K,"operation-not-supported-in-this-environment"),yield(0,P.ax)(K,j)})).apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(K,q,j){const{cordova:pe}=ve();let ee=()=>{};try{yield new Promise((ne,Q)=>{let me=null;function Fe(){var jt;ne();const Nn=null===(jt=pe.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Nn&&Nn(),"function"==typeof j?.close&&j.close()}function tt(){me||(me=window.setTimeout(()=>{Q((0,P.az)(K,"redirect-cancelled-by-user"))},Ae))}function Rt(){"visible"===document?.visibilityState&&tt()}q.addPassiveListener(Fe),document.addEventListener("resume",tt,!1),(0,P.au)()&&document.addEventListener("visibilitychange",Rt,!1),ee=()=>{q.removePassiveListener(Fe),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",Rt,!1),me&&window.clearTimeout(me)}})}finally{ee()}})).apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(K){const q=function ut(K){if((0,P.as)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const q=new ArrayBuffer(K.length),j=new Uint8Array(q);for(let pe=0;pe<K.length;pe++)j[pe]=K.charCodeAt(pe);return j}(K),j=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(j)).map(ee=>ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ze=20;class Ye extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(q)),super.onEvent(q)}initialized(){var q=this;return(0,d.Z)(function*(){yield q.initPromise})()}}function Ze(K){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(K){const q=yield ct()._get(zt(K));return q&&(yield ct()._remove(zt(K))),q})).apply(this,arguments)}function kt(){const K=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<ze;j++){const pe=Math.floor(Math.random()*q.length);K.push(q.charAt(pe))}return K.join("")}function ct(){return(0,P.aC)(P.b)}function zt(K){return(0,P.aD)("authEvent",K.config.apiKey,K.name)}function Kt(K){if(!K?.includes("?"))return{};const[q,...j]=K.split("?");return(0,ce.zd)(j.join("?"))}const _e=class Rn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(q){var j=this;return(0,d.Z)(function*(){const pe=q._key();let ee=j.eventManagers.get(pe);return ee||(ee=new Ye(q),j.eventManagers.set(pe,ee),j.attachCallbackListeners(q,ee)),ee})()}_openPopup(q){(0,P.av)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,j,pe,ee){var ne=this;return(0,d.Z)(function*(){!function He(K){var q,j,pe,ee,ne,Q,me,Fe,tt,Rt;const jt=ve();(0,P.aA)("function"==typeof(null===(q=jt?.universalLinks)||void 0===q?void 0:q.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(j=jt?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(ne=null===(ee=null===(pe=jt?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===ne?void 0:ne.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Fe=null===(me=null===(Q=jt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===me?void 0:me.browsertab)||void 0===Fe?void 0:Fe.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Rt=null===(tt=jt?.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===Rt?void 0:Rt.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Q=yield ne._initialize(q);yield Q.initialized(),Q.resetRedirect(),(0,P.aG)(),yield ne._originValidation(q);const me=function Qe(K,q,j=null){return{type:q,eventId:j,urlResponse:null,sessionId:kt(),postBody:null,tenantId:K.tenantId,error:(0,P.az)(K,"no-auth-event")}}(q,pe,ee);yield function ot(K,q){return ct()._set(zt(K),q)}(q,me);const Fe=yield function se(K,q,j){return oe.apply(this,arguments)}(q,me,j),tt=yield function We(K){const{cordova:q}=ve();return new Promise(j=>{q.plugins.browsertab.isAvailable(pe=>{let ee=null;pe?q.plugins.browsertab.openUrl(K):ee=q.InAppBrowser.open(K,(0,P.ay)()?"_blank":"_system","location=yes"),j(ee)})})}(Fe);return function lt(K,q,j){return Et.apply(this,arguments)}(q,Q,tt)})()}_isIframeWebStorageSupported(q,j){throw new Error("Method not implemented.")}_originValidation(q){const j=q._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function fe(K){return st.apply(this,arguments)}(q)),this.originValidationPromises[j]}attachCallbackListeners(q,j){const{universalLinks:pe,handleOpenURL:ee,BuildInfo:ne}=ve(),Q=setTimeout((0,d.Z)(function*(){yield Ze(q),j.onEvent(ye())}),500),me=function(){var Rt=(0,d.Z)(function*(jt){clearTimeout(Q);const Nn=yield Ze(q);let pr=null;Nn&&jt?.url&&(pr=function W(K,q){var j,pe;const ee=function Yt(K){const q=Kt(K),j=q.link?decodeURIComponent(q.link):void 0,pe=Kt(j).link,ee=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Kt(ee).link||ee||pe||j||K}(q);if(ee.includes("/__/auth/callback")){const ne=Kt(ee),Q=ne.firebaseError?function ft(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,me=null===(pe=null===(j=Q?.code)||void 0===j?void 0:j.split("auth/"))||void 0===pe?void 0:pe[1],Fe=me?(0,P.az)(me):null;return Fe?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:ee,postBody:null}}return null}(Nn,jt.url)),j.onEvent(pr||ye())});return function(Nn){return Rt.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,me);const Fe=ee,tt=`${ne.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Rt=(0,d.Z)(function*(jt){if(jt.toLowerCase().startsWith(tt)&&me({url:jt}),"function"==typeof Fe)try{Fe(jt)}catch(Nn){console.error(Nn)}});return function(jt){return Rt.apply(this,arguments)}}()}};function ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}const je=1e3;function _t(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function rn(K=(0,ce.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function $t(){try{const K=self.localStorage,q=P.aL();if(K)return K.setItem(q,"1"),K.removeItem(q),!function An(K=(0,ce.z$)()){return function Xt(){return(0,ce.w1)()&&11===document?.documentMode}()||function bn(K=(0,ce.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,ce.hl)()}catch{return vn()&&(0,ce.hl)()}return!1}function vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ct(){return(function bt(){return"http:"===_t()||"https:"===_t()}()||(0,ce.ru)()||rn())&&!function mt(){return(0,ce.b$)()||(0,ce.UG)()}()&&$t()&&!vn()}function Tn(){return rn()&&typeof document<"u"}function Jt(){return(Jt=(0,d.Z)(function*(){return!!Tn()&&new Promise(K=>{const q=setTimeout(()=>{K(!1)},je);document.addEventListener("deviceready",()=>{clearTimeout(q),K(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},kn=P.aA,Xn="persistence";function On(K){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(K){yield K._initializationPromise;const q=Tt(),j=P.aD(Xn,K.config.apiKey,K.name);q&&q.setItem(j,K._getPersistence())})).apply(this,arguments)}function Tt(){var K;try{return(null===(K=function gt(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Lt=P.aA;class or{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(_e),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(q){var j=this;return(0,d.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,j,pe,ee){var ne=this;return(0,d.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(q,j,pe,ee)})()}_openRedirect(q,j,pe,ee){var ne=this;return(0,d.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(q,j,pe,ee)})()}_isIframeWebStorageSupported(q,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,j)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Tn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,d.Z)(function*(){if(q.underlyingResolver)return;const j=yield function en(){return Jt.apply(this,arguments)}();q.underlyingResolver=j?q.cordovaResolver:q.browserResolver})()}}function er(K){return K.unwrap()}function yr(K){return br(K)}function br(K){const{_tokenResponse:q}=K instanceof ce.ZR?K.customData:K;if(!q)return null;if(!(K instanceof ce.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return P.P.credentialFromResult(K);const j=q.providerId;if(!j||j===P.p.PASSWORD)return null;let pe;switch(j){case P.p.GOOGLE:pe=P.V;break;case P.p.FACEBOOK:pe=P.U;break;case P.p.GITHUB:pe=P.W;break;case P.p.TWITTER:pe=P.Z;break;default:const{oauthIdToken:ee,oauthAccessToken:ne,oauthTokenSecret:Q,pendingToken:me,nonce:Fe}=q;return ne||Q||ee||me?me?j.startsWith("saml.")?P.aO._create(j,me):P.L._fromParams({providerId:j,signInMethod:j,pendingToken:me,idToken:ee,accessToken:ne}):new P.X(j).credential({idToken:ee,accessToken:ne,rawNonce:Fe}):null}return K instanceof ce.ZR?pe.credentialFromError(K):pe.credentialFromResult(K)}function tn(K,q){return q.catch(j=>{throw j instanceof ce.ZR&&function Hn(K,q){var j;const pe=null===(j=q.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===q?.code)q.resolver=new Qn(K,P.aq(K,q));else if(pe){const ee=br(q),ne=q;ee&&(ne.credential=ee,ne.tenantId=pe.tenantId||void 0,ne.email=pe.email||void 0,ne.phoneNumber=pe.phoneNumber||void 0)}}(K,j),j}).then(j=>{const ee=j.user;return{operationType:j.operationType,credential:yr(j),additionalUserInfo:P.ao(j),user:pt.getOrCreate(ee)}})}function Or(K,q){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(K,q){const j=yield q;return{verificationId:j.verificationId,confirm:pe=>tn(K,j.confirm(pe))}})).apply(this,arguments)}class Qn{constructor(q,j){this.resolver=j,this.auth=function Zn(K){return K.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return tn(er(this.auth),this.resolver.resolveSignIn(q))}}class pt{constructor(q){this._delegate=q,this.multiFactor=P.ar(q)}static getOrCreate(q){return pt.USER_MAP.has(q)||pt.USER_MAP.set(q,new pt(q)),pt.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var j=this;return(0,d.Z)(function*(){return tn(j.auth,P.a0(j._delegate,q))})()}linkWithPhoneNumber(q,j){var pe=this;return(0,d.Z)(function*(){return Or(pe.auth,P.l(pe._delegate,q,j))})()}linkWithPopup(q){var j=this;return(0,d.Z)(function*(){return tn(j.auth,P.d(j._delegate,q,or))})()}linkWithRedirect(q){var j=this;return(0,d.Z)(function*(){return yield On(P.aH(j.auth)),P.g(j._delegate,q,or)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var j=this;return(0,d.Z)(function*(){return tn(j.auth,P.a1(j._delegate,q))})()}reauthenticateWithPhoneNumber(q,j){return Or(this.auth,P.r(this._delegate,q,j))}reauthenticateWithPopup(q){return tn(this.auth,P.e(this._delegate,q,or))}reauthenticateWithRedirect(q){var j=this;return(0,d.Z)(function*(){return yield On(P.aH(j.auth)),P.h(j._delegate,q,or)})()}sendEmailVerification(q){return P.ae(this._delegate,q)}unlink(q){var j=this;return(0,d.Z)(function*(){return yield P.an(j._delegate,q),j})()}updateEmail(q){return P.aj(this._delegate,q)}updatePassword(q){return P.ak(this._delegate,q)}updatePhoneNumber(q){return P.u(this._delegate,q)}updateProfile(q){return P.ai(this._delegate,q)}verifyBeforeUpdateEmail(q,j){return P.af(this._delegate,q,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const Yn=P.aA;let rr=(()=>{class K{constructor(j,pe){if(this.app=j,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ee}=j.options;Yn(ee,"invalid-api-key",{appName:j.name}),Yn(ee,"invalid-api-key",{appName:j.name});const ne=typeof window<"u"?or:void 0;this._delegate=pe.initialize({options:{persistence:ir(ee,j.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,pe){P.I(this._delegate,j,pe)}applyActionCode(j){return P.a5(this._delegate,j)}checkActionCode(j){return P.a6(this._delegate,j)}confirmPasswordReset(j,pe){return P.a4(this._delegate,j,pe)}createUserWithEmailAndPassword(j,pe){var ee=this;return(0,d.Z)(function*(){return tn(ee._delegate,P.a8(ee._delegate,j,pe))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return P.ad(this._delegate,j)}isSignInWithEmailLink(j){return P.ab(this._delegate,j)}getRedirectResult(){var j=this;return(0,d.Z)(function*(){Yn(Ct(),j._delegate,"operation-not-supported-in-this-environment");const pe=yield P.j(j._delegate,or);return pe?tn(j._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function Se(K,q){(0,P.aH)(K)._logFramework(q)}(this._delegate,j)}onAuthStateChanged(j,pe,ee){const{next:ne,error:Q,complete:me}=Gn(j,pe,ee);return this._delegate.onAuthStateChanged(ne,Q,me)}onIdTokenChanged(j,pe,ee){const{next:ne,error:Q,complete:me}=Gn(j,pe,ee);return this._delegate.onIdTokenChanged(ne,Q,me)}sendSignInLinkToEmail(j,pe){return P.aa(this._delegate,j,pe)}sendPasswordResetEmail(j,pe){return P.a3(this._delegate,j,pe||void 0)}setPersistence(j){var pe=this;return(0,d.Z)(function*(){let ee;switch(function wr(K,q){kn(Object.values(hn).includes(q),K,"invalid-persistence-type"),(0,ce.b$)()?kn(q!==hn.SESSION,K,"unsupported-persistence-type"):(0,ce.UG)()?kn(q===hn.NONE,K,"unsupported-persistence-type"):vn()?kn(q===hn.NONE||q===hn.LOCAL&&(0,ce.hl)(),K,"unsupported-persistence-type"):kn(q===hn.NONE||$t(),K,"unsupported-persistence-type")}(pe._delegate,j),j){case hn.SESSION:ee=P.a;break;case hn.LOCAL:ee=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case hn.NONE:ee=P.N;break;default:return P.av("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(ee)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return tn(this._delegate,P._(this._delegate))}signInWithCredential(j){return tn(this._delegate,P.$(this._delegate,j))}signInWithCustomToken(j){return tn(this._delegate,P.a2(this._delegate,j))}signInWithEmailAndPassword(j,pe){return tn(this._delegate,P.a9(this._delegate,j,pe))}signInWithEmailLink(j,pe){return tn(this._delegate,P.ac(this._delegate,j,pe))}signInWithPhoneNumber(j,pe){return Or(this._delegate,P.s(this._delegate,j,pe))}signInWithPopup(j){var pe=this;return(0,d.Z)(function*(){return Yn(Ct(),pe._delegate,"operation-not-supported-in-this-environment"),tn(pe._delegate,P.c(pe._delegate,j,or))})()}signInWithRedirect(j){var pe=this;return(0,d.Z)(function*(){return Yn(Ct(),pe._delegate,"operation-not-supported-in-this-environment"),yield On(pe._delegate),P.f(pe._delegate,j,or)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return P.a7(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=hn,K})();function Gn(K,q,j){let pe=K;"function"!=typeof K&&({next:pe,error:q,complete:j}=K);const ee=pe;return{next:Q=>ee(Q&&pt.getOrCreate(Q)),error:q,complete:j}}function ir(K,q){const j=function Ft(K,q){const j=Tt();if(!j)return[];const pe=P.aD(Xn,K,q);switch(j.getItem(pe)){case hn.NONE:return[P.N];case hn.LOCAL:return[P.i,P.a];case hn.SESSION:return[P.a];default:return[]}}(K,q);if(typeof self<"u"&&!j.includes(P.i)&&j.push(P.i),typeof window<"u")for(const pe of[P.b,P.a])j.includes(pe)||j.push(pe);return j.includes(P.N)||j.push(P.N),j}class sr{constructor(){this.providerId="phone",this._delegate=new P.P(er(B.Z.auth()))}static credential(q,j){return P.P.credential(q,j)}verifyPhoneNumber(q,j){return this._delegate.verifyPhoneNumber(q,j)}unwrap(){return this._delegate}}sr.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,sr.PROVIDER_ID=P.P.PROVIDER_ID;const tr=P.aA;class lr{constructor(q,j,pe=B.Z.app()){var ee;tr(null===(ee=pe.options)||void 0===ee?void 0:ee.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new P.R(q,j,pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(K){K.INTERNAL.registerComponent(new Ie.wA("auth-compat",q=>{const j=q.getProvider("app-compat").getImmediate(),pe=q.getProvider("auth");return new rr(j,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:sr,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:lr,TwitterAuthProvider:P.Z,Auth:rr,AuthCredential:P.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(vt,Ne,x)=>{function d(P,ce,ae,he,Ie,ve,Ae){try{var se=P[ve](Ae),oe=se.value}catch(fe){return void ae(fe)}se.done?ce(oe):Promise.resolve(oe).then(he,Ie)}function B(P){return function(){var ce=this,ae=arguments;return new Promise(function(he,Ie){var ve=P.apply(ce,ae);function Ae(oe){d(ve,he,Ie,Ae,se,"next",oe)}function se(oe){d(ve,he,Ie,Ae,se,"throw",oe)}Ae(void 0)})}}x.d(Ne,{Z:()=>B})},7582:(vt,Ne,x)=>{function ce(_e,ye){var Se={};for(var Ee in _e)Object.prototype.hasOwnProperty.call(_e,Ee)&&ye.indexOf(Ee)<0&&(Se[Ee]=_e[Ee]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Ee=Object.getOwnPropertySymbols(_e);Be<Ee.length;Be++)ye.indexOf(Ee[Be])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ee[Be])&&(Se[Ee[Be]]=_e[Ee[Be]])}return Se}function fe(_e,ye,Se,Ee){return new(Se||(Se=Promise))(function(je,_t){function bt(Xt){try{mt(Ee.next(Xt))}catch(bn){_t(bn)}}function rn(Xt){try{mt(Ee.throw(Xt))}catch(bn){_t(bn)}}function mt(Xt){Xt.done?je(Xt.value):function Be(je){return je instanceof Se?je:new Se(function(_t){_t(je)})}(Xt.value).then(bt,rn)}mt((Ee=Ee.apply(_e,ye||[])).next())})}function ze(_e){return this instanceof ze?(this.v=_e,this):new ze(_e)}function Ye(_e,ye,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ee=Se.apply(_e,ye||[]),je=[];return Be={},bt("next"),bt("throw"),bt("return",function _t($t){return function(vn){return Promise.resolve(vn).then($t,bn)}}),Be[Symbol.asyncIterator]=function(){return this},Be;function bt($t,vn){Ee[$t]&&(Be[$t]=function(Ct){return new Promise(function(Tn,en){je.push([$t,Ct,Tn,en])>1||rn($t,Ct)})},vn&&(Be[$t]=vn(Be[$t])))}function rn($t,vn){try{!function mt($t){$t.value instanceof ze?Promise.resolve($t.value.v).then(Xt,bn):An(je[0][2],$t)}(Ee[$t](vn))}catch(Ct){An(je[0][3],Ct)}}function Xt($t){rn("next",$t)}function bn($t){rn("throw",$t)}function An($t,vn){$t(vn),je.shift(),je.length&&rn(je[0][0],je[0][1])}}function ot(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ye=_e[Symbol.asyncIterator];return ye?ye.call(_e):(_e=function Et(_e){var ye="function"==typeof Symbol&&Symbol.iterator,Se=ye&&_e[ye],Ee=0;if(Se)return Se.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ee>=_e.length&&(_e=void 0),{value:_e&&_e[Ee++],done:!_e}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Se={},Ee("next"),Ee("throw"),Ee("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ee(je){Se[je]=_e[je]&&function(_t){return new Promise(function(bt,rn){!function Be(je,_t,bt,rn){Promise.resolve(rn).then(function(mt){je({value:mt,done:bt})},_t)}(bt,rn,(_t=_e[je](_t)).done,_t.value)})}}}x.d(Ne,{FC:()=>Ye,KL:()=>ot,_T:()=>ce,mG:()=>fe,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=3843)}]);